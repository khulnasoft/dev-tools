"use strict";var VE=Object.create;var ds=Object.defineProperty;var zE=Object.getOwnPropertyDescriptor;var qE=Object.getOwnPropertyNames;var WE=Object.getPrototypeOf,GE=Object.prototype.hasOwnProperty;var HE=(e,r,t)=>r in e?ds(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var se=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),JE=(e,r)=>{for(var t in r)ds(e,t,{get:r[t],enumerable:!0})},yd=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of qE(r))!GE.call(e,i)&&i!==t&&ds(e,i,{get:()=>r[i],enumerable:!(n=zE(r,i))||n.enumerable});return e};var K=(e,r,t)=>(t=e!=null?VE(WE(e)):{},yd(r||!e||!e.__esModule?ds(t,"default",{value:e,enumerable:!0}):t,e)),YE=e=>yd(ds({},"__esModule",{value:!0}),e);var Dd=(e,r,t)=>HE(e,typeof r!="symbol"?r+"":r,t);var xd=se((BF,bd)=>{function Il(e){return e==null?[]:Array.isArray(e)?e:[e]}function XE(e,r,t,n){var i,s=e[r],o=~n.string.indexOf(r)?t==null||t===!0?"":String(t):typeof t=="boolean"?t:~n.boolean.indexOf(r)?t==="false"?!1:t==="true"||(e._.push((i=+t,i*0===0?i:t)),!!t):(i=+t,i*0===0?i:t);e[r]=s==null?o:Array.isArray(s)?s.concat(o):[s,o]}bd.exports=function(e,r){e=e||[],r=r||{};var t,n,i,s,o,a={_:[]},l=0,u=0,c=0,p=e.length;let d=r.alias!==void 0,f=r.unknown!==void 0,m=r.default!==void 0;if(r.alias=r.alias||{},r.string=Il(r.string),r.boolean=Il(r.boolean),d)for(t in r.alias)for(n=r.alias[t]=Il(r.alias[t]),l=0;l<n.length;l++)(r.alias[n[l]]=n.concat(t)).splice(l,1);for(l=r.boolean.length;l-- >0;)for(n=r.alias[r.boolean[l]]||[],u=n.length;u-- >0;)r.boolean.push(n[u]);for(l=r.string.length;l-- >0;)for(n=r.alias[r.string[l]]||[],u=n.length;u-- >0;)r.string.push(n[u]);if(m){for(t in r.default)if(s=typeof r.default[t],n=r.alias[t]=r.alias[t]||[],r[s]!==void 0)for(r[s].push(t),l=0;l<n.length;l++)r[s].push(n[l])}let h=f?Object.keys(r.alias):[];for(l=0;l<p;l++){if(i=e[l],i==="--"){a._=a._.concat(e.slice(++l));break}for(u=0;u<i.length&&i.charCodeAt(u)===45;u++);if(u===0)a._.push(i);else if(i.substring(u,u+3)==="no-"){if(s=i.substring(u+3),f&&!~h.indexOf(s))return r.unknown(i);a[s]=!1}else{for(c=u+1;c<i.length&&i.charCodeAt(c)!==61;c++);for(s=i.substring(u,c),o=i.substring(++c)||l+1===p||(""+e[l+1]).charCodeAt(0)===45||e[++l],n=u===2?[s]:s,c=0;c<n.length;c++){if(s=n[c],f&&!~h.indexOf(s))return r.unknown("-".repeat(u)+s);XE(a,s,c+1<n.length||o,r)}}}if(m)for(t in r.default)a[t]===void 0&&(a[t]=r.default[t]);if(d)for(t in a)for(n=r.alias[t]||[];n.length>0;)a[n.shift()]=a[t];return a}});var To=se((UF,Sd)=>{"use strict";var kl="\x1B",He=`${kl}[`,QE="\x07",Ol={to(e,r){return r?`${He}${r+1};${e+1}H`:`${He}${e+1}G`},move(e,r){let t="";return e<0?t+=`${He}${-e}D`:e>0&&(t+=`${He}${e}C`),r<0?t+=`${He}${-r}A`:r>0&&(t+=`${He}${r}B`),t},up:(e=1)=>`${He}${e}A`,down:(e=1)=>`${He}${e}B`,forward:(e=1)=>`${He}${e}C`,backward:(e=1)=>`${He}${e}D`,nextLine:(e=1)=>`${He}E`.repeat(e),prevLine:(e=1)=>`${He}F`.repeat(e),left:`${He}G`,hide:`${He}?25l`,show:`${He}?25h`,save:`${kl}7`,restore:`${kl}8`},ZE={up:(e=1)=>`${He}S`.repeat(e),down:(e=1)=>`${He}T`.repeat(e)},eC={screen:`${He}2J`,up:(e=1)=>`${He}1J`.repeat(e),down:(e=1)=>`${He}J`.repeat(e),line:`${He}2K`,lineEnd:`${He}K`,lineStart:`${He}1K`,lines(e){let r="";for(let t=0;t<e;t++)r+=this.line+(t<e-1?Ol.up():"");return e&&(r+=Ol.left),r}};Sd.exports={cursor:Ol,scroll:ZE,erase:eC,beep:QE}});var Ze=se((jF,Rl)=>{var vo=process||{},wd=vo.argv||[],Ao=vo.env||{},tC=!(Ao.NO_COLOR||wd.includes("--no-color"))&&(!!Ao.FORCE_COLOR||wd.includes("--color")||vo.platform==="win32"||(vo.stdout||{}).isTTY&&Ao.TERM!=="dumb"||!!Ao.CI),rC=(e,r,t=e)=>n=>{let i=""+n,s=i.indexOf(r,e.length);return~s?e+nC(i,r,t,s)+r:e+i+r},nC=(e,r,t,n)=>{let i="",s=0;do i+=e.substring(s,n)+t,s=n+r.length,n=e.indexOf(r,s);while(~n);return i+e.substring(s)},Td=(e=tC)=>{let r=e?rC:()=>String;return{isColorSupported:e,reset:r("\x1B[0m","\x1B[0m"),bold:r("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"),dim:r("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),italic:r("\x1B[3m","\x1B[23m"),underline:r("\x1B[4m","\x1B[24m"),inverse:r("\x1B[7m","\x1B[27m"),hidden:r("\x1B[8m","\x1B[28m"),strikethrough:r("\x1B[9m","\x1B[29m"),black:r("\x1B[30m","\x1B[39m"),red:r("\x1B[31m","\x1B[39m"),green:r("\x1B[32m","\x1B[39m"),yellow:r("\x1B[33m","\x1B[39m"),blue:r("\x1B[34m","\x1B[39m"),magenta:r("\x1B[35m","\x1B[39m"),cyan:r("\x1B[36m","\x1B[39m"),white:r("\x1B[37m","\x1B[39m"),gray:r("\x1B[90m","\x1B[39m"),bgBlack:r("\x1B[40m","\x1B[49m"),bgRed:r("\x1B[41m","\x1B[49m"),bgGreen:r("\x1B[42m","\x1B[49m"),bgYellow:r("\x1B[43m","\x1B[49m"),bgBlue:r("\x1B[44m","\x1B[49m"),bgMagenta:r("\x1B[45m","\x1B[49m"),bgCyan:r("\x1B[46m","\x1B[49m"),bgWhite:r("\x1B[47m","\x1B[49m"),blackBright:r("\x1B[90m","\x1B[39m"),redBright:r("\x1B[91m","\x1B[39m"),greenBright:r("\x1B[92m","\x1B[39m"),yellowBright:r("\x1B[93m","\x1B[39m"),blueBright:r("\x1B[94m","\x1B[39m"),magentaBright:r("\x1B[95m","\x1B[39m"),cyanBright:r("\x1B[96m","\x1B[39m"),whiteBright:r("\x1B[97m","\x1B[39m"),bgBlackBright:r("\x1B[100m","\x1B[49m"),bgRedBright:r("\x1B[101m","\x1B[49m"),bgGreenBright:r("\x1B[102m","\x1B[49m"),bgYellowBright:r("\x1B[103m","\x1B[49m"),bgBlueBright:r("\x1B[104m","\x1B[49m"),bgMagentaBright:r("\x1B[105m","\x1B[49m"),bgCyanBright:r("\x1B[106m","\x1B[49m"),bgWhiteBright:r("\x1B[107m","\x1B[49m")}};Rl.exports=Td();Rl.exports.createColors=Td});var Wl=se((n_,Yd)=>{"use strict";Yd.exports=function(){if(process.env.npm_config_user_agent)return UC(process.env.npm_config_user_agent)};function UC(e){let r=e.split(" ")[0],t=r.lastIndexOf("/"),n=r.substring(0,t);return{name:n==="npminstall"?"cnpm":n,version:r.substring(t+1)}}});var wm=se((BR,qo)=>{qo.exports.Space_Separator=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/;qo.exports.ID_Start=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/;qo.exports.ID_Continue=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/});var hu=se((MR,Tm)=>{var mu=wm();Tm.exports={isSpaceSeparator(e){return typeof e=="string"&&mu.Space_Separator.test(e)},isIdStartChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"||mu.ID_Start.test(e))},isIdContinueChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="$"||e==="_"||e==="\u200C"||e==="\u200D"||mu.ID_Continue.test(e))},isDigit(e){return typeof e=="string"&&/[0-9]/.test(e)},isHexDigit(e){return typeof e=="string"&&/[0-9A-Fa-f]/.test(e)}}});var Nm=se(($R,Im)=>{var dt=hu(),yu,Pt,Yr,Go,Sn,pr,ft,xu,Is;Im.exports=function(r,t){yu=String(r),Pt="start",Yr=[],Go=0,Sn=1,pr=0,ft=void 0,xu=void 0,Is=void 0;do ft=iw(),aw[Pt]();while(ft.type!=="eof");return typeof t=="function"?Du({"":Is},"",t):Is};function Du(e,r,t){let n=e[r];if(n!=null&&typeof n=="object")if(Array.isArray(n))for(let i=0;i<n.length;i++){let s=String(i),o=Du(n,s,t);o===void 0?delete n[s]:Object.defineProperty(n,s,{value:o,writable:!0,enumerable:!0,configurable:!0})}else for(let i in n){let s=Du(n,i,t);s===void 0?delete n[i]:Object.defineProperty(n,i,{value:s,writable:!0,enumerable:!0,configurable:!0})}return t.call(e,r,n)}var ce,ue,Ps,Jr,ye;function iw(){for(ce="default",ue="",Ps=!1,Jr=1;;){ye=Xr();let e=vm[ce]();if(e)return e}}function Xr(){if(yu[Go])return String.fromCodePoint(yu.codePointAt(Go))}function _(){let e=Xr();return e===`
`?(Sn++,pr=0):e?pr+=e.length:pr++,e&&(Go+=e.length),e}var vm={default(){switch(ye){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":_();return;case"/":_(),ce="comment";return;case void 0:return _(),Ue("eof")}if(dt.isSpaceSeparator(ye)){_();return}return vm[Pt]()},comment(){switch(ye){case"*":_(),ce="multiLineComment";return;case"/":_(),ce="singleLineComment";return}throw je(_())},multiLineComment(){switch(ye){case"*":_(),ce="multiLineCommentAsterisk";return;case void 0:throw je(_())}_()},multiLineCommentAsterisk(){switch(ye){case"*":_();return;case"/":_(),ce="default";return;case void 0:throw je(_())}_(),ce="multiLineComment"},singleLineComment(){switch(ye){case`
`:case"\r":case"\u2028":case"\u2029":_(),ce="default";return;case void 0:return _(),Ue("eof")}_()},value(){switch(ye){case"{":case"[":return Ue("punctuator",_());case"n":return _(),Wn("ull"),Ue("null",null);case"t":return _(),Wn("rue"),Ue("boolean",!0);case"f":return _(),Wn("alse"),Ue("boolean",!1);case"-":case"+":_()==="-"&&(Jr=-1),ce="sign";return;case".":ue=_(),ce="decimalPointLeading";return;case"0":ue=_(),ce="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":ue=_(),ce="decimalInteger";return;case"I":return _(),Wn("nfinity"),Ue("numeric",1/0);case"N":return _(),Wn("aN"),Ue("numeric",NaN);case'"':case"'":Ps=_()==='"',ue="",ce="string";return}throw je(_())},identifierNameStartEscape(){if(ye!=="u")throw je(_());_();let e=bu();switch(e){case"$":case"_":break;default:if(!dt.isIdStartChar(e))throw Am();break}ue+=e,ce="identifierName"},identifierName(){switch(ye){case"$":case"_":case"\u200C":case"\u200D":ue+=_();return;case"\\":_(),ce="identifierNameEscape";return}if(dt.isIdContinueChar(ye)){ue+=_();return}return Ue("identifier",ue)},identifierNameEscape(){if(ye!=="u")throw je(_());_();let e=bu();switch(e){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!dt.isIdContinueChar(e))throw Am();break}ue+=e,ce="identifierName"},sign(){switch(ye){case".":ue=_(),ce="decimalPointLeading";return;case"0":ue=_(),ce="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":ue=_(),ce="decimalInteger";return;case"I":return _(),Wn("nfinity"),Ue("numeric",Jr*(1/0));case"N":return _(),Wn("aN"),Ue("numeric",NaN)}throw je(_())},zero(){switch(ye){case".":ue+=_(),ce="decimalPoint";return;case"e":case"E":ue+=_(),ce="decimalExponent";return;case"x":case"X":ue+=_(),ce="hexadecimal";return}return Ue("numeric",Jr*0)},decimalInteger(){switch(ye){case".":ue+=_(),ce="decimalPoint";return;case"e":case"E":ue+=_(),ce="decimalExponent";return}if(dt.isDigit(ye)){ue+=_();return}return Ue("numeric",Jr*Number(ue))},decimalPointLeading(){if(dt.isDigit(ye)){ue+=_(),ce="decimalFraction";return}throw je(_())},decimalPoint(){switch(ye){case"e":case"E":ue+=_(),ce="decimalExponent";return}if(dt.isDigit(ye)){ue+=_(),ce="decimalFraction";return}return Ue("numeric",Jr*Number(ue))},decimalFraction(){switch(ye){case"e":case"E":ue+=_(),ce="decimalExponent";return}if(dt.isDigit(ye)){ue+=_();return}return Ue("numeric",Jr*Number(ue))},decimalExponent(){switch(ye){case"+":case"-":ue+=_(),ce="decimalExponentSign";return}if(dt.isDigit(ye)){ue+=_(),ce="decimalExponentInteger";return}throw je(_())},decimalExponentSign(){if(dt.isDigit(ye)){ue+=_(),ce="decimalExponentInteger";return}throw je(_())},decimalExponentInteger(){if(dt.isDigit(ye)){ue+=_();return}return Ue("numeric",Jr*Number(ue))},hexadecimal(){if(dt.isHexDigit(ye)){ue+=_(),ce="hexadecimalInteger";return}throw je(_())},hexadecimalInteger(){if(dt.isHexDigit(ye)){ue+=_();return}return Ue("numeric",Jr*Number(ue))},string(){switch(ye){case"\\":_(),ue+=sw();return;case'"':if(Ps)return _(),Ue("string",ue);ue+=_();return;case"'":if(!Ps)return _(),Ue("string",ue);ue+=_();return;case`
`:case"\r":throw je(_());case"\u2028":case"\u2029":lw(ye);break;case void 0:throw je(_())}ue+=_()},start(){switch(ye){case"{":case"[":return Ue("punctuator",_())}ce="value"},beforePropertyName(){switch(ye){case"$":case"_":ue=_(),ce="identifierName";return;case"\\":_(),ce="identifierNameStartEscape";return;case"}":return Ue("punctuator",_());case'"':case"'":Ps=_()==='"',ce="string";return}if(dt.isIdStartChar(ye)){ue+=_(),ce="identifierName";return}throw je(_())},afterPropertyName(){if(ye===":")return Ue("punctuator",_());throw je(_())},beforePropertyValue(){ce="value"},afterPropertyValue(){switch(ye){case",":case"}":return Ue("punctuator",_())}throw je(_())},beforeArrayValue(){if(ye==="]")return Ue("punctuator",_());ce="value"},afterArrayValue(){switch(ye){case",":case"]":return Ue("punctuator",_())}throw je(_())},end(){throw je(_())}};function Ue(e,r){return{type:e,value:r,line:Sn,column:pr}}function Wn(e){for(let r of e){if(Xr()!==r)throw je(_());_()}}function sw(){switch(Xr()){case"b":return _(),"\b";case"f":return _(),"\f";case"n":return _(),`
`;case"r":return _(),"\r";case"t":return _(),"	";case"v":return _(),"\v";case"0":if(_(),dt.isDigit(Xr()))throw je(_());return"\0";case"x":return _(),ow();case"u":return _(),bu();case`
`:case"\u2028":case"\u2029":return _(),"";case"\r":return _(),Xr()===`
`&&_(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw je(_());case void 0:throw je(_())}return _()}function ow(){let e="",r=Xr();if(!dt.isHexDigit(r)||(e+=_(),r=Xr(),!dt.isHexDigit(r)))throw je(_());return e+=_(),String.fromCodePoint(parseInt(e,16))}function bu(){let e="",r=4;for(;r-- >0;){let t=Xr();if(!dt.isHexDigit(t))throw je(_());e+=_()}return String.fromCodePoint(parseInt(e,16))}var aw={start(){if(ft.type==="eof")throw Gn();gu()},beforePropertyName(){switch(ft.type){case"identifier":case"string":xu=ft.value,Pt="afterPropertyName";return;case"punctuator":Wo();return;case"eof":throw Gn()}},afterPropertyName(){if(ft.type==="eof")throw Gn();Pt="beforePropertyValue"},beforePropertyValue(){if(ft.type==="eof")throw Gn();gu()},beforeArrayValue(){if(ft.type==="eof")throw Gn();if(ft.type==="punctuator"&&ft.value==="]"){Wo();return}gu()},afterPropertyValue(){if(ft.type==="eof")throw Gn();switch(ft.value){case",":Pt="beforePropertyName";return;case"}":Wo()}},afterArrayValue(){if(ft.type==="eof")throw Gn();switch(ft.value){case",":Pt="beforeArrayValue";return;case"]":Wo()}},end(){}};function gu(){let e;switch(ft.type){case"punctuator":switch(ft.value){case"{":e={};break;case"[":e=[];break}break;case"null":case"boolean":case"numeric":case"string":e=ft.value;break}if(Is===void 0)Is=e;else{let r=Yr[Yr.length-1];Array.isArray(r)?r.push(e):Object.defineProperty(r,xu,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(e!==null&&typeof e=="object")Yr.push(e),Array.isArray(e)?Pt="beforeArrayValue":Pt="beforePropertyName";else{let r=Yr[Yr.length-1];r==null?Pt="end":Array.isArray(r)?Pt="afterArrayValue":Pt="afterPropertyValue"}}function Wo(){Yr.pop();let e=Yr[Yr.length-1];e==null?Pt="end":Array.isArray(e)?Pt="afterArrayValue":Pt="afterPropertyValue"}function je(e){return Ho(e===void 0?`JSON5: invalid end of input at ${Sn}:${pr}`:`JSON5: invalid character '${Pm(e)}' at ${Sn}:${pr}`)}function Gn(){return Ho(`JSON5: invalid end of input at ${Sn}:${pr}`)}function Am(){return pr-=5,Ho(`JSON5: invalid identifier character at ${Sn}:${pr}`)}function lw(e){console.warn(`JSON5: '${Pm(e)}' in strings is not valid ECMAScript; consider escaping`)}function Pm(e){let r={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(r[e])return r[e];if(e<" "){let t=e.charCodeAt(0).toString(16);return"\\x"+("00"+t).substring(t.length)}return e}function Ho(e){let r=new SyntaxError(e);return r.lineNumber=Sn,r.columnNumber=pr,r}});var _m=se((UR,Fm)=>{var Eu=hu();Fm.exports=function(r,t,n){let i=[],s="",o,a,l="",u;if(t!=null&&typeof t=="object"&&!Array.isArray(t)&&(n=t.space,u=t.quote,t=t.replacer),typeof t=="function")a=t;else if(Array.isArray(t)){o=[];for(let h of t){let g;typeof h=="string"?g=h:(typeof h=="number"||h instanceof String||h instanceof Number)&&(g=String(h)),g!==void 0&&o.indexOf(g)<0&&o.push(g)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),typeof n=="number"?n>0&&(n=Math.min(10,Math.floor(n)),l="          ".substr(0,n)):typeof n=="string"&&(l=n.substr(0,10)),c("",{"":r});function c(h,g){let y=g[h];switch(y!=null&&(typeof y.toJSON5=="function"?y=y.toJSON5(h):typeof y.toJSON=="function"&&(y=y.toJSON(h))),a&&(y=a.call(g,h,y)),y instanceof Number?y=Number(y):y instanceof String?y=String(y):y instanceof Boolean&&(y=y.valueOf()),y){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof y=="string")return p(y,!1);if(typeof y=="number")return String(y);if(typeof y=="object")return Array.isArray(y)?m(y):d(y)}function p(h){let g={"'":.1,'"':.2},y={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},D="";for(let x=0;x<h.length;x++){let b=h[x];switch(b){case"'":case'"':g[b]++,D+=b;continue;case"\0":if(Eu.isDigit(h[x+1])){D+="\\x00";continue}}if(y[b]){D+=y[b];continue}if(b<" "){let E=b.charCodeAt(0).toString(16);D+="\\x"+("00"+E).substring(E.length);continue}D+=b}let C=u||Object.keys(g).reduce((x,b)=>g[x]<g[b]?x:b);return D=D.replace(new RegExp(C,"g"),y[C]),C+D+C}function d(h){if(i.indexOf(h)>=0)throw TypeError("Converting circular structure to JSON5");i.push(h);let g=s;s=s+l;let y=o||Object.keys(h),D=[];for(let x of y){let b=c(x,h);if(b!==void 0){let E=f(x)+":";l!==""&&(E+=" "),E+=b,D.push(E)}}let C;if(D.length===0)C="{}";else{let x;if(l==="")x=D.join(","),C="{"+x+"}";else{let b=`,
`+s;x=D.join(b),C=`{
`+s+x+`,
`+g+"}"}}return i.pop(),s=g,C}function f(h){if(h.length===0)return p(h,!0);let g=String.fromCodePoint(h.codePointAt(0));if(!Eu.isIdStartChar(g))return p(h,!0);for(let y=g.length;y<h.length;y++)if(!Eu.isIdContinueChar(String.fromCodePoint(h.codePointAt(y))))return p(h,!0);return h}function m(h){if(i.indexOf(h)>=0)throw TypeError("Converting circular structure to JSON5");i.push(h);let g=s;s=s+l;let y=[];for(let C=0;C<h.length;C++){let x=c(String(C),h);y.push(x!==void 0?x:"null")}let D;if(y.length===0)D="[]";else if(l==="")D="["+y.join(",")+"]";else{let C=`,
`+s,x=y.join(C);D=`[
`+s+x+`,
`+g+"]"}return i.pop(),s=g,D}}});var Om=se((jR,km)=>{var uw=Nm(),cw=_m(),pw={parse:uw,stringify:cw};km.exports=pw});var Su=se(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});function Vm(e){return Object.prototype.toString.call(e)}Yo.getType=Vm;function Cw(e){throw new TypeError("unsupported data type: "+Vm(e))}Yo.throwUnknownDataType=Cw});var Pu=se(Zr=>{"use strict";Object.defineProperty(Zr,"__esModule",{value:!0});var Qr="";for(let e=0;e<10;e++){let r=String.fromCharCode(48+e);Qr+=r}for(let e=0;e<26;e++){let r=String.fromCharCode(65+e);Qr+=r}for(let e=0;e<26;e++){let r=String.fromCharCode(97+e);Qr+=r}var vi=Qr.length,Tu={};for(let e=0;e<vi;e++){let r=Qr[e];Tu[r]=e}function Au(e){let r=0,t=1;for(let n=e.length-1;n>=0;n--){let i=e[n],s=Tu[i];s*=t,r+=s,t*=vi}return r}Zr.s_to_int=Au;function zm(e){let r=BigInt(0),t=BigInt(1),n=BigInt(vi);for(let i=e.length-1;i>=0;i--){let s=e[i],o=BigInt(Tu[s]);o*=t,r+=o,t*=n}return r}Zr.s_to_big_int=zm;function vu(e){if(e===0)return Qr[0];let r=[];for(;e!==0;){let t=e%vi,n=Qr[t];r.push(n),e-=t,e/=vi}return r.reverse().join("")}Zr.int_to_s=vu;function qm(e){let r=BigInt(0),t=BigInt(vi);if(e===r)return Qr[0];let n=[];for(;e!==r;){let i=e%t,s=Qr[Number(i)];n.push(s),e-=i,e/=t}return n.reverse().join("")}Zr.big_int_to_s=qm;function Qo(e){return e.split("").reverse().join("")}function Wm(e){if(e<0)return"-"+Wm(-e);let[r,t]=e.toString().split(".");if(!t)return vu(e);let n;t&&([t,n]=t.split("e")),r=Xo(r),t=Qo(t),t=Xo(t);let i=r+"."+t;if(n){switch(i+=".",n[0]){case"+":n=n.slice(1);break;case"-":i+="-",n=n.slice(1);break}n=Qo(n),n=Xo(n),i+=n}return i}Zr.num_to_s=Wm;function Xo(e){let r=+e;return r.toString()===e?vu(r):":"+qm(BigInt(e))}Zr.int_str_to_s=Xo;function wu(e){return e[0]===":"?zm(e.substring(1)).toString():Au(e).toString()}function Gm(e){if(e[0]==="-")return-Gm(e.substr(1));let[r,t,n]=e.split(".");if(!t)return Au(r);r=wu(r),t=wu(t),t=Qo(t);let i=r+"."+t;if(n){i+="e";let s=!1;n[0]==="-"&&(s=!0,n=n.slice(1)),n=wu(n),n=Qo(n),i+=s?-n:+n}return+i}Zr.s_to_num=Gm});var Nu=se(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});var Iu=Pu();function Sw(e){return"n|"+Iu.num_to_s(e)}en.encodeNum=Sw;function ww(e){return e=e.replace("n|",""),Iu.s_to_num(e)}en.decodeNum=ww;function Tw(e){return typeof e=="number"?e:Iu.s_to_int(e)}en.decodeKey=Tw;function Aw(e){return e?"b|T":"b|F"}en.encodeBool=Aw;function vw(e){switch(e){case"b|T":return!0;case"b|F":return!1}return!!e}en.decodeBool=vw;function Pw(e){switch(e[0]+e[1]){case"b|":case"o|":case"n|":case"a|":case"s|":e="s|"+e}return e}en.encodeStr=Pw;function Iw(e){return e[0]+e[1]==="s|"?e.substr(2):e}en.decodeStr=Iw});var Hm=se(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.config={sort_key:!1}});var ku=se(Jn=>{"use strict";Object.defineProperty(Jn,"__esModule",{value:!0});var Nw=Hm(),Fw=Su(),_u=Nu(),_w=Pu();function kw(e){return e.store.toArray()}Jn.memToValues=kw;function Jm(){let e=[];return{forEach(r){for(let t=0;t<e.length;t++)if(r(e[t])==="break")return},add(r){e.push(r)},toArray(){return e}}}Jn.makeInMemoryStore=Jm;function Ym(){let e=Object.create(null),r=Object.create(null);return{getValue(t){return e[t]},getSchema(t){return r[t]},forEachValue(t){for(let[n,i]of Object.entries(e))if(t(n,i)==="break")return},forEachSchema(t){for(let[n,i]of Object.entries(r))if(t(n,i)==="break")return},setValue(t,n){e[t]=n},setSchema(t,n){r[t]=n},hasValue(t){return t in e},hasSchema(t){return t in r}}}Jn.makeInMemoryCache=Ym;function Ow(){return{store:Jm(),cache:Ym(),keyCount:0}}Jn.makeInMemoryMemory=Ow;function Hn(e,r){if(e.cache.hasValue(r))return e.cache.getValue(r);let t=e.keyCount++,n=_w.num_to_s(t);return e.store.add(r),e.cache.setValue(r,n),n}function Rw(e,r){Nw.config.sort_key&&r.sort();let t=r.join(",");if(e.cache.hasSchema(t))return e.cache.getSchema(t);let n=Ns(e,r,void 0);return e.cache.setSchema(t,n),n}function Ns(e,r,t){if(r===null)return"";switch(typeof r){case"undefined":if(Array.isArray(t))return Ns(e,null,t);break;case"object":if(r===null)return Hn(e,null);if(Array.isArray(r)){let n="a";for(let i=0;i<r.length;i++){let s=r[i],o=s===null?"_":Ns(e,s,r);n+="|"+o}return n==="a"&&(n="a|"),Hn(e,n)}else{let n=Object.keys(r);if(n.length===0)return Hn(e,"o|");let i="o",s=Rw(e,n);i+="|"+s;for(let o of n){let a=r[o],l=Ns(e,a,r);i+="|"+l}return Hn(e,i)}case"boolean":return Hn(e,_u.encodeBool(r));case"number":return Hn(e,_u.encodeNum(r));case"string":return Hn(e,_u.encodeStr(r))}return Fw.throwUnknownDataType(r)}Jn.addValue=Ns});var Ru=se(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});var Lw=Su(),Zo=Nu(),Ou=ku();function Bw(e){let r=Ou.makeInMemoryMemory(),t=Ou.addValue(r,e,void 0);return[Ou.memToValues(r),t]}_s.compress=Bw;function Mw(e,r){if(r==="o|")return{};let t={},n=r.split("|"),i=n[1],s=Fs(e,i),o=n.length;o-2===1&&!Array.isArray(s)&&(s=[s]);for(let a=2;a<o;a++){let l=s[a-2],u=n[a];u=Fs(e,u),t[l]=u}return t}function $w(e,r){if(r==="a|")return[];let t=r.split("|"),n=t.length-1,i=new Array(n);for(let s=0;s<n;s++){let o=t[s+1];o=Fs(e,o),i[s]=o}return i}function Fs(e,r){if(r===""||r==="_")return null;let t=Zo.decodeKey(r),n=e[t];if(n===null)return n;switch(typeof n){case"undefined":return n;case"number":return n;case"string":switch(n[0]+n[1]){case"b|":return Zo.decodeBool(n);case"o|":return Mw(e,n);case"n|":return Zo.decodeNum(n);case"a|":return $w(e,n);default:return Zo.decodeStr(n)}}return Lw.throwUnknownDataType(n)}_s.decode=Fs;function Uw(e){let[r,t]=e;return Fs(r,t)}_s.decompress=Uw});var Qm=se(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});function jw(e){for(let r in e)e[r]===void 0&&delete e[r]}ea.trimUndefined=jw;function Kw(e){Xm(e,new Set)}ea.trimUndefinedRecursively=Kw;function Xm(e,r){r.add(e);for(let t in e)if(e[t]===void 0)delete e[t];else{let n=e[t];n&&typeof n=="object"&&!r.has(n)&&Xm(n,r)}}});var th=se(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});var Zm=Ru();wn.compress=Zm.compress;wn.decompress=Zm.decompress;var Vw=Ru();wn.decode=Vw.decode;var zw=ku();wn.addValue=zw.addValue;var eh=Qm();wn.trimUndefined=eh.trimUndefined;wn.trimUndefinedRecursively=eh.trimUndefinedRecursively});var Ig=se((D3,Pg)=>{function gg(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(r=>{let t=e[r],n=typeof t;(n==="object"||n==="function")&&!Object.isFrozen(t)&&gg(t)}),e}var ca=class{constructor(r){r.data===void 0&&(r.data={}),this.data=r.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}};function yg(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function vn(e,...r){let t=Object.create(null);for(let n in e)t[n]=e[n];return r.forEach(function(n){for(let i in n)t[i]=n[i]}),t}var wT="</span>",cg=e=>!!e.scope,TT=(e,{prefix:r})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){let t=e.split(".");return[`${r}${t.shift()}`,...t.map((n,i)=>`${n}${"_".repeat(i+1)}`)].join(" ")}return`${r}${e}`},ju=class{constructor(r,t){this.buffer="",this.classPrefix=t.classPrefix,r.walk(this)}addText(r){this.buffer+=yg(r)}openNode(r){if(!cg(r))return;let t=TT(r.scope,{prefix:this.classPrefix});this.span(t)}closeNode(r){cg(r)&&(this.buffer+=wT)}value(){return this.buffer}span(r){this.buffer+=`<span class="${r}">`}},pg=(e={})=>{let r={children:[]};return Object.assign(r,e),r},Ku=class e{constructor(){this.rootNode=pg(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(r){this.top.children.push(r)}openNode(r){let t=pg({scope:r});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(r){return this.constructor._walk(r,this.rootNode)}static _walk(r,t){return typeof t=="string"?r.addText(t):t.children&&(r.openNode(t),t.children.forEach(n=>this._walk(r,n)),r.closeNode(t)),r}static _collapse(r){typeof r!="string"&&r.children&&(r.children.every(t=>typeof t=="string")?r.children=[r.children.join("")]:r.children.forEach(t=>{e._collapse(t)}))}},Vu=class extends Ku{constructor(r){super(),this.options=r}addText(r){r!==""&&this.add(r)}startScope(r){this.openNode(r)}endScope(){this.closeNode()}__addSublanguage(r,t){let n=r.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new ju(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}};function ks(e){return e?typeof e=="string"?e:e.source:null}function Dg(e){return Xn("(?=",e,")")}function AT(e){return Xn("(?:",e,")*")}function vT(e){return Xn("(?:",e,")?")}function Xn(...e){return e.map(t=>ks(t)).join("")}function PT(e){let r=e[e.length-1];return typeof r=="object"&&r.constructor===Object?(e.splice(e.length-1,1),r):{}}function qu(...e){return"("+(PT(e).capture?"":"?:")+e.map(n=>ks(n)).join("|")+")"}function bg(e){return new RegExp(e.toString()+"|").exec("").length-1}function IT(e,r){let t=e&&e.exec(r);return t&&t.index===0}var NT=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function Wu(e,{joinWith:r}){let t=0;return e.map(n=>{t+=1;let i=t,s=ks(n),o="";for(;s.length>0;){let a=NT.exec(s);if(!a){o+=s;break}o+=s.substring(0,a.index),s=s.substring(a.index+a[0].length),a[0][0]==="\\"&&a[1]?o+="\\"+String(Number(a[1])+i):(o+=a[0],a[0]==="("&&t++)}return o}).map(n=>`(${n})`).join(r)}var FT=/\b\B/,xg="[a-zA-Z]\\w*",Gu="[a-zA-Z_]\\w*",Eg="\\b\\d+(\\.\\d+)?",Cg="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",Sg="\\b(0b[01]+)",_T="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",kT=(e={})=>{let r=/^#![ ]*\//;return e.binary&&(e.begin=Xn(r,/.*\b/,e.binary,/\b.*/)),vn({scope:"meta",begin:r,end:/$/,relevance:0,"on:begin":(t,n)=>{t.index!==0&&n.ignoreMatch()}},e)},Os={begin:"\\\\[\\s\\S]",relevance:0},OT={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Os]},RT={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Os]},LT={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},da=function(e,r,t={}){let n=vn({scope:"comment",begin:e,end:r,contains:[]},t);n.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let i=qu("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return n.contains.push({begin:Xn(/[ ]+/,"(",i,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),n},BT=da("//","$"),MT=da("/\\*","\\*/"),$T=da("#","$"),UT={scope:"number",begin:Eg,relevance:0},jT={scope:"number",begin:Cg,relevance:0},KT={scope:"number",begin:Sg,relevance:0},VT={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Os,{begin:/\[/,end:/\]/,relevance:0,contains:[Os]}]},zT={scope:"title",begin:xg,relevance:0},qT={scope:"title",begin:Gu,relevance:0},WT={begin:"\\.\\s*"+Gu,relevance:0},GT=function(e){return Object.assign(e,{"on:begin":(r,t)=>{t.data._beginMatch=r[1]},"on:end":(r,t)=>{t.data._beginMatch!==r[1]&&t.ignoreMatch()}})},ua=Object.freeze({__proto__:null,APOS_STRING_MODE:OT,BACKSLASH_ESCAPE:Os,BINARY_NUMBER_MODE:KT,BINARY_NUMBER_RE:Sg,COMMENT:da,C_BLOCK_COMMENT_MODE:MT,C_LINE_COMMENT_MODE:BT,C_NUMBER_MODE:jT,C_NUMBER_RE:Cg,END_SAME_AS_BEGIN:GT,HASH_COMMENT_MODE:$T,IDENT_RE:xg,MATCH_NOTHING_RE:FT,METHOD_GUARD:WT,NUMBER_MODE:UT,NUMBER_RE:Eg,PHRASAL_WORDS_MODE:LT,QUOTE_STRING_MODE:RT,REGEXP_MODE:VT,RE_STARTERS_RE:_T,SHEBANG:kT,TITLE_MODE:zT,UNDERSCORE_IDENT_RE:Gu,UNDERSCORE_TITLE_MODE:qT});function HT(e,r){e.input[e.index-1]==="."&&r.ignoreMatch()}function JT(e,r){e.className!==void 0&&(e.scope=e.className,delete e.className)}function YT(e,r){r&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=HT,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function XT(e,r){Array.isArray(e.illegal)&&(e.illegal=qu(...e.illegal))}function QT(e,r){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function ZT(e,r){e.relevance===void 0&&(e.relevance=1)}var eA=(e,r)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");let t=Object.assign({},e);Object.keys(e).forEach(n=>{delete e[n]}),e.keywords=t.keywords,e.begin=Xn(t.beforeMatch,Dg(t.begin)),e.starts={relevance:0,contains:[Object.assign(t,{endsParent:!0})]},e.relevance=0,delete t.beforeMatch},tA=["of","and","for","in","not","or","if","then","parent","list","value"],rA="keyword";function wg(e,r,t=rA){let n=Object.create(null);return typeof e=="string"?i(t,e.split(" ")):Array.isArray(e)?i(t,e):Object.keys(e).forEach(function(s){Object.assign(n,wg(e[s],r,s))}),n;function i(s,o){r&&(o=o.map(a=>a.toLowerCase())),o.forEach(function(a){let l=a.split("|");n[l[0]]=[s,nA(l[0],l[1])]})}}function nA(e,r){return r?Number(r):iA(e)?0:1}function iA(e){return tA.includes(e.toLowerCase())}var dg={},Yn=e=>{console.error(e)},fg=(e,...r)=>{console.log(`WARN: ${e}`,...r)},Ni=(e,r)=>{dg[`${e}/${r}`]||(console.log(`Deprecated as of ${e}. ${r}`),dg[`${e}/${r}`]=!0)},pa=new Error;function Tg(e,r,{key:t}){let n=0,i=e[t],s={},o={};for(let a=1;a<=r.length;a++)o[a+n]=i[a],s[a+n]=!0,n+=bg(r[a-1]);e[t]=o,e[t]._emit=s,e[t]._multi=!0}function sA(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Yn("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),pa;if(typeof e.beginScope!="object"||e.beginScope===null)throw Yn("beginScope must be object"),pa;Tg(e,e.begin,{key:"beginScope"}),e.begin=Wu(e.begin,{joinWith:""})}}function oA(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Yn("skip, excludeEnd, returnEnd not compatible with endScope: {}"),pa;if(typeof e.endScope!="object"||e.endScope===null)throw Yn("endScope must be object"),pa;Tg(e,e.end,{key:"endScope"}),e.end=Wu(e.end,{joinWith:""})}}function aA(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function lA(e){aA(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),sA(e),oA(e)}function uA(e){function r(o,a){return new RegExp(ks(o),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(a?"g":""))}class t{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(a,l){l.position=this.position++,this.matchIndexes[this.matchAt]=l,this.regexes.push([l,a]),this.matchAt+=bg(a)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);let a=this.regexes.map(l=>l[1]);this.matcherRe=r(Wu(a,{joinWith:"|"}),!0),this.lastIndex=0}exec(a){this.matcherRe.lastIndex=this.lastIndex;let l=this.matcherRe.exec(a);if(!l)return null;let u=l.findIndex((p,d)=>d>0&&p!==void 0),c=this.matchIndexes[u];return l.splice(0,u),Object.assign(l,c)}}class n{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(a){if(this.multiRegexes[a])return this.multiRegexes[a];let l=new t;return this.rules.slice(a).forEach(([u,c])=>l.addRule(u,c)),l.compile(),this.multiRegexes[a]=l,l}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(a,l){this.rules.push([a,l]),l.type==="begin"&&this.count++}exec(a){let l=this.getMatcher(this.regexIndex);l.lastIndex=this.lastIndex;let u=l.exec(a);if(this.resumingScanAtSamePosition()&&!(u&&u.index===this.lastIndex)){let c=this.getMatcher(0);c.lastIndex=this.lastIndex+1,u=c.exec(a)}return u&&(this.regexIndex+=u.position+1,this.regexIndex===this.count&&this.considerAll()),u}}function i(o){let a=new n;return o.contains.forEach(l=>a.addRule(l.begin,{rule:l,type:"begin"})),o.terminatorEnd&&a.addRule(o.terminatorEnd,{type:"end"}),o.illegal&&a.addRule(o.illegal,{type:"illegal"}),a}function s(o,a){let l=o;if(o.isCompiled)return l;[JT,QT,lA,eA].forEach(c=>c(o,a)),e.compilerExtensions.forEach(c=>c(o,a)),o.__beforeBegin=null,[YT,XT,ZT].forEach(c=>c(o,a)),o.isCompiled=!0;let u=null;return typeof o.keywords=="object"&&o.keywords.$pattern&&(o.keywords=Object.assign({},o.keywords),u=o.keywords.$pattern,delete o.keywords.$pattern),u=u||/\w+/,o.keywords&&(o.keywords=wg(o.keywords,e.case_insensitive)),l.keywordPatternRe=r(u,!0),a&&(o.begin||(o.begin=/\B|\b/),l.beginRe=r(l.begin),!o.end&&!o.endsWithParent&&(o.end=/\B|\b/),o.end&&(l.endRe=r(l.end)),l.terminatorEnd=ks(l.end)||"",o.endsWithParent&&a.terminatorEnd&&(l.terminatorEnd+=(o.end?"|":"")+a.terminatorEnd)),o.illegal&&(l.illegalRe=r(o.illegal)),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map(function(c){return cA(c==="self"?o:c)})),o.contains.forEach(function(c){s(c,l)}),o.starts&&s(o.starts,a),l.matcher=i(l),l}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=vn(e.classNameAliases||{}),s(e)}function Ag(e){return e?e.endsWithParent||Ag(e.starts):!1}function cA(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(r){return vn(e,{variants:null},r)})),e.cachedVariants?e.cachedVariants:Ag(e)?vn(e,{starts:e.starts?vn(e.starts):null}):Object.isFrozen(e)?vn(e):e}var pA="11.9.0",zu=class extends Error{constructor(r,t){super(r),this.name="HTMLInjectionError",this.html=t}},Uu=yg,mg=vn,hg=Symbol("nomatch"),dA=7,vg=function(e){let r=Object.create(null),t=Object.create(null),n=[],i=!0,s="Could not find the language '{}', did you forget to load/include a language module?",o={disableAutodetect:!0,name:"Plain text",contains:[]},a={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:Vu};function l(F){return a.noHighlightRe.test(F)}function u(F){let M=F.className+" ";M+=F.parentNode?F.parentNode.className:"";let Y=a.languageDetectRe.exec(M);if(Y){let v=B(Y[1]);return v||(fg(s.replace("{}",Y[1])),fg("Falling back to no-highlight mode for this block.",F)),v?Y[1]:"no-highlight"}return M.split(/\s+/).find(v=>l(v)||B(v))}function c(F,M,Y){let v="",P="";typeof M=="object"?(v=F,Y=M.ignoreIllegals,P=M.language):(Ni("10.7.0","highlight(lang, code, ...args) has been deprecated."),Ni("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),P=F,v=M),Y===void 0&&(Y=!0);let $={code:v,language:P};z("before:highlight",$);let G=$.result?$.result:p($.language,$.code,Y);return G.code=$.code,z("after:highlight",G),G}function p(F,M,Y,v){let P=Object.create(null);function $(V,J){return V.keywords[J]}function G(){if(!le.keywords){yt.addText(Me);return}let V=0;le.keywordPatternRe.lastIndex=0;let J=le.keywordPatternRe.exec(Me),pe="";for(;J;){pe+=Me.substring(V,J.index);let Fe=Jt.case_insensitive?J[0].toLowerCase():J[0],xt=$(le,Fe);if(xt){let[Wr,jE]=xt;if(yt.addText(pe),pe="",P[Fe]=(P[Fe]||0)+1,P[Fe]<=dA&&(Co+=jE),Wr.startsWith("_"))pe+=J[0];else{let KE=Jt.classNameAliases[Wr]||Wr;he(J[0],KE)}}else pe+=J[0];V=le.keywordPatternRe.lastIndex,J=le.keywordPatternRe.exec(Me)}pe+=Me.substring(V),yt.addText(pe)}function xe(){if(Me==="")return;let V=null;if(typeof le.subLanguage=="string"){if(!r[le.subLanguage]){yt.addText(Me);return}V=p(le.subLanguage,Me,!0,gd[le.subLanguage]),gd[le.subLanguage]=V._top}else V=f(Me,le.subLanguage.length?le.subLanguage:null);le.relevance>0&&(Co+=V.relevance),yt.__addSublanguage(V._emitter,V.language)}function ae(){le.subLanguage!=null?xe():G(),Me=""}function he(V,J){V!==""&&(yt.startScope(J),yt.addText(V),yt.endScope())}function gt(V,J){let pe=1,Fe=J.length-1;for(;pe<=Fe;){if(!V._emit[pe]){pe++;continue}let xt=Jt.classNameAliases[V[pe]]||V[pe],Wr=J[pe];xt?he(Wr,xt):(Me=Wr,G(),Me=""),pe++}}function At(V,J){return V.scope&&typeof V.scope=="string"&&yt.openNode(Jt.classNameAliases[V.scope]||V.scope),V.beginScope&&(V.beginScope._wrap?(he(Me,Jt.classNameAliases[V.beginScope._wrap]||V.beginScope._wrap),Me=""):V.beginScope._multi&&(gt(V.beginScope,J),Me="")),le=Object.create(V,{parent:{value:le}}),le}function Vr(V,J,pe){let Fe=IT(V.endRe,pe);if(Fe){if(V["on:end"]){let xt=new ca(V);V["on:end"](J,xt),xt.isMatchIgnored&&(Fe=!1)}if(Fe){for(;V.endsParent&&V.parent;)V=V.parent;return V}}if(V.endsWithParent)return Vr(V.parent,J,pe)}function cs(V){return le.matcher.regexIndex===0?(Me+=V[0],1):(Pl=!0,0)}function zr(V){let J=V[0],pe=V.rule,Fe=new ca(pe),xt=[pe.__beforeBegin,pe["on:begin"]];for(let Wr of xt)if(Wr&&(Wr(V,Fe),Fe.isMatchIgnored))return cs(J);return pe.skip?Me+=J:(pe.excludeBegin&&(Me+=J),ae(),!pe.returnBegin&&!pe.excludeBegin&&(Me=J)),At(pe,V),pe.returnBegin?0:J.length}function ps(V){let J=V[0],pe=M.substring(V.index),Fe=Vr(le,V,pe);if(!Fe)return hg;let xt=le;le.endScope&&le.endScope._wrap?(ae(),he(J,le.endScope._wrap)):le.endScope&&le.endScope._multi?(ae(),gt(le.endScope,V)):xt.skip?Me+=J:(xt.returnEnd||xt.excludeEnd||(Me+=J),ae(),xt.excludeEnd&&(Me=J));do le.scope&&yt.closeNode(),!le.skip&&!le.subLanguage&&(Co+=le.relevance),le=le.parent;while(le!==Fe.parent);return Fe.starts&&At(Fe.starts,V),xt.returnEnd?0:J.length}function ve(){let V=[];for(let J=le;J!==Jt;J=J.parent)J.scope&&V.unshift(J.scope);V.forEach(J=>yt.openNode(J))}let qr={};function gn(V,J){let pe=J&&J[0];if(Me+=V,pe==null)return ae(),0;if(qr.type==="begin"&&J.type==="end"&&qr.index===J.index&&pe===""){if(Me+=M.slice(J.index,J.index+1),!i){let Fe=new Error(`0 width match regex (${F})`);throw Fe.languageName=F,Fe.badRule=qr.rule,Fe}return 1}if(qr=J,J.type==="begin")return zr(J);if(J.type==="illegal"&&!Y){let Fe=new Error('Illegal lexeme "'+pe+'" for mode "'+(le.scope||"<unnamed>")+'"');throw Fe.mode=le,Fe}else if(J.type==="end"){let Fe=ps(J);if(Fe!==hg)return Fe}if(J.type==="illegal"&&pe==="")return 1;if(vl>1e5&&vl>J.index*3)throw new Error("potential infinite loop, way more iterations than matches");return Me+=pe,pe.length}let Jt=B(F);if(!Jt)throw Yn(s.replace("{}",F)),new Error('Unknown language: "'+F+'"');let UE=uA(Jt),Al="",le=v||UE,gd={},yt=new a.__emitter(a);ve();let Me="",Co=0,Mn=0,vl=0,Pl=!1;try{if(Jt.__emitTokens)Jt.__emitTokens(M,yt);else{for(le.matcher.considerAll();;){vl++,Pl?Pl=!1:le.matcher.considerAll(),le.matcher.lastIndex=Mn;let V=le.matcher.exec(M);if(!V)break;let J=M.substring(Mn,V.index),pe=gn(J,V);Mn=V.index+pe}gn(M.substring(Mn))}return yt.finalize(),Al=yt.toHTML(),{language:F,value:Al,relevance:Co,illegal:!1,_emitter:yt,_top:le}}catch(V){if(V.message&&V.message.includes("Illegal"))return{language:F,value:Uu(M),illegal:!0,relevance:0,_illegalBy:{message:V.message,index:Mn,context:M.slice(Mn-100,Mn+100),mode:V.mode,resultSoFar:Al},_emitter:yt};if(i)return{language:F,value:Uu(M),illegal:!1,relevance:0,errorRaised:V,_emitter:yt,_top:le};throw V}}function d(F){let M={value:Uu(F),illegal:!1,relevance:0,_top:o,_emitter:new a.__emitter(a)};return M._emitter.addText(F),M}function f(F,M){M=M||a.languages||Object.keys(r);let Y=d(F),v=M.filter(B).filter(O).map(ae=>p(ae,F,!1));v.unshift(Y);let P=v.sort((ae,he)=>{if(ae.relevance!==he.relevance)return he.relevance-ae.relevance;if(ae.language&&he.language){if(B(ae.language).supersetOf===he.language)return 1;if(B(he.language).supersetOf===ae.language)return-1}return 0}),[$,G]=P,xe=$;return xe.secondBest=G,xe}function m(F,M,Y){let v=M&&t[M]||Y;F.classList.add("hljs"),F.classList.add(`language-${v}`)}function h(F){let M=null,Y=u(F);if(l(Y))return;if(z("before:highlightElement",{el:F,language:Y}),F.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",F);return}if(F.children.length>0&&(a.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(F)),a.throwUnescapedHTML))throw new zu("One of your code blocks includes unescaped HTML.",F.innerHTML);M=F;let v=M.textContent,P=Y?c(v,{language:Y,ignoreIllegals:!0}):f(v);F.innerHTML=P.value,F.dataset.highlighted="yes",m(F,Y,P.language),F.result={language:P.language,re:P.relevance,relevance:P.relevance},P.secondBest&&(F.secondBest={language:P.secondBest.language,relevance:P.secondBest.relevance}),z("after:highlightElement",{el:F,result:P,text:v})}function g(F){a=mg(a,F)}let y=()=>{x(),Ni("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function D(){x(),Ni("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let C=!1;function x(){if(document.readyState==="loading"){C=!0;return}document.querySelectorAll(a.cssSelector).forEach(h)}function b(){C&&x()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",b,!1);function E(F,M){let Y=null;try{Y=M(e)}catch(v){if(Yn("Language definition for '{}' could not be registered.".replace("{}",F)),i)Yn(v);else throw v;Y=o}Y.name||(Y.name=F),r[F]=Y,Y.rawDefinition=M.bind(null,e),Y.aliases&&I(Y.aliases,{languageName:F})}function T(F){delete r[F];for(let M of Object.keys(t))t[M]===F&&delete t[M]}function R(){return Object.keys(r)}function B(F){return F=(F||"").toLowerCase(),r[F]||r[t[F]]}function I(F,{languageName:M}){typeof F=="string"&&(F=[F]),F.forEach(Y=>{t[Y.toLowerCase()]=M})}function O(F){let M=B(F);return M&&!M.disableAutodetect}function Z(F){F["before:highlightBlock"]&&!F["before:highlightElement"]&&(F["before:highlightElement"]=M=>{F["before:highlightBlock"](Object.assign({block:M.el},M))}),F["after:highlightBlock"]&&!F["after:highlightElement"]&&(F["after:highlightElement"]=M=>{F["after:highlightBlock"](Object.assign({block:M.el},M))})}function ie(F){Z(F),n.push(F)}function N(F){let M=n.indexOf(F);M!==-1&&n.splice(M,1)}function z(F,M){let Y=F;n.forEach(function(v){v[Y]&&v[Y](M)})}function oe(F){return Ni("10.7.0","highlightBlock will be removed entirely in v12.0"),Ni("10.7.0","Please use highlightElement now."),h(F)}Object.assign(e,{highlight:c,highlightAuto:f,highlightAll:x,highlightElement:h,highlightBlock:oe,configure:g,initHighlighting:y,initHighlightingOnLoad:D,registerLanguage:E,unregisterLanguage:T,listLanguages:R,getLanguage:B,registerAliases:I,autoDetection:O,inherit:mg,addPlugin:ie,removePlugin:N}),e.debugMode=function(){i=!1},e.safeMode=function(){i=!0},e.versionString=pA,e.regex={concat:Xn,lookahead:Dg,either:qu,optional:vT,anyNumberOfTimes:AT};for(let F in ua)typeof ua[F]=="object"&&gg(ua[F]);return Object.assign(e,ua),e},Fi=vg({});Fi.newInstance=()=>vg({});Pg.exports=Fi;Fi.HighlightJS=Fi;Fi.default=Fi});var Yg=se(tc=>{var Jg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");tc.encode=function(e){if(0<=e&&e<Jg.length)return Jg[e];throw new TypeError("Must be between 0 and 63: "+e)};tc.decode=function(e){var r=65,t=90,n=97,i=122,s=48,o=57,a=43,l=47,u=26,c=52;return r<=e&&e<=t?e-r:n<=e&&e<=i?e-n+u:s<=e&&e<=o?e-s+c:e==a?62:e==l?63:-1}});var ic=se(nc=>{var Xg=Yg(),rc=5,Qg=1<<rc,Zg=Qg-1,ey=Qg;function PA(e){return e<0?(-e<<1)+1:(e<<1)+0}function IA(e){var r=(e&1)===1,t=e>>1;return r?-t:t}nc.encode=function(r){var t="",n,i=PA(r);do n=i&Zg,i>>>=rc,i>0&&(n|=ey),t+=Xg.encode(n);while(i>0);return t};nc.decode=function(r,t,n){var i=r.length,s=0,o=0,a,l;do{if(t>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(l=Xg.decode(r.charCodeAt(t++)),l===-1)throw new Error("Invalid base64 digit: "+r.charAt(t-1));a=!!(l&ey),l&=Zg,s=s+(l<<o),o+=rc}while(a);n.value=IA(s),n.rest=t}});var Ri=se(mt=>{function NA(e,r,t){if(r in e)return e[r];if(arguments.length===3)return t;throw new Error('"'+r+'" is a required argument.')}mt.getArg=NA;var ty=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,FA=/^data:.+\,.+$/;function Bs(e){var r=e.match(ty);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}mt.urlParse=Bs;function Oi(e){var r="";return e.scheme&&(r+=e.scheme+":"),r+="//",e.auth&&(r+=e.auth+"@"),e.host&&(r+=e.host),e.port&&(r+=":"+e.port),e.path&&(r+=e.path),r}mt.urlGenerate=Oi;var _A=32;function kA(e){var r=[];return function(t){for(var n=0;n<r.length;n++)if(r[n].input===t){var i=r[0];return r[0]=r[n],r[n]=i,r[0].result}var s=e(t);return r.unshift({input:t,result:s}),r.length>_A&&r.pop(),s}}var sc=kA(function(r){var t=r,n=Bs(r);if(n){if(!n.path)return r;t=n.path}for(var i=mt.isAbsolute(t),s=[],o=0,a=0;;)if(o=a,a=t.indexOf("/",o),a===-1){s.push(t.slice(o));break}else for(s.push(t.slice(o,a));a<t.length&&t[a]==="/";)a++;for(var l,u=0,a=s.length-1;a>=0;a--)l=s[a],l==="."?s.splice(a,1):l===".."?u++:u>0&&(l===""?(s.splice(a+1,u),u=0):(s.splice(a,2),u--));return t=s.join("/"),t===""&&(t=i?"/":"."),n?(n.path=t,Oi(n)):t});mt.normalize=sc;function ry(e,r){e===""&&(e="."),r===""&&(r=".");var t=Bs(r),n=Bs(e);if(n&&(e=n.path||"/"),t&&!t.scheme)return n&&(t.scheme=n.scheme),Oi(t);if(t||r.match(FA))return r;if(n&&!n.host&&!n.path)return n.host=r,Oi(n);var i=r.charAt(0)==="/"?r:sc(e.replace(/\/+$/,"")+"/"+r);return n?(n.path=i,Oi(n)):i}mt.join=ry;mt.isAbsolute=function(e){return e.charAt(0)==="/"||ty.test(e)};function OA(e,r){e===""&&(e="."),e=e.replace(/\/$/,"");for(var t=0;r.indexOf(e+"/")!==0;){var n=e.lastIndexOf("/");if(n<0||(e=e.slice(0,n),e.match(/^([^\/]+:\/)?\/*$/)))return r;++t}return Array(t+1).join("../")+r.substr(e.length+1)}mt.relative=OA;var ny=function(){var e=Object.create(null);return!("__proto__"in e)}();function iy(e){return e}function RA(e){return sy(e)?"$"+e:e}mt.toSetString=ny?iy:RA;function LA(e){return sy(e)?e.slice(1):e}mt.fromSetString=ny?iy:LA;function sy(e){if(!e)return!1;var r=e.length;if(r<9||e.charCodeAt(r-1)!==95||e.charCodeAt(r-2)!==95||e.charCodeAt(r-3)!==111||e.charCodeAt(r-4)!==116||e.charCodeAt(r-5)!==111||e.charCodeAt(r-6)!==114||e.charCodeAt(r-7)!==112||e.charCodeAt(r-8)!==95||e.charCodeAt(r-9)!==95)return!1;for(var t=r-10;t>=0;t--)if(e.charCodeAt(t)!==36)return!1;return!0}function BA(e,r,t){var n=rn(e.source,r.source);return n!==0||(n=e.originalLine-r.originalLine,n!==0)||(n=e.originalColumn-r.originalColumn,n!==0||t)||(n=e.generatedColumn-r.generatedColumn,n!==0)||(n=e.generatedLine-r.generatedLine,n!==0)?n:rn(e.name,r.name)}mt.compareByOriginalPositions=BA;function MA(e,r,t){var n;return n=e.originalLine-r.originalLine,n!==0||(n=e.originalColumn-r.originalColumn,n!==0||t)||(n=e.generatedColumn-r.generatedColumn,n!==0)||(n=e.generatedLine-r.generatedLine,n!==0)?n:rn(e.name,r.name)}mt.compareByOriginalPositionsNoSource=MA;function $A(e,r,t){var n=e.generatedLine-r.generatedLine;return n!==0||(n=e.generatedColumn-r.generatedColumn,n!==0||t)||(n=rn(e.source,r.source),n!==0)||(n=e.originalLine-r.originalLine,n!==0)||(n=e.originalColumn-r.originalColumn,n!==0)?n:rn(e.name,r.name)}mt.compareByGeneratedPositionsDeflated=$A;function UA(e,r,t){var n=e.generatedColumn-r.generatedColumn;return n!==0||t||(n=rn(e.source,r.source),n!==0)||(n=e.originalLine-r.originalLine,n!==0)||(n=e.originalColumn-r.originalColumn,n!==0)?n:rn(e.name,r.name)}mt.compareByGeneratedPositionsDeflatedNoLine=UA;function rn(e,r){return e===r?0:e===null?1:r===null?-1:e>r?1:-1}function jA(e,r){var t=e.generatedLine-r.generatedLine;return t!==0||(t=e.generatedColumn-r.generatedColumn,t!==0)||(t=rn(e.source,r.source),t!==0)||(t=e.originalLine-r.originalLine,t!==0)||(t=e.originalColumn-r.originalColumn,t!==0)?t:rn(e.name,r.name)}mt.compareByGeneratedPositionsInflated=jA;function KA(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}mt.parseSourceMapInput=KA;function VA(e,r,t){if(r=r||"",e&&(e[e.length-1]!=="/"&&r[0]!=="/"&&(e+="/"),r=e+r),t){var n=Bs(t);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var i=n.path.lastIndexOf("/");i>=0&&(n.path=n.path.substring(0,i+1))}r=ry(Oi(n),r)}return sc(r)}mt.computeSourceURL=VA});var lc=se(oy=>{var oc=Ri(),ac=Object.prototype.hasOwnProperty,Zn=typeof Map<"u";function nn(){this._array=[],this._set=Zn?new Map:Object.create(null)}nn.fromArray=function(r,t){for(var n=new nn,i=0,s=r.length;i<s;i++)n.add(r[i],t);return n};nn.prototype.size=function(){return Zn?this._set.size:Object.getOwnPropertyNames(this._set).length};nn.prototype.add=function(r,t){var n=Zn?r:oc.toSetString(r),i=Zn?this.has(r):ac.call(this._set,n),s=this._array.length;(!i||t)&&this._array.push(r),i||(Zn?this._set.set(r,s):this._set[n]=s)};nn.prototype.has=function(r){if(Zn)return this._set.has(r);var t=oc.toSetString(r);return ac.call(this._set,t)};nn.prototype.indexOf=function(r){if(Zn){var t=this._set.get(r);if(t>=0)return t}else{var n=oc.toSetString(r);if(ac.call(this._set,n))return this._set[n]}throw new Error('"'+r+'" is not in the set.')};nn.prototype.at=function(r){if(r>=0&&r<this._array.length)return this._array[r];throw new Error("No element indexed by "+r)};nn.prototype.toArray=function(){return this._array.slice()};oy.ArraySet=nn});var uy=se(ly=>{var ay=Ri();function zA(e,r){var t=e.generatedLine,n=r.generatedLine,i=e.generatedColumn,s=r.generatedColumn;return n>t||n==t&&s>=i||ay.compareByGeneratedPositionsInflated(e,r)<=0}function ya(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}ya.prototype.unsortedForEach=function(r,t){this._array.forEach(r,t)};ya.prototype.add=function(r){zA(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))};ya.prototype.toArray=function(){return this._sorted||(this._array.sort(ay.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};ly.MappingList=ya});var uc=se(cy=>{var Ms=ic(),tt=Ri(),Da=lc().ArraySet,qA=uy().MappingList;function rr(e){e||(e={}),this._file=tt.getArg(e,"file",null),this._sourceRoot=tt.getArg(e,"sourceRoot",null),this._skipValidation=tt.getArg(e,"skipValidation",!1),this._ignoreInvalidMapping=tt.getArg(e,"ignoreInvalidMapping",!1),this._sources=new Da,this._names=new Da,this._mappings=new qA,this._sourcesContents=null}rr.prototype._version=3;rr.fromSourceMap=function(r,t){var n=r.sourceRoot,i=new rr(Object.assign(t||{},{file:r.file,sourceRoot:n}));return r.eachMapping(function(s){var o={generated:{line:s.generatedLine,column:s.generatedColumn}};s.source!=null&&(o.source=s.source,n!=null&&(o.source=tt.relative(n,o.source)),o.original={line:s.originalLine,column:s.originalColumn},s.name!=null&&(o.name=s.name)),i.addMapping(o)}),r.sources.forEach(function(s){var o=s;n!==null&&(o=tt.relative(n,s)),i._sources.has(o)||i._sources.add(o);var a=r.sourceContentFor(s);a!=null&&i.setSourceContent(s,a)}),i};rr.prototype.addMapping=function(r){var t=tt.getArg(r,"generated"),n=tt.getArg(r,"original",null),i=tt.getArg(r,"source",null),s=tt.getArg(r,"name",null);!this._skipValidation&&this._validateMapping(t,n,i,s)===!1||(i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),s!=null&&(s=String(s),this._names.has(s)||this._names.add(s)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:s}))};rr.prototype.setSourceContent=function(r,t){var n=r;this._sourceRoot!=null&&(n=tt.relative(this._sourceRoot,n)),t!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[tt.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[tt.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))};rr.prototype.applySourceMap=function(r,t,n){var i=t;if(t==null){if(r.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=r.file}var s=this._sourceRoot;s!=null&&(i=tt.relative(s,i));var o=new Da,a=new Da;this._mappings.unsortedForEach(function(l){if(l.source===i&&l.originalLine!=null){var u=r.originalPositionFor({line:l.originalLine,column:l.originalColumn});u.source!=null&&(l.source=u.source,n!=null&&(l.source=tt.join(n,l.source)),s!=null&&(l.source=tt.relative(s,l.source)),l.originalLine=u.line,l.originalColumn=u.column,u.name!=null&&(l.name=u.name))}var c=l.source;c!=null&&!o.has(c)&&o.add(c);var p=l.name;p!=null&&!a.has(p)&&a.add(p)},this),this._sources=o,this._names=a,r.sources.forEach(function(l){var u=r.sourceContentFor(l);u!=null&&(n!=null&&(l=tt.join(n,l)),s!=null&&(l=tt.relative(s,l)),this.setSourceContent(l,u))},this)};rr.prototype._validateMapping=function(r,t,n,i){if(t&&typeof t.line!="number"&&typeof t.column!="number"){var s="original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.";if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}if(!(r&&"line"in r&&"column"in r&&r.line>0&&r.column>=0&&!t&&!n&&!i)){if(r&&"line"in r&&"column"in r&&t&&"line"in t&&"column"in t&&r.line>0&&r.column>=0&&t.line>0&&t.column>=0&&n)return;var s="Invalid mapping: "+JSON.stringify({generated:r,source:n,original:t,name:i});if(this._ignoreInvalidMapping)return typeof console<"u"&&console.warn&&console.warn(s),!1;throw new Error(s)}};rr.prototype._serializeMappings=function(){for(var r=0,t=1,n=0,i=0,s=0,o=0,a="",l,u,c,p,d=this._mappings.toArray(),f=0,m=d.length;f<m;f++){if(u=d[f],l="",u.generatedLine!==t)for(r=0;u.generatedLine!==t;)l+=";",t++;else if(f>0){if(!tt.compareByGeneratedPositionsInflated(u,d[f-1]))continue;l+=","}l+=Ms.encode(u.generatedColumn-r),r=u.generatedColumn,u.source!=null&&(p=this._sources.indexOf(u.source),l+=Ms.encode(p-o),o=p,l+=Ms.encode(u.originalLine-1-i),i=u.originalLine-1,l+=Ms.encode(u.originalColumn-n),n=u.originalColumn,u.name!=null&&(c=this._names.indexOf(u.name),l+=Ms.encode(c-s),s=c)),a+=l}return a};rr.prototype._generateSourcesContent=function(r,t){return r.map(function(n){if(!this._sourcesContents)return null;t!=null&&(n=tt.relative(t,n));var i=tt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)};rr.prototype.toJSON=function(){var r={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(r.file=this._file),this._sourceRoot!=null&&(r.sourceRoot=this._sourceRoot),this._sourcesContents&&(r.sourcesContent=this._generateSourcesContent(r.sources,r.sourceRoot)),r};rr.prototype.toString=function(){return JSON.stringify(this.toJSON())};cy.SourceMapGenerator=rr});var py=se(ei=>{ei.GREATEST_LOWER_BOUND=1;ei.LEAST_UPPER_BOUND=2;function cc(e,r,t,n,i,s){var o=Math.floor((r-e)/2)+e,a=i(t,n[o],!0);return a===0?o:a>0?r-o>1?cc(o,r,t,n,i,s):s==ei.LEAST_UPPER_BOUND?r<n.length?r:-1:o:o-e>1?cc(e,o,t,n,i,s):s==ei.LEAST_UPPER_BOUND?o:e<0?-1:e}ei.search=function(r,t,n,i){if(t.length===0)return-1;var s=cc(-1,t.length,r,t,n,i||ei.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&n(t[s],t[s-1],!0)===0;)--s;return s}});var my=se(fy=>{function WA(e){function r(i,s,o){var a=i[s];i[s]=i[o],i[o]=a}function t(i,s){return Math.round(i+Math.random()*(s-i))}function n(i,s,o,a){if(o<a){var l=t(o,a),u=o-1;r(i,l,a);for(var c=i[a],p=o;p<a;p++)s(i[p],c,!1)<=0&&(u+=1,r(i,u,p));r(i,u+1,p);var d=u+1;n(i,s,o,d-1),n(i,s,d+1,a)}}return n}function GA(e){let r=WA.toString();return new Function(`return ${r}`)()(e)}var dy=new WeakMap;fy.quickSort=function(e,r,t=0){let n=dy.get(r);n===void 0&&(n=GA(r),dy.set(r,n)),n(e,r,t,e.length-1)}});var yy=se(ba=>{var W=Ri(),dc=py(),Li=lc().ArraySet,HA=ic(),$s=my().quickSort;function Ke(e,r){var t=e;return typeof e=="string"&&(t=W.parseSourceMapInput(e)),t.sections!=null?new hr(t,r):new Dt(t,r)}Ke.fromSourceMap=function(e,r){return Dt.fromSourceMap(e,r)};Ke.prototype._version=3;Ke.prototype.__generatedMappings=null;Object.defineProperty(Ke.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}});Ke.prototype.__originalMappings=null;Object.defineProperty(Ke.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}});Ke.prototype._charIsMappingSeparator=function(r,t){var n=r.charAt(t);return n===";"||n===","};Ke.prototype._parseMappings=function(r,t){throw new Error("Subclasses must implement _parseMappings")};Ke.GENERATED_ORDER=1;Ke.ORIGINAL_ORDER=2;Ke.GREATEST_LOWER_BOUND=1;Ke.LEAST_UPPER_BOUND=2;Ke.prototype.eachMapping=function(r,t,n){var i=t||null,s=n||Ke.GENERATED_ORDER,o;switch(s){case Ke.GENERATED_ORDER:o=this._generatedMappings;break;case Ke.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}for(var a=this.sourceRoot,l=r.bind(i),u=this._names,c=this._sources,p=this._sourceMapURL,d=0,f=o.length;d<f;d++){var m=o[d],h=m.source===null?null:c.at(m.source);h!==null&&(h=W.computeSourceURL(a,h,p)),l({source:h,generatedLine:m.generatedLine,generatedColumn:m.generatedColumn,originalLine:m.originalLine,originalColumn:m.originalColumn,name:m.name===null?null:u.at(m.name)})}};Ke.prototype.allGeneratedPositionsFor=function(r){var t=W.getArg(r,"line"),n={source:W.getArg(r,"source"),originalLine:t,originalColumn:W.getArg(r,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var i=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",W.compareByOriginalPositions,dc.LEAST_UPPER_BOUND);if(s>=0){var o=this._originalMappings[s];if(r.column===void 0)for(var a=o.originalLine;o&&o.originalLine===a;)i.push({line:W.getArg(o,"generatedLine",null),column:W.getArg(o,"generatedColumn",null),lastColumn:W.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s];else for(var l=o.originalColumn;o&&o.originalLine===t&&o.originalColumn==l;)i.push({line:W.getArg(o,"generatedLine",null),column:W.getArg(o,"generatedColumn",null),lastColumn:W.getArg(o,"lastGeneratedColumn",null)}),o=this._originalMappings[++s]}return i};ba.SourceMapConsumer=Ke;function Dt(e,r){var t=e;typeof e=="string"&&(t=W.parseSourceMapInput(e));var n=W.getArg(t,"version"),i=W.getArg(t,"sources"),s=W.getArg(t,"names",[]),o=W.getArg(t,"sourceRoot",null),a=W.getArg(t,"sourcesContent",null),l=W.getArg(t,"mappings"),u=W.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);o&&(o=W.normalize(o)),i=i.map(String).map(W.normalize).map(function(c){return o&&W.isAbsolute(o)&&W.isAbsolute(c)?W.relative(o,c):c}),this._names=Li.fromArray(s.map(String),!0),this._sources=Li.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(c){return W.computeSourceURL(o,c,r)}),this.sourceRoot=o,this.sourcesContent=a,this._mappings=l,this._sourceMapURL=r,this.file=u}Dt.prototype=Object.create(Ke.prototype);Dt.prototype.consumer=Ke;Dt.prototype._findSourceIndex=function(e){var r=e;if(this.sourceRoot!=null&&(r=W.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);var t;for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1};Dt.fromSourceMap=function(r,t){var n=Object.create(Dt.prototype),i=n._names=Li.fromArray(r._names.toArray(),!0),s=n._sources=Li.fromArray(r._sources.toArray(),!0);n.sourceRoot=r._sourceRoot,n.sourcesContent=r._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=r._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map(function(f){return W.computeSourceURL(n.sourceRoot,f,t)});for(var o=r._mappings.toArray().slice(),a=n.__generatedMappings=[],l=n.__originalMappings=[],u=0,c=o.length;u<c;u++){var p=o[u],d=new gy;d.generatedLine=p.generatedLine,d.generatedColumn=p.generatedColumn,p.source&&(d.source=s.indexOf(p.source),d.originalLine=p.originalLine,d.originalColumn=p.originalColumn,p.name&&(d.name=i.indexOf(p.name)),l.push(d)),a.push(d)}return $s(n.__originalMappings,W.compareByOriginalPositions),n};Dt.prototype._version=3;Object.defineProperty(Dt.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function gy(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var pc=W.compareByGeneratedPositionsDeflatedNoLine;function hy(e,r){let t=e.length,n=e.length-r;if(!(n<=1))if(n==2){let i=e[r],s=e[r+1];pc(i,s)>0&&(e[r]=s,e[r+1]=i)}else if(n<20)for(let i=r;i<t;i++)for(let s=i;s>r;s--){let o=e[s-1],a=e[s];if(pc(o,a)<=0)break;e[s-1]=a,e[s]=o}else $s(e,pc,r)}Dt.prototype._parseMappings=function(r,t){var n=1,i=0,s=0,o=0,a=0,l=0,u=r.length,c=0,p={},d={},f=[],m=[],h,g,y,D,C;let x=0;for(;c<u;)if(r.charAt(c)===";")n++,c++,i=0,hy(m,x),x=m.length;else if(r.charAt(c)===",")c++;else{for(h=new gy,h.generatedLine=n,D=c;D<u&&!this._charIsMappingSeparator(r,D);D++);for(g=r.slice(c,D),y=[];c<D;)HA.decode(r,c,d),C=d.value,c=d.rest,y.push(C);if(y.length===2)throw new Error("Found a source, but no line and column");if(y.length===3)throw new Error("Found a source and line, but no column");if(h.generatedColumn=i+y[0],i=h.generatedColumn,y.length>1&&(h.source=a+y[1],a+=y[1],h.originalLine=s+y[2],s=h.originalLine,h.originalLine+=1,h.originalColumn=o+y[3],o=h.originalColumn,y.length>4&&(h.name=l+y[4],l+=y[4])),m.push(h),typeof h.originalLine=="number"){let E=h.source;for(;f.length<=E;)f.push(null);f[E]===null&&(f[E]=[]),f[E].push(h)}}hy(m,x),this.__generatedMappings=m;for(var b=0;b<f.length;b++)f[b]!=null&&$s(f[b],W.compareByOriginalPositionsNoSource);this.__originalMappings=[].concat(...f)};Dt.prototype._findMapping=function(r,t,n,i,s,o){if(r[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+r[n]);if(r[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+r[i]);return dc.search(r,t,s,o)};Dt.prototype.computeColumnSpans=function(){for(var r=0;r<this._generatedMappings.length;++r){var t=this._generatedMappings[r];if(r+1<this._generatedMappings.length){var n=this._generatedMappings[r+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}};Dt.prototype.originalPositionFor=function(r){var t={generatedLine:W.getArg(r,"line"),generatedColumn:W.getArg(r,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",W.compareByGeneratedPositionsDeflated,W.getArg(r,"bias",Ke.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var s=W.getArg(i,"source",null);s!==null&&(s=this._sources.at(s),s=W.computeSourceURL(this.sourceRoot,s,this._sourceMapURL));var o=W.getArg(i,"name",null);return o!==null&&(o=this._names.at(o)),{source:s,line:W.getArg(i,"originalLine",null),column:W.getArg(i,"originalColumn",null),name:o}}}return{source:null,line:null,column:null,name:null}};Dt.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(r){return r==null}):!1};Dt.prototype.sourceContentFor=function(r,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(r);if(n>=0)return this.sourcesContent[n];var i=r;this.sourceRoot!=null&&(i=W.relative(this.sourceRoot,i));var s;if(this.sourceRoot!=null&&(s=W.urlParse(this.sourceRoot))){var o=i.replace(/^file:\/\//,"");if(s.scheme=="file"&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!s.path||s.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(t)return null;throw new Error('"'+i+'" is not in the SourceMap.')};Dt.prototype.generatedPositionFor=function(r){var t=W.getArg(r,"source");if(t=this._findSourceIndex(t),t<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:W.getArg(r,"line"),originalColumn:W.getArg(r,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",W.compareByOriginalPositions,W.getArg(r,"bias",Ke.GREATEST_LOWER_BOUND));if(i>=0){var s=this._originalMappings[i];if(s.source===n.source)return{line:W.getArg(s,"generatedLine",null),column:W.getArg(s,"generatedColumn",null),lastColumn:W.getArg(s,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};ba.BasicSourceMapConsumer=Dt;function hr(e,r){var t=e;typeof e=="string"&&(t=W.parseSourceMapInput(e));var n=W.getArg(t,"version"),i=W.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new Li,this._names=new Li;var s={line:-1,column:0};this._sections=i.map(function(o){if(o.url)throw new Error("Support for url field in sections not implemented.");var a=W.getArg(o,"offset"),l=W.getArg(a,"line"),u=W.getArg(a,"column");if(l<s.line||l===s.line&&u<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=a,{generatedOffset:{generatedLine:l+1,generatedColumn:u+1},consumer:new Ke(W.getArg(o,"map"),r)}})}hr.prototype=Object.create(Ke.prototype);hr.prototype.constructor=Ke;hr.prototype._version=3;Object.defineProperty(hr.prototype,"sources",{get:function(){for(var e=[],r=0;r<this._sections.length;r++)for(var t=0;t<this._sections[r].consumer.sources.length;t++)e.push(this._sections[r].consumer.sources[t]);return e}});hr.prototype.originalPositionFor=function(r){var t={generatedLine:W.getArg(r,"line"),generatedColumn:W.getArg(r,"column")},n=dc.search(t,this._sections,function(s,o){var a=s.generatedLine-o.generatedOffset.generatedLine;return a||s.generatedColumn-o.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:r.bias}):{source:null,line:null,column:null,name:null}};hr.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(r){return r.consumer.hasContentsOfAllSources()})};hr.prototype.sourceContentFor=function(r,t){for(var n=0;n<this._sections.length;n++){var i=this._sections[n],s=i.consumer.sourceContentFor(r,!0);if(s||s==="")return s}if(t)return null;throw new Error('"'+r+'" is not in the SourceMap.')};hr.prototype.generatedPositionFor=function(r){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(n.consumer._findSourceIndex(W.getArg(r,"source"))!==-1){var i=n.consumer.generatedPositionFor(r);if(i){var s={line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)};return s}}}return{line:null,column:null}};hr.prototype._parseMappings=function(r,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],s=i.consumer._generatedMappings,o=0;o<s.length;o++){var a=s[o],l=i.consumer._sources.at(a.source);l!==null&&(l=W.computeSourceURL(i.consumer.sourceRoot,l,this._sourceMapURL)),this._sources.add(l),l=this._sources.indexOf(l);var u=null;a.name&&(u=i.consumer._names.at(a.name),this._names.add(u),u=this._names.indexOf(u));var c={source:l,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:u};this.__generatedMappings.push(c),typeof c.originalLine=="number"&&this.__originalMappings.push(c)}$s(this.__generatedMappings,W.compareByGeneratedPositionsDeflated),$s(this.__originalMappings,W.compareByOriginalPositions)};ba.IndexedSourceMapConsumer=hr});var by=se(Dy=>{var JA=uc().SourceMapGenerator,xa=Ri(),YA=/(\r?\n)/,XA=10,Bi="$$$isSourceNode$$$";function qt(e,r,t,n,i){this.children=[],this.sourceContents={},this.line=e??null,this.column=r??null,this.source=t??null,this.name=i??null,this[Bi]=!0,n!=null&&this.add(n)}qt.fromStringWithSourceMap=function(r,t,n){var i=new qt,s=r.split(YA),o=0,a=function(){var d=m(),f=m()||"";return d+f;function m(){return o<s.length?s[o++]:void 0}},l=1,u=0,c=null;return t.eachMapping(function(d){if(c!==null)if(l<d.generatedLine)p(c,a()),l++,u=0;else{var f=s[o]||"",m=f.substr(0,d.generatedColumn-u);s[o]=f.substr(d.generatedColumn-u),u=d.generatedColumn,p(c,m),c=d;return}for(;l<d.generatedLine;)i.add(a()),l++;if(u<d.generatedColumn){var f=s[o]||"";i.add(f.substr(0,d.generatedColumn)),s[o]=f.substr(d.generatedColumn),u=d.generatedColumn}c=d},this),o<s.length&&(c&&p(c,a()),i.add(s.splice(o).join(""))),t.sources.forEach(function(d){var f=t.sourceContentFor(d);f!=null&&(n!=null&&(d=xa.join(n,d)),i.setSourceContent(d,f))}),i;function p(d,f){if(d===null||d.source===void 0)i.add(f);else{var m=n?xa.join(n,d.source):d.source;i.add(new qt(d.originalLine,d.originalColumn,m,f,d.name))}}};qt.prototype.add=function(r){if(Array.isArray(r))r.forEach(function(t){this.add(t)},this);else if(r[Bi]||typeof r=="string")r&&this.children.push(r);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+r);return this};qt.prototype.prepend=function(r){if(Array.isArray(r))for(var t=r.length-1;t>=0;t--)this.prepend(r[t]);else if(r[Bi]||typeof r=="string")this.children.unshift(r);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+r);return this};qt.prototype.walk=function(r){for(var t,n=0,i=this.children.length;n<i;n++)t=this.children[n],t[Bi]?t.walk(r):t!==""&&r(t,{source:this.source,line:this.line,column:this.column,name:this.name})};qt.prototype.join=function(r){var t,n,i=this.children.length;if(i>0){for(t=[],n=0;n<i-1;n++)t.push(this.children[n]),t.push(r);t.push(this.children[n]),this.children=t}return this};qt.prototype.replaceRight=function(r,t){var n=this.children[this.children.length-1];return n[Bi]?n.replaceRight(r,t):typeof n=="string"?this.children[this.children.length-1]=n.replace(r,t):this.children.push("".replace(r,t)),this};qt.prototype.setSourceContent=function(r,t){this.sourceContents[xa.toSetString(r)]=t};qt.prototype.walkSourceContents=function(r){for(var t=0,n=this.children.length;t<n;t++)this.children[t][Bi]&&this.children[t].walkSourceContents(r);for(var i=Object.keys(this.sourceContents),t=0,n=i.length;t<n;t++)r(xa.fromSetString(i[t]),this.sourceContents[i[t]])};qt.prototype.toString=function(){var r="";return this.walk(function(t){r+=t}),r};qt.prototype.toStringWithSourceMap=function(r){var t={code:"",line:1,column:0},n=new JA(r),i=!1,s=null,o=null,a=null,l=null;return this.walk(function(u,c){t.code+=u,c.source!==null&&c.line!==null&&c.column!==null?((s!==c.source||o!==c.line||a!==c.column||l!==c.name)&&n.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name}),s=c.source,o=c.line,a=c.column,l=c.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),s=null,i=!1);for(var p=0,d=u.length;p<d;p++)u.charCodeAt(p)===XA?(t.line++,t.column=0,p+1===d?(s=null,i=!1):i&&n.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:t.line,column:t.column},name:c.name})):t.column++}),this.walkSourceContents(function(u,c){n.setSourceContent(u,c)}),{code:t.code,map:n}};Dy.SourceNode=qt});var xy=se(Ea=>{Ea.SourceMapGenerator=uc().SourceMapGenerator;Ea.SourceMapConsumer=yy().SourceMapConsumer;Ea.SourceNode=by().SourceNode});var Xy=se(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});function QA(e,r){if(e==null)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.includes(n))continue;t[n]=e[n]}return t}var Br=class{constructor(r,t,n){this.line=void 0,this.column=void 0,this.index=void 0,this.line=r,this.column=t,this.index=n}},Ki=class{constructor(r,t){this.start=void 0,this.end=void 0,this.filename=void 0,this.identifierName=void 0,this.start=r,this.end=t}};function Nt(e,r){let{line:t,column:n,index:i}=e;return new Br(t,n+r,i+r)}var Ey="BABEL_PARSER_SOURCETYPE_MODULE_REQUIRED",ZA={ImportMetaOutsideModule:{message:`import.meta may appear only with 'sourceType: "module"'`,code:Ey},ImportOutsideModule:{message:`'import' and 'export' may appear only with 'sourceType: "module"'`,code:Ey}},Cy={ArrayPattern:"array destructuring pattern",AssignmentExpression:"assignment expression",AssignmentPattern:"assignment expression",ArrowFunctionExpression:"arrow function expression",ConditionalExpression:"conditional expression",CatchClause:"catch clause",ForOfStatement:"for-of statement",ForInStatement:"for-in statement",ForStatement:"for-loop",FormalParameters:"function parameter list",Identifier:"identifier",ImportSpecifier:"import specifier",ImportDefaultSpecifier:"import default specifier",ImportNamespaceSpecifier:"import namespace specifier",ObjectPattern:"object destructuring pattern",ParenthesizedExpression:"parenthesized expression",RestElement:"rest element",UpdateExpression:{true:"prefix operation",false:"postfix operation"},VariableDeclarator:"variable declaration",YieldExpression:"yield expression"},wa=e=>e.type==="UpdateExpression"?Cy.UpdateExpression[`${e.prefix}`]:Cy[e.type],ev={AccessorIsGenerator:({kind:e})=>`A ${e}ter cannot be a generator.`,ArgumentsInClass:"'arguments' is only allowed in functions and class methods.",AsyncFunctionInSingleStatementContext:"Async functions can only be declared at the top level or inside a block.",AwaitBindingIdentifier:"Can not use 'await' as identifier inside an async function.",AwaitBindingIdentifierInStaticBlock:"Can not use 'await' as identifier inside a static block.",AwaitExpressionFormalParameter:"'await' is not allowed in async function parameters.",AwaitUsingNotInAsyncContext:"'await using' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncContext:"'await' is only allowed within async functions and at the top levels of modules.",AwaitNotInAsyncFunction:"'await' is only allowed within async functions.",BadGetterArity:"A 'get' accessor must not have any formal parameters.",BadSetterArity:"A 'set' accessor must have exactly one formal parameter.",BadSetterRestParameter:"A 'set' accessor function argument must not be a rest parameter.",ConstructorClassField:"Classes may not have a field named 'constructor'.",ConstructorClassPrivateField:"Classes may not have a private field named '#constructor'.",ConstructorIsAccessor:"Class constructor may not be an accessor.",ConstructorIsAsync:"Constructor can't be an async function.",ConstructorIsGenerator:"Constructor can't be a generator.",DeclarationMissingInitializer:({kind:e})=>`Missing initializer in ${e} declaration.`,DecoratorArgumentsOutsideParentheses:"Decorator arguments must be moved inside parentheses: use '@(decorator(args))' instead of '@(decorator)(args)'.",DecoratorBeforeExport:"Decorators must be placed *before* the 'export' keyword. Remove the 'decoratorsBeforeExport: true' option to use the 'export @decorator class {}' syntax.",DecoratorsBeforeAfterExport:"Decorators can be placed *either* before or after the 'export' keyword, but not in both locations at the same time.",DecoratorConstructor:"Decorators can't be used with a constructor. Did you mean '@dec class { ... }'?",DecoratorExportClass:"Decorators must be placed *after* the 'export' keyword. Remove the 'decoratorsBeforeExport: false' option to use the '@decorator export class {}' syntax.",DecoratorSemicolon:"Decorators must not be followed by a semicolon.",DecoratorStaticBlock:"Decorators can't be used with a static block.",DeferImportRequiresNamespace:'Only `import defer * as x from "./module"` is valid.',DeletePrivateField:"Deleting a private field is not allowed.",DestructureNamedImport:"ES2015 named imports do not destructure. Use another statement for destructuring after the import.",DuplicateConstructor:"Duplicate constructor in the same class.",DuplicateDefaultExport:"Only one default export allowed per module.",DuplicateExport:({exportName:e})=>`\`${e}\` has already been exported. Exported identifiers must be unique.`,DuplicateProto:"Redefinition of __proto__ property.",DuplicateRegExpFlags:"Duplicate regular expression flag.",DynamicImportPhaseRequiresImportExpressions:({phase:e})=>`'import.${e}(...)' can only be parsed when using the 'createImportExpressions' option.`,ElementAfterRest:"Rest element must be last element.",EscapedCharNotAnIdentifier:"Invalid Unicode escape.",ExportBindingIsString:({localName:e,exportName:r})=>`A string literal cannot be used as an exported binding without \`from\`.
- Did you mean \`export { '${e}' as '${r}' } from 'some-module'\`?`,ExportDefaultFromAsIdentifier:"'from' is not allowed as an identifier after 'export default'.",ForInOfLoopInitializer:({type:e})=>`'${e==="ForInStatement"?"for-in":"for-of"}' loop variable declaration may not have an initializer.`,ForInUsing:"For-in loop may not start with 'using' declaration.",ForOfAsync:"The left-hand side of a for-of loop may not be 'async'.",ForOfLet:"The left-hand side of a for-of loop may not start with 'let'.",GeneratorInSingleStatementContext:"Generators can only be declared at the top level or inside a block.",IllegalBreakContinue:({type:e})=>`Unsyntactic ${e==="BreakStatement"?"break":"continue"}.`,IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list.",IllegalReturn:"'return' outside of function.",ImportAttributesUseAssert:"The `assert` keyword in import attributes is deprecated and it has been replaced by the `with` keyword. You can enable the `deprecatedAssertSyntax: true` option in the import attributes plugin to suppress this error.",ImportBindingIsString:({importName:e})=>`A string literal cannot be used as an imported binding.
- Did you mean \`import { "${e}" as foo }\`?`,ImportCallArgumentTrailingComma:"Trailing comma is disallowed inside import(...) arguments.",ImportCallArity:({maxArgumentCount:e})=>`\`import()\` requires exactly ${e===1?"one argument":"one or two arguments"}.`,ImportCallNotNewExpression:"Cannot use new with import(...).",ImportCallSpreadArgument:"`...` is not allowed in `import()`.",ImportJSONBindingNotDefault:"A JSON module can only be imported with `default`.",ImportReflectionHasAssertion:"`import module x` cannot have assertions.",ImportReflectionNotBinding:'Only `import module x from "./module"` is valid.',IncompatibleRegExpUVFlags:"The 'u' and 'v' regular expression flags cannot be enabled at the same time.",InvalidBigIntLiteral:"Invalid BigIntLiteral.",InvalidCodePoint:"Code point out of bounds.",InvalidCoverInitializedName:"Invalid shorthand property initializer.",InvalidDecimal:"Invalid decimal.",InvalidDigit:({radix:e})=>`Expected number in radix ${e}.`,InvalidEscapeSequence:"Bad character escape sequence.",InvalidEscapeSequenceTemplate:"Invalid escape sequence in template.",InvalidEscapedReservedWord:({reservedWord:e})=>`Escape sequence in keyword ${e}.`,InvalidIdentifier:({identifierName:e})=>`Invalid identifier ${e}.`,InvalidLhs:({ancestor:e})=>`Invalid left-hand side in ${wa(e)}.`,InvalidLhsBinding:({ancestor:e})=>`Binding invalid left-hand side in ${wa(e)}.`,InvalidLhsOptionalChaining:({ancestor:e})=>`Invalid optional chaining in the left-hand side of ${wa(e)}.`,InvalidNumber:"Invalid number.",InvalidOrMissingExponent:"Floating-point numbers require a valid exponent after the 'e'.",InvalidOrUnexpectedToken:({unexpected:e})=>`Unexpected character '${e}'.`,InvalidParenthesizedAssignment:"Invalid parenthesized assignment pattern.",InvalidPrivateFieldResolution:({identifierName:e})=>`Private name #${e} is not defined.`,InvalidPropertyBindingPattern:"Binding member expression.",InvalidRecordProperty:"Only properties and spread elements are allowed in record definitions.",InvalidRestAssignmentPattern:"Invalid rest operator's argument.",LabelRedeclaration:({labelName:e})=>`Label '${e}' is already declared.`,LetInLexicalBinding:"'let' is disallowed as a lexically bound name.",LineTerminatorBeforeArrow:"No line break is allowed before '=>'.",MalformedRegExpFlags:"Invalid regular expression flag.",MissingClassName:"A class name is required.",MissingEqInAssignment:"Only '=' operator can be used for specifying default value.",MissingSemicolon:"Missing semicolon.",MissingPlugin:({missingPlugin:e})=>`This experimental syntax requires enabling the parser plugin: ${e.map(r=>JSON.stringify(r)).join(", ")}.`,MissingOneOfPlugins:({missingPlugin:e})=>`This experimental syntax requires enabling one of the following parser plugin(s): ${e.map(r=>JSON.stringify(r)).join(", ")}.`,MissingUnicodeEscape:"Expecting Unicode escape sequence \\uXXXX.",MixingCoalesceWithLogical:"Nullish coalescing operator(??) requires parens when mixing with logical operators.",ModuleAttributeDifferentFromType:"The only accepted module attribute is `type`.",ModuleAttributeInvalidValue:"Only string literals are allowed as module attribute values.",ModuleAttributesWithDuplicateKeys:({key:e})=>`Duplicate key "${e}" is not allowed in module attributes.`,ModuleExportNameHasLoneSurrogate:({surrogateCharCode:e})=>`An export name cannot include a lone surrogate, found '\\u${e.toString(16)}'.`,ModuleExportUndefined:({localName:e})=>`Export '${e}' is not defined.`,MultipleDefaultsInSwitch:"Multiple default clauses.",NewlineAfterThrow:"Illegal newline after throw.",NoCatchOrFinally:"Missing catch or finally clause.",NumberIdentifier:"Identifier directly after number.",NumericSeparatorInEscapeSequence:"Numeric separators are not allowed inside unicode escape sequences or hex escape sequences.",ObsoleteAwaitStar:"'await*' has been removed from the async functions proposal. Use Promise.all() instead.",OptionalChainingNoNew:"Constructors in/after an Optional Chain are not allowed.",OptionalChainingNoTemplate:"Tagged Template Literals are not allowed in optionalChain.",OverrideOnConstructor:"'override' modifier cannot appear on a constructor declaration.",ParamDupe:"Argument name clash.",PatternHasAccessor:"Object pattern can't contain getter or setter.",PatternHasMethod:"Object pattern can't contain methods.",PrivateInExpectedIn:({identifierName:e})=>`Private names are only allowed in property accesses (\`obj.#${e}\`) or in \`in\` expressions (\`#${e} in obj\`).`,PrivateNameRedeclaration:({identifierName:e})=>`Duplicate private name #${e}.`,RecordExpressionBarIncorrectEndSyntaxType:"Record expressions ending with '|}' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionBarIncorrectStartSyntaxType:"Record expressions starting with '{|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",RecordExpressionHashIncorrectStartSyntaxType:"Record expressions starting with '#{' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",RecordNoProto:"'__proto__' is not allowed in Record expressions.",RestTrailingComma:"Unexpected trailing comma after rest element.",SloppyFunction:"In non-strict mode code, functions can only be declared at top level or inside a block.",SloppyFunctionAnnexB:"In non-strict mode code, functions can only be declared at top level, inside a block, or as the body of an if statement.",SourcePhaseImportRequiresDefault:'Only `import source x from "./module"` is valid.',StaticPrototype:"Classes may not have static property named prototype.",SuperNotAllowed:"`super()` is only valid inside a class constructor of a subclass. Maybe a typo in the method name ('constructor') or not extending another class?",SuperPrivateField:"Private fields can't be accessed on super.",TrailingDecorator:"Decorators must be attached to a class element.",TupleExpressionBarIncorrectEndSyntaxType:"Tuple expressions ending with '|]' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionBarIncorrectStartSyntaxType:"Tuple expressions starting with '[|' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'bar'.",TupleExpressionHashIncorrectStartSyntaxType:"Tuple expressions starting with '#[' are only allowed when the 'syntaxType' option of the 'recordAndTuple' plugin is set to 'hash'.",UnexpectedArgumentPlaceholder:"Unexpected argument placeholder.",UnexpectedAwaitAfterPipelineBody:'Unexpected "await" after pipeline body; await must have parentheses in minimal proposal.',UnexpectedDigitAfterHash:"Unexpected digit after hash token.",UnexpectedImportExport:"'import' and 'export' may only appear at the top level.",UnexpectedKeyword:({keyword:e})=>`Unexpected keyword '${e}'.`,UnexpectedLeadingDecorator:"Leading decorators must be attached to a class declaration.",UnexpectedLexicalDeclaration:"Lexical declaration cannot appear in a single-statement context.",UnexpectedNewTarget:"`new.target` can only be used in functions or class properties.",UnexpectedNumericSeparator:"A numeric separator is only allowed between two digits.",UnexpectedPrivateField:"Unexpected private name.",UnexpectedReservedWord:({reservedWord:e})=>`Unexpected reserved word '${e}'.`,UnexpectedSuper:"'super' is only allowed in object methods and classes.",UnexpectedToken:({expected:e,unexpected:r})=>`Unexpected token${r?` '${r}'.`:""}${e?`, expected "${e}"`:""}`,UnexpectedTokenUnaryExponentiation:"Illegal expression. Wrap left hand side or entire exponentiation in parentheses.",UnexpectedUsingDeclaration:"Using declaration cannot appear in the top level when source type is `script`.",UnsupportedBind:"Binding should be performed on object property.",UnsupportedDecoratorExport:"A decorated export must export a class declaration.",UnsupportedDefaultExport:"Only expressions, functions or classes are allowed as the `default` export.",UnsupportedImport:"`import` can only be used in `import()` or `import.meta`.",UnsupportedMetaProperty:({target:e,onlyValidPropertyName:r})=>`The only valid meta property for ${e} is ${e}.${r}.`,UnsupportedParameterDecorator:"Decorators cannot be used to decorate parameters.",UnsupportedPropertyDecorator:"Decorators cannot be used to decorate object literal properties.",UnsupportedSuper:"'super' can only be used with function calls (i.e. super()) or in property accesses (i.e. super.prop or super[prop]).",UnterminatedComment:"Unterminated comment.",UnterminatedRegExp:"Unterminated regular expression.",UnterminatedString:"Unterminated string constant.",UnterminatedTemplate:"Unterminated template.",UsingDeclarationExport:"Using declaration cannot be exported.",UsingDeclarationHasBindingPattern:"Using declaration cannot have destructuring patterns.",VarRedeclaration:({identifierName:e})=>`Identifier '${e}' has already been declared.`,YieldBindingIdentifier:"Can not use 'yield' as identifier inside a generator.",YieldInParameter:"Yield expression is not allowed in formal parameters.",ZeroDigitNumericSeparator:"Numeric separator can not be used after leading 0."},tv={StrictDelete:"Deleting local variable in strict mode.",StrictEvalArguments:({referenceName:e})=>`Assigning to '${e}' in strict mode.`,StrictEvalArgumentsBinding:({bindingName:e})=>`Binding '${e}' in strict mode.`,StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block.",StrictNumericEscape:"The only valid numeric escape in strict mode is '\\0'.",StrictOctalLiteral:"Legacy octal literals are not allowed in strict mode.",StrictWith:"'with' in strict mode."},rv=new Set(["ArrowFunctionExpression","AssignmentExpression","ConditionalExpression","YieldExpression"]),nv={PipeBodyIsTighter:"Unexpected yield after pipeline body; any yield expression acting as Hack-style pipe body must be parenthesized due to its loose operator precedence.",PipeTopicRequiresHackPipes:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.',PipeTopicUnbound:"Topic reference is unbound; it must be inside a pipe body.",PipeTopicUnconfiguredToken:({token:e})=>`Invalid topic token ${e}. In order to use ${e} as a topic reference, the pipelineOperator plugin must be configured with { "proposal": "hack", "topicToken": "${e}" }.`,PipeTopicUnused:"Hack-style pipe body does not contain a topic reference; Hack-style pipes must use topic at least once.",PipeUnparenthesizedBody:({type:e})=>`Hack-style pipe body cannot be an unparenthesized ${wa({type:e})}; please wrap it in parentheses.`,PipelineBodyNoArrow:'Unexpected arrow "=>" after pipeline body; arrow function in pipeline body must be parenthesized.',PipelineBodySequenceExpression:"Pipeline body may not be a comma-separated sequence expression.",PipelineHeadSequenceExpression:"Pipeline head should not be a comma-separated sequence expression.",PipelineTopicUnused:"Pipeline is in topic style but does not use topic reference.",PrimaryTopicNotAllowed:"Topic reference was used in a lexical context without topic binding.",PrimaryTopicRequiresSmartPipeline:'Topic reference is used, but the pipelineOperator plugin was not passed a "proposal": "hack" or "smart" option.'},iv=["message"];function Sy(e,r,t){Object.defineProperty(e,r,{enumerable:!1,configurable:!0,value:t})}function sv({toMessage:e,code:r,reasonCode:t,syntaxPlugin:n}){let i=t==="MissingPlugin"||t==="MissingOneOfPlugins";{let s={AccessorCannotDeclareThisParameter:"AccesorCannotDeclareThisParameter",AccessorCannotHaveTypeParameters:"AccesorCannotHaveTypeParameters",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"ConstInitiailizerMustBeStringOrNumericLiteralOrLiteralEnumReference",SetAccessorCannotHaveOptionalParameter:"SetAccesorCannotHaveOptionalParameter",SetAccessorCannotHaveRestParameter:"SetAccesorCannotHaveRestParameter",SetAccessorCannotHaveReturnType:"SetAccesorCannotHaveReturnType"};s[t]&&(t=s[t])}return function s(o,a){let l=new SyntaxError;return l.code=r,l.reasonCode=t,l.loc=o,l.pos=o.index,l.syntaxPlugin=n,i&&(l.missingPlugin=a.missingPlugin),Sy(l,"clone",function(c={}){var p;let{line:d,column:f,index:m}=(p=c.loc)!=null?p:o;return s(new Br(d,f,m),Object.assign({},a,c.details))}),Sy(l,"details",a),Object.defineProperty(l,"message",{configurable:!0,get(){let u=`${e(a)} (${o.line}:${o.column})`;return this.message=u,u},set(u){Object.defineProperty(this,"message",{value:u,writable:!0})}}),l}}function ln(e,r){if(Array.isArray(e))return n=>ln(n,e[0]);let t={};for(let n of Object.keys(e)){let i=e[n],s=typeof i=="string"?{message:()=>i}:typeof i=="function"?{message:i}:i,{message:o}=s,a=QA(s,iv),l=typeof o=="string"?()=>o:o;t[n]=sv(Object.assign({code:"BABEL_PARSER_SYNTAX_ERROR",reasonCode:n,toMessage:l},r?{syntaxPlugin:r}:{},a))}return t}var S=Object.assign({},ln(ZA),ln(ev),ln(tv),ln`pipelineOperator`(nv)),{defineProperty:ov}=Object,wy=(e,r)=>{e&&ov(e,r,{enumerable:!1,value:e[r]})};function Us(e){return wy(e.loc.start,"index"),wy(e.loc.end,"index"),e}var av=e=>class extends e{parse(){let t=Us(super.parse());return this.options.tokens&&(t.tokens=t.tokens.map(Us)),t}parseRegExpLiteral({pattern:t,flags:n}){let i=null;try{i=new RegExp(t,n)}catch{}let s=this.estreeParseLiteral(i);return s.regex={pattern:t,flags:n},s}parseBigIntLiteral(t){let n;try{n=BigInt(t)}catch{n=null}let i=this.estreeParseLiteral(n);return i.bigint=String(i.value||t),i}parseDecimalLiteral(t){let i=this.estreeParseLiteral(null);return i.decimal=String(i.value||t),i}estreeParseLiteral(t){return this.parseLiteral(t,"Literal")}parseStringLiteral(t){return this.estreeParseLiteral(t)}parseNumericLiteral(t){return this.estreeParseLiteral(t)}parseNullLiteral(){return this.estreeParseLiteral(null)}parseBooleanLiteral(t){return this.estreeParseLiteral(t)}directiveToStmt(t){let n=t.value;delete t.value,n.type="Literal",n.raw=n.extra.raw,n.value=n.extra.expressionValue;let i=t;return i.type="ExpressionStatement",i.expression=n,i.directive=n.extra.rawValue,delete n.extra,i}initFunction(t,n){super.initFunction(t,n),t.expression=!1}checkDeclaration(t){t!=null&&this.isObjectProperty(t)?this.checkDeclaration(t.value):super.checkDeclaration(t)}getObjectOrClassMethodParams(t){return t.value.params}isValidDirective(t){var n;return t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&!((n=t.expression.extra)!=null&&n.parenthesized)}parseBlockBody(t,n,i,s,o){super.parseBlockBody(t,n,i,s,o);let a=t.directives.map(l=>this.directiveToStmt(l));t.body=a.concat(t.body),delete t.directives}pushClassMethod(t,n,i,s,o,a){this.parseMethod(n,i,s,o,a,"ClassMethod",!0),n.typeParameters&&(n.value.typeParameters=n.typeParameters,delete n.typeParameters),t.body.push(n)}parsePrivateName(){let t=super.parsePrivateName();return this.getPluginOption("estree","classFeatures")?this.convertPrivateNameToPrivateIdentifier(t):t}convertPrivateNameToPrivateIdentifier(t){let n=super.getPrivateNameSV(t);return t=t,delete t.id,t.name=n,t.type="PrivateIdentifier",t}isPrivateName(t){return this.getPluginOption("estree","classFeatures")?t.type==="PrivateIdentifier":super.isPrivateName(t)}getPrivateNameSV(t){return this.getPluginOption("estree","classFeatures")?t.name:super.getPrivateNameSV(t)}parseLiteral(t,n){let i=super.parseLiteral(t,n);return i.raw=i.extra.raw,delete i.extra,i}parseFunctionBody(t,n,i=!1){super.parseFunctionBody(t,n,i),t.expression=t.body.type!=="BlockStatement"}parseMethod(t,n,i,s,o,a,l=!1){let u=this.startNode();return u.kind=t.kind,u=super.parseMethod(u,n,i,s,o,a,l),u.type="FunctionExpression",delete u.kind,t.value=u,a==="ClassPrivateMethod"&&(t.computed=!1),this.finishNode(t,"MethodDefinition")}nameIsConstructor(t){return t.type==="Literal"?t.value==="constructor":super.nameIsConstructor(t)}parseClassProperty(...t){let n=super.parseClassProperty(...t);return this.getPluginOption("estree","classFeatures")&&(n.type="PropertyDefinition"),n}parseClassPrivateProperty(...t){let n=super.parseClassPrivateProperty(...t);return this.getPluginOption("estree","classFeatures")&&(n.type="PropertyDefinition",n.computed=!1),n}parseObjectMethod(t,n,i,s,o){let a=super.parseObjectMethod(t,n,i,s,o);return a&&(a.type="Property",a.kind==="method"&&(a.kind="init"),a.shorthand=!1),a}parseObjectProperty(t,n,i,s){let o=super.parseObjectProperty(t,n,i,s);return o&&(o.kind="init",o.type="Property"),o}isValidLVal(t,n,i){return t==="Property"?"value":super.isValidLVal(t,n,i)}isAssignable(t,n){return t!=null&&this.isObjectProperty(t)?this.isAssignable(t.value,n):super.isAssignable(t,n)}toAssignable(t,n=!1){if(t!=null&&this.isObjectProperty(t)){let{key:i,value:s}=t;this.isPrivateName(i)&&this.classScope.usePrivateName(this.getPrivateNameSV(i),i.loc.start),this.toAssignable(s,n)}else super.toAssignable(t,n)}toAssignableObjectExpressionProp(t,n,i){t.type==="Property"&&(t.kind==="get"||t.kind==="set")?this.raise(S.PatternHasAccessor,t.key):t.type==="Property"&&t.method?this.raise(S.PatternHasMethod,t.key):super.toAssignableObjectExpressionProp(t,n,i)}finishCallExpression(t,n){let i=super.finishCallExpression(t,n);if(i.callee.type==="Import"){if(i.type="ImportExpression",i.source=i.arguments[0],this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")){var s,o;i.options=(s=i.arguments[1])!=null?s:null,i.attributes=(o=i.arguments[1])!=null?o:null}delete i.arguments,delete i.callee}return i}toReferencedArguments(t){t.type!=="ImportExpression"&&super.toReferencedArguments(t)}parseExport(t,n){let i=this.state.lastTokStartLoc,s=super.parseExport(t,n);switch(s.type){case"ExportAllDeclaration":s.exported=null;break;case"ExportNamedDeclaration":s.specifiers.length===1&&s.specifiers[0].type==="ExportNamespaceSpecifier"&&(s.type="ExportAllDeclaration",s.exported=s.specifiers[0].exported,delete s.specifiers);case"ExportDefaultDeclaration":{var o;let{declaration:a}=s;a?.type==="ClassDeclaration"&&((o=a.decorators)==null?void 0:o.length)>0&&a.start===s.start&&this.resetStartLocation(s,i)}break}return s}parseSubscript(t,n,i,s){let o=super.parseSubscript(t,n,i,s);if(s.optionalChainMember){if((o.type==="OptionalMemberExpression"||o.type==="OptionalCallExpression")&&(o.type=o.type.substring(8)),s.stop){let a=this.startNodeAtNode(o);return a.expression=o,this.finishNode(a,"ChainExpression")}}else(o.type==="MemberExpression"||o.type==="CallExpression")&&(o.optional=!1);return o}isOptionalMemberExpression(t){return t.type==="ChainExpression"?t.expression.type==="MemberExpression":super.isOptionalMemberExpression(t)}hasPropertyAsPrivateName(t){return t.type==="ChainExpression"&&(t=t.expression),super.hasPropertyAsPrivateName(t)}isObjectProperty(t){return t.type==="Property"&&t.kind==="init"&&!t.method}isObjectMethod(t){return t.type==="Property"&&(t.method||t.kind==="get"||t.kind==="set")}finishNodeAt(t,n,i){return Us(super.finishNodeAt(t,n,i))}resetStartLocation(t,n){super.resetStartLocation(t,n),Us(t)}resetEndLocation(t,n=this.state.lastTokEndLoc){super.resetEndLocation(t,n),Us(t)}},ri=class{constructor(r,t){this.token=void 0,this.preserveSpace=void 0,this.token=r,this.preserveSpace=!!t}},_e={brace:new ri("{"),j_oTag:new ri("<tag"),j_cTag:new ri("</tag"),j_expr:new ri("<tag>...</tag>",!0)};_e.template=new ri("`",!0);var me=!0,U=!0,fc=!0,js=!0,Pn=!0,lv=!0,va=class{constructor(r,t={}){this.label=void 0,this.keyword=void 0,this.beforeExpr=void 0,this.startsExpr=void 0,this.rightAssociative=void 0,this.isLoop=void 0,this.isAssign=void 0,this.prefix=void 0,this.postfix=void 0,this.binop=void 0,this.label=r,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.rightAssociative=!!t.rightAssociative,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop!=null?t.binop:null,this.updateContext=null}},$c=new Map;function be(e,r={}){r.keyword=e;let t=H(e,r);return $c.set(e,t),t}function It(e,r){return H(e,{beforeExpr:me,binop:r})}var qs=-1,on=[],Uc=[],jc=[],Kc=[],Vc=[],zc=[];function H(e,r={}){var t,n,i,s;return++qs,Uc.push(e),jc.push((t=r.binop)!=null?t:-1),Kc.push((n=r.beforeExpr)!=null?n:!1),Vc.push((i=r.startsExpr)!=null?i:!1),zc.push((s=r.prefix)!=null?s:!1),on.push(new va(e,r)),qs}function fe(e,r={}){var t,n,i,s;return++qs,$c.set(e,qs),Uc.push(e),jc.push((t=r.binop)!=null?t:-1),Kc.push((n=r.beforeExpr)!=null?n:!1),Vc.push((i=r.startsExpr)!=null?i:!1),zc.push((s=r.prefix)!=null?s:!1),on.push(new va("name",r)),qs}var uv={bracketL:H("[",{beforeExpr:me,startsExpr:U}),bracketHashL:H("#[",{beforeExpr:me,startsExpr:U}),bracketBarL:H("[|",{beforeExpr:me,startsExpr:U}),bracketR:H("]"),bracketBarR:H("|]"),braceL:H("{",{beforeExpr:me,startsExpr:U}),braceBarL:H("{|",{beforeExpr:me,startsExpr:U}),braceHashL:H("#{",{beforeExpr:me,startsExpr:U}),braceR:H("}"),braceBarR:H("|}"),parenL:H("(",{beforeExpr:me,startsExpr:U}),parenR:H(")"),comma:H(",",{beforeExpr:me}),semi:H(";",{beforeExpr:me}),colon:H(":",{beforeExpr:me}),doubleColon:H("::",{beforeExpr:me}),dot:H("."),question:H("?",{beforeExpr:me}),questionDot:H("?."),arrow:H("=>",{beforeExpr:me}),template:H("template"),ellipsis:H("...",{beforeExpr:me}),backQuote:H("`",{startsExpr:U}),dollarBraceL:H("${",{beforeExpr:me,startsExpr:U}),templateTail:H("...`",{startsExpr:U}),templateNonTail:H("...${",{beforeExpr:me,startsExpr:U}),at:H("@"),hash:H("#",{startsExpr:U}),interpreterDirective:H("#!..."),eq:H("=",{beforeExpr:me,isAssign:js}),assign:H("_=",{beforeExpr:me,isAssign:js}),slashAssign:H("_=",{beforeExpr:me,isAssign:js}),xorAssign:H("_=",{beforeExpr:me,isAssign:js}),moduloAssign:H("_=",{beforeExpr:me,isAssign:js}),incDec:H("++/--",{prefix:Pn,postfix:lv,startsExpr:U}),bang:H("!",{beforeExpr:me,prefix:Pn,startsExpr:U}),tilde:H("~",{beforeExpr:me,prefix:Pn,startsExpr:U}),doubleCaret:H("^^",{startsExpr:U}),doubleAt:H("@@",{startsExpr:U}),pipeline:It("|>",0),nullishCoalescing:It("??",1),logicalOR:It("||",1),logicalAND:It("&&",2),bitwiseOR:It("|",3),bitwiseXOR:It("^",4),bitwiseAND:It("&",5),equality:It("==/!=/===/!==",6),lt:It("</>/<=/>=",7),gt:It("</>/<=/>=",7),relational:It("</>/<=/>=",7),bitShift:It("<</>>/>>>",8),bitShiftL:It("<</>>/>>>",8),bitShiftR:It("<</>>/>>>",8),plusMin:H("+/-",{beforeExpr:me,binop:9,prefix:Pn,startsExpr:U}),modulo:H("%",{binop:10,startsExpr:U}),star:H("*",{binop:10}),slash:It("/",10),exponent:H("**",{beforeExpr:me,binop:11,rightAssociative:!0}),_in:be("in",{beforeExpr:me,binop:7}),_instanceof:be("instanceof",{beforeExpr:me,binop:7}),_break:be("break"),_case:be("case",{beforeExpr:me}),_catch:be("catch"),_continue:be("continue"),_debugger:be("debugger"),_default:be("default",{beforeExpr:me}),_else:be("else",{beforeExpr:me}),_finally:be("finally"),_function:be("function",{startsExpr:U}),_if:be("if"),_return:be("return",{beforeExpr:me}),_switch:be("switch"),_throw:be("throw",{beforeExpr:me,prefix:Pn,startsExpr:U}),_try:be("try"),_var:be("var"),_const:be("const"),_with:be("with"),_new:be("new",{beforeExpr:me,startsExpr:U}),_this:be("this",{startsExpr:U}),_super:be("super",{startsExpr:U}),_class:be("class",{startsExpr:U}),_extends:be("extends",{beforeExpr:me}),_export:be("export"),_import:be("import",{startsExpr:U}),_null:be("null",{startsExpr:U}),_true:be("true",{startsExpr:U}),_false:be("false",{startsExpr:U}),_typeof:be("typeof",{beforeExpr:me,prefix:Pn,startsExpr:U}),_void:be("void",{beforeExpr:me,prefix:Pn,startsExpr:U}),_delete:be("delete",{beforeExpr:me,prefix:Pn,startsExpr:U}),_do:be("do",{isLoop:fc,beforeExpr:me}),_for:be("for",{isLoop:fc}),_while:be("while",{isLoop:fc}),_as:fe("as",{startsExpr:U}),_assert:fe("assert",{startsExpr:U}),_async:fe("async",{startsExpr:U}),_await:fe("await",{startsExpr:U}),_defer:fe("defer",{startsExpr:U}),_from:fe("from",{startsExpr:U}),_get:fe("get",{startsExpr:U}),_let:fe("let",{startsExpr:U}),_meta:fe("meta",{startsExpr:U}),_of:fe("of",{startsExpr:U}),_sent:fe("sent",{startsExpr:U}),_set:fe("set",{startsExpr:U}),_source:fe("source",{startsExpr:U}),_static:fe("static",{startsExpr:U}),_using:fe("using",{startsExpr:U}),_yield:fe("yield",{startsExpr:U}),_asserts:fe("asserts",{startsExpr:U}),_checks:fe("checks",{startsExpr:U}),_exports:fe("exports",{startsExpr:U}),_global:fe("global",{startsExpr:U}),_implements:fe("implements",{startsExpr:U}),_intrinsic:fe("intrinsic",{startsExpr:U}),_infer:fe("infer",{startsExpr:U}),_is:fe("is",{startsExpr:U}),_mixins:fe("mixins",{startsExpr:U}),_proto:fe("proto",{startsExpr:U}),_require:fe("require",{startsExpr:U}),_satisfies:fe("satisfies",{startsExpr:U}),_keyof:fe("keyof",{startsExpr:U}),_readonly:fe("readonly",{startsExpr:U}),_unique:fe("unique",{startsExpr:U}),_abstract:fe("abstract",{startsExpr:U}),_declare:fe("declare",{startsExpr:U}),_enum:fe("enum",{startsExpr:U}),_module:fe("module",{startsExpr:U}),_namespace:fe("namespace",{startsExpr:U}),_interface:fe("interface",{startsExpr:U}),_type:fe("type",{startsExpr:U}),_opaque:fe("opaque",{startsExpr:U}),name:H("name",{startsExpr:U}),string:H("string",{startsExpr:U}),num:H("num",{startsExpr:U}),bigint:H("bigint",{startsExpr:U}),decimal:H("decimal",{startsExpr:U}),regexp:H("regexp",{startsExpr:U}),privateName:H("#name",{startsExpr:U}),eof:H("eof"),jsxName:H("jsxName"),jsxText:H("jsxText",{beforeExpr:!0}),jsxTagStart:H("jsxTagStart",{startsExpr:!0}),jsxTagEnd:H("jsxTagEnd"),placeholder:H("%%",{startsExpr:!0})};function we(e){return e>=93&&e<=132}function cv(e){return e<=92}function gr(e){return e>=58&&e<=132}function Ly(e){return e>=58&&e<=136}function pv(e){return Kc[e]}function bc(e){return Vc[e]}function dv(e){return e>=29&&e<=33}function Ty(e){return e>=129&&e<=131}function fv(e){return e>=90&&e<=92}function qc(e){return e>=58&&e<=92}function mv(e){return e>=39&&e<=59}function hv(e){return e===34}function gv(e){return zc[e]}function yv(e){return e>=121&&e<=123}function Dv(e){return e>=124&&e<=130}function Nn(e){return Uc[e]}function Ta(e){return jc[e]}function bv(e){return e===57}function Pa(e){return e>=24&&e<=25}function sn(e){return on[e]}on[8].updateContext=e=>{e.pop()},on[5].updateContext=on[7].updateContext=on[23].updateContext=e=>{e.push(_e.brace)},on[22].updateContext=e=>{e[e.length-1]===_e.template?e.pop():e.push(_e.template)},on[142].updateContext=e=>{e.push(_e.j_expr,_e.j_oTag)};var Wc="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",By="\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0897-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",xv=new RegExp("["+Wc+"]"),Ev=new RegExp("["+Wc+By+"]");Wc=By=null;var My=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],Cv=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239];function xc(e,r){let t=65536;for(let n=0,i=r.length;n<i;n+=2){if(t+=r[n],t>e)return!1;if(t+=r[n+1],t>=e)return!0}return!1}function an(e){return e<65?e===36:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&xv.test(String.fromCharCode(e)):xc(e,My)}function $i(e){return e<48?e===36:e<58?!0:e<65?!1:e<=90?!0:e<97?e===95:e<=122?!0:e<=65535?e>=170&&Ev.test(String.fromCharCode(e)):xc(e,My)||xc(e,Cv)}var Gc={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},Sv=new Set(Gc.keyword),wv=new Set(Gc.strict),Tv=new Set(Gc.strictBind);function $y(e,r){return r&&e==="await"||e==="enum"}function Uy(e,r){return $y(e,r)||wv.has(e)}function jy(e){return Tv.has(e)}function Ky(e,r){return Uy(e,r)||jy(e)}function Av(e){return Sv.has(e)}function vv(e,r,t){return e===64&&r===64&&an(t)}var Pv=new Set(["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete","implements","interface","let","package","private","protected","public","static","yield","eval","arguments","enum","await"]);function Iv(e){return Pv.has(e)}var Ws=class{constructor(r){this.flags=0,this.names=new Map,this.firstLexicalName="",this.flags=r}},Gs=class{constructor(r,t){this.parser=void 0,this.scopeStack=[],this.inModule=void 0,this.undefinedExports=new Map,this.parser=r,this.inModule=t}get inTopLevel(){return(this.currentScope().flags&1)>0}get inFunction(){return(this.currentVarScopeFlags()&2)>0}get allowSuper(){return(this.currentThisScopeFlags()&16)>0}get allowDirectSuper(){return(this.currentThisScopeFlags()&32)>0}get inClass(){return(this.currentThisScopeFlags()&64)>0}get inClassAndNotInNonArrowFunction(){let r=this.currentThisScopeFlags();return(r&64)>0&&(r&2)===0}get inStaticBlock(){for(let r=this.scopeStack.length-1;;r--){let{flags:t}=this.scopeStack[r];if(t&128)return!0;if(t&451)return!1}}get inNonArrowFunction(){return(this.currentThisScopeFlags()&2)>0}get treatFunctionsAsVar(){return this.treatFunctionsAsVarInScope(this.currentScope())}createScope(r){return new Ws(r)}enter(r){this.scopeStack.push(this.createScope(r))}exit(){return this.scopeStack.pop().flags}treatFunctionsAsVarInScope(r){return!!(r.flags&130||!this.parser.inModule&&r.flags&1)}declareName(r,t,n){let i=this.currentScope();if(t&8||t&16){this.checkRedeclarationInScope(i,r,t,n);let s=i.names.get(r)||0;t&16?s=s|4:(i.firstLexicalName||(i.firstLexicalName=r),s=s|2),i.names.set(r,s),t&8&&this.maybeExportDefined(i,r)}else if(t&4)for(let s=this.scopeStack.length-1;s>=0&&(i=this.scopeStack[s],this.checkRedeclarationInScope(i,r,t,n),i.names.set(r,(i.names.get(r)||0)|1),this.maybeExportDefined(i,r),!(i.flags&387));--s);this.parser.inModule&&i.flags&1&&this.undefinedExports.delete(r)}maybeExportDefined(r,t){this.parser.inModule&&r.flags&1&&this.undefinedExports.delete(t)}checkRedeclarationInScope(r,t,n,i){this.isRedeclaredInScope(r,t,n)&&this.parser.raise(S.VarRedeclaration,i,{identifierName:t})}isRedeclaredInScope(r,t,n){if(!(n&1))return!1;if(n&8)return r.names.has(t);let i=r.names.get(t);return n&16?(i&2)>0||!this.treatFunctionsAsVarInScope(r)&&(i&1)>0:(i&2)>0&&!(r.flags&8&&r.firstLexicalName===t)||!this.treatFunctionsAsVarInScope(r)&&(i&4)>0}checkLocalExport(r){let{name:t}=r;this.scopeStack[0].names.has(t)||this.undefinedExports.set(t,r.loc.start)}currentScope(){return this.scopeStack[this.scopeStack.length-1]}currentVarScopeFlags(){for(let r=this.scopeStack.length-1;;r--){let{flags:t}=this.scopeStack[r];if(t&387)return t}}currentThisScopeFlags(){for(let r=this.scopeStack.length-1;;r--){let{flags:t}=this.scopeStack[r];if(t&451&&!(t&4))return t}}},Ec=class extends Ws{constructor(...r){super(...r),this.declareFunctions=new Set}},Cc=class extends Gs{createScope(r){return new Ec(r)}declareName(r,t,n){let i=this.currentScope();if(t&2048){this.checkRedeclarationInScope(i,r,t,n),this.maybeExportDefined(i,r),i.declareFunctions.add(r);return}super.declareName(r,t,n)}isRedeclaredInScope(r,t,n){if(super.isRedeclaredInScope(r,t,n))return!0;if(n&2048&&!r.declareFunctions.has(t)){let i=r.names.get(t);return(i&4)>0||(i&2)>0}return!1}checkLocalExport(r){this.scopeStack[0].declareFunctions.has(r.name)||super.checkLocalExport(r)}},Sc=class{constructor(){this.sawUnambiguousESM=!1,this.ambiguousScriptDifferentAst=!1}hasPlugin(r){if(typeof r=="string")return this.plugins.has(r);{let[t,n]=r;if(!this.hasPlugin(t))return!1;let i=this.plugins.get(t);for(let s of Object.keys(n))if(i?.[s]!==n[s])return!1;return!0}}getPluginOption(r,t){var n;return(n=this.plugins.get(r))==null?void 0:n[t]}};function Vy(e,r){e.trailingComments===void 0?e.trailingComments=r:e.trailingComments.unshift(...r)}function Nv(e,r){e.leadingComments===void 0?e.leadingComments=r:e.leadingComments.unshift(...r)}function Hs(e,r){e.innerComments===void 0?e.innerComments=r:e.innerComments.unshift(...r)}function Ks(e,r,t){let n=null,i=r.length;for(;n===null&&i>0;)n=r[--i];n===null||n.start>t.start?Hs(e,t.comments):Vy(n,t.comments)}var wc=class extends Sc{addComment(r){this.filename&&(r.loc.filename=this.filename);let{commentsLen:t}=this.state;this.comments.length!==t&&(this.comments.length=t),this.comments.push(r),this.state.commentsLen++}processComment(r){let{commentStack:t}=this.state,n=t.length;if(n===0)return;let i=n-1,s=t[i];s.start===r.end&&(s.leadingNode=r,i--);let{start:o}=r;for(;i>=0;i--){let a=t[i],l=a.end;if(l>o)a.containingNode=r,this.finalizeComment(a),t.splice(i,1);else{l===o&&(a.trailingNode=r);break}}}finalizeComment(r){let{comments:t}=r;if(r.leadingNode!==null||r.trailingNode!==null)r.leadingNode!==null&&Vy(r.leadingNode,t),r.trailingNode!==null&&Nv(r.trailingNode,t);else{let{containingNode:n,start:i}=r;if(this.input.charCodeAt(i-1)===44)switch(n.type){case"ObjectExpression":case"ObjectPattern":case"RecordExpression":Ks(n,n.properties,r);break;case"CallExpression":case"OptionalCallExpression":Ks(n,n.arguments,r);break;case"FunctionDeclaration":case"FunctionExpression":case"ArrowFunctionExpression":case"ObjectMethod":case"ClassMethod":case"ClassPrivateMethod":Ks(n,n.params,r);break;case"ArrayExpression":case"ArrayPattern":case"TupleExpression":Ks(n,n.elements,r);break;case"ExportNamedDeclaration":case"ImportDeclaration":Ks(n,n.specifiers,r);break;default:Hs(n,t)}else Hs(n,t)}}finalizeRemainingComments(){let{commentStack:r}=this.state;for(let t=r.length-1;t>=0;t--)this.finalizeComment(r[t]);this.state.commentStack=[]}resetPreviousNodeTrailingComments(r){let{commentStack:t}=this.state,{length:n}=t;if(n===0)return;let i=t[n-1];i.leadingNode===r&&(i.leadingNode=null)}resetPreviousIdentifierLeadingComments(r){let{commentStack:t}=this.state,{length:n}=t;n!==0&&(t[n-1].trailingNode===r?t[n-1].trailingNode=null:n>=2&&t[n-2].trailingNode===r&&(t[n-2].trailingNode=null))}takeSurroundingComments(r,t,n){let{commentStack:i}=this.state,s=i.length;if(s===0)return;let o=s-1;for(;o>=0;o--){let a=i[o],l=a.end;if(a.start===n)a.leadingNode=r;else if(l===t)a.trailingNode=r;else if(l<t)break}}},Fv=/\r\n|[\r\n\u2028\u2029]/,Ca=new RegExp(Fv.source,"g");function Ui(e){switch(e){case 10:case 13:case 8232:case 8233:return!0;default:return!1}}function Ay(e,r,t){for(let n=r;n<t;n++)if(Ui(e.charCodeAt(n)))return!0;return!1}var mc=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,hc=/(?:[^\S\n\r\u2028\u2029]|\/\/.*|\/\*.*?\*\/)*/g;function _v(e){switch(e){case 9:case 11:case 12:case 32:case 160:case 5760:case 8192:case 8193:case 8194:case 8195:case 8196:case 8197:case 8198:case 8199:case 8200:case 8201:case 8202:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}var Tc=class e{constructor(){this.flags=1024,this.curLine=void 0,this.lineStart=void 0,this.startLoc=void 0,this.endLoc=void 0,this.errors=[],this.potentialArrowAt=-1,this.noArrowAt=[],this.noArrowParamsConversionAt=[],this.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null},this.labels=[],this.commentsLen=0,this.commentStack=[],this.pos=0,this.type=139,this.value=null,this.start=0,this.end=0,this.lastTokEndLoc=null,this.lastTokStartLoc=null,this.context=[_e.brace],this.firstInvalidTemplateEscapePos=null,this.strictErrors=new Map,this.tokensLength=0}get strict(){return(this.flags&1)>0}set strict(r){r?this.flags|=1:this.flags&=-2}init({strictMode:r,sourceType:t,startLine:n,startColumn:i}){this.strict=r===!1?!1:r===!0?!0:t==="module",this.curLine=n,this.lineStart=-i,this.startLoc=this.endLoc=new Br(n,i,0)}get maybeInArrowParameters(){return(this.flags&2)>0}set maybeInArrowParameters(r){r?this.flags|=2:this.flags&=-3}get inType(){return(this.flags&4)>0}set inType(r){r?this.flags|=4:this.flags&=-5}get noAnonFunctionType(){return(this.flags&8)>0}set noAnonFunctionType(r){r?this.flags|=8:this.flags&=-9}get hasFlowComment(){return(this.flags&16)>0}set hasFlowComment(r){r?this.flags|=16:this.flags&=-17}get isAmbientContext(){return(this.flags&32)>0}set isAmbientContext(r){r?this.flags|=32:this.flags&=-33}get inAbstractClass(){return(this.flags&64)>0}set inAbstractClass(r){r?this.flags|=64:this.flags&=-65}get inDisallowConditionalTypesContext(){return(this.flags&128)>0}set inDisallowConditionalTypesContext(r){r?this.flags|=128:this.flags&=-129}get soloAwait(){return(this.flags&256)>0}set soloAwait(r){r?this.flags|=256:this.flags&=-257}get inFSharpPipelineDirectBody(){return(this.flags&512)>0}set inFSharpPipelineDirectBody(r){r?this.flags|=512:this.flags&=-513}get canStartJSXElement(){return(this.flags&1024)>0}set canStartJSXElement(r){r?this.flags|=1024:this.flags&=-1025}get containsEsc(){return(this.flags&2048)>0}set containsEsc(r){r?this.flags|=2048:this.flags&=-2049}get hasTopLevelAwait(){return(this.flags&4096)>0}set hasTopLevelAwait(r){r?this.flags|=4096:this.flags&=-4097}curPosition(){return new Br(this.curLine,this.pos-this.lineStart,this.pos)}clone(){let r=new e;return r.flags=this.flags,r.curLine=this.curLine,r.lineStart=this.lineStart,r.startLoc=this.startLoc,r.endLoc=this.endLoc,r.errors=this.errors.slice(),r.potentialArrowAt=this.potentialArrowAt,r.noArrowAt=this.noArrowAt.slice(),r.noArrowParamsConversionAt=this.noArrowParamsConversionAt.slice(),r.topicContext=this.topicContext,r.labels=this.labels.slice(),r.commentsLen=this.commentsLen,r.commentStack=this.commentStack.slice(),r.pos=this.pos,r.type=this.type,r.value=this.value,r.start=this.start,r.end=this.end,r.lastTokEndLoc=this.lastTokEndLoc,r.lastTokStartLoc=this.lastTokStartLoc,r.context=this.context.slice(),r.firstInvalidTemplateEscapePos=this.firstInvalidTemplateEscapePos,r.strictErrors=this.strictErrors,r.tokensLength=this.tokensLength,r}},kv=function(r){return r>=48&&r<=57},vy={decBinOct:new Set([46,66,69,79,95,98,101,111]),hex:new Set([46,88,95,120])},Sa={bin:e=>e===48||e===49,oct:e=>e>=48&&e<=55,dec:e=>e>=48&&e<=57,hex:e=>e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102};function Py(e,r,t,n,i,s){let o=t,a=n,l=i,u="",c=null,p=t,{length:d}=r;for(;;){if(t>=d){s.unterminated(o,a,l),u+=r.slice(p,t);break}let f=r.charCodeAt(t);if(Ov(e,f,r,t)){u+=r.slice(p,t);break}if(f===92){u+=r.slice(p,t);let m=Rv(r,t,n,i,e==="template",s);m.ch===null&&!c?c={pos:t,lineStart:n,curLine:i}:u+=m.ch,{pos:t,lineStart:n,curLine:i}=m,p=t}else f===8232||f===8233?(++t,++i,n=t):f===10||f===13?e==="template"?(u+=r.slice(p,t)+`
`,++t,f===13&&r.charCodeAt(t)===10&&++t,++i,p=n=t):s.unterminated(o,a,l):++t}return{pos:t,str:u,firstInvalidLoc:c,lineStart:n,curLine:i,containsInvalid:!!c}}function Ov(e,r,t,n){return e==="template"?r===96||r===36&&t.charCodeAt(n+1)===123:r===(e==="double"?34:39)}function Rv(e,r,t,n,i,s){let o=!i;r++;let a=u=>({pos:r,ch:u,lineStart:t,curLine:n}),l=e.charCodeAt(r++);switch(l){case 110:return a(`
`);case 114:return a("\r");case 120:{let u;return{code:u,pos:r}=Ac(e,r,t,n,2,!1,o,s),a(u===null?null:String.fromCharCode(u))}case 117:{let u;return{code:u,pos:r}=qy(e,r,t,n,o,s),a(u===null?null:String.fromCodePoint(u))}case 116:return a("	");case 98:return a("\b");case 118:return a("\v");case 102:return a("\f");case 13:e.charCodeAt(r)===10&&++r;case 10:t=r,++n;case 8232:case 8233:return a("");case 56:case 57:if(i)return a(null);s.strictNumericEscape(r-1,t,n);default:if(l>=48&&l<=55){let u=r-1,p=/^[0-7]+/.exec(e.slice(u,r+2))[0],d=parseInt(p,8);d>255&&(p=p.slice(0,-1),d=parseInt(p,8)),r+=p.length-1;let f=e.charCodeAt(r);if(p!=="0"||f===56||f===57){if(i)return a(null);s.strictNumericEscape(u,t,n)}return a(String.fromCharCode(d))}return a(String.fromCharCode(l))}}function Ac(e,r,t,n,i,s,o,a){let l=r,u;return{n:u,pos:r}=zy(e,r,t,n,16,i,s,!1,a,!o),u===null&&(o?a.invalidEscapeSequence(l,t,n):r=l-1),{code:u,pos:r}}function zy(e,r,t,n,i,s,o,a,l,u){let c=r,p=i===16?vy.hex:vy.decBinOct,d=i===16?Sa.hex:i===10?Sa.dec:i===8?Sa.oct:Sa.bin,f=!1,m=0;for(let h=0,g=s??1/0;h<g;++h){let y=e.charCodeAt(r),D;if(y===95&&a!=="bail"){let C=e.charCodeAt(r-1),x=e.charCodeAt(r+1);if(a){if(Number.isNaN(x)||!d(x)||p.has(C)||p.has(x)){if(u)return{n:null,pos:r};l.unexpectedNumericSeparator(r,t,n)}}else{if(u)return{n:null,pos:r};l.numericSeparatorInEscapeSequence(r,t,n)}++r;continue}if(y>=97?D=y-97+10:y>=65?D=y-65+10:kv(y)?D=y-48:D=1/0,D>=i){if(D<=9&&u)return{n:null,pos:r};if(D<=9&&l.invalidDigit(r,t,n,i))D=0;else if(o)D=0,f=!0;else break}++r,m=m*i+D}return r===c||s!=null&&r-c!==s||f?{n:null,pos:r}:{n:m,pos:r}}function qy(e,r,t,n,i,s){let o=e.charCodeAt(r),a;if(o===123){if(++r,{code:a,pos:r}=Ac(e,r,t,n,e.indexOf("}",r)-r,!0,i,s),++r,a!==null&&a>1114111)if(i)s.invalidCodePoint(r,t,n);else return{code:null,pos:r}}else({code:a,pos:r}=Ac(e,r,t,n,4,!1,i,s));return{code:a,pos:r}}function Vs(e,r,t){return new Br(t,e-r,e)}var Lv=new Set([103,109,115,105,121,117,100,118]),Lr=class{constructor(r){this.type=r.type,this.value=r.value,this.start=r.start,this.end=r.end,this.loc=new Ki(r.startLoc,r.endLoc)}},vc=class extends wc{constructor(r,t){super(),this.isLookahead=void 0,this.tokens=[],this.errorHandlers_readInt={invalidDigit:(n,i,s,o)=>this.options.errorRecovery?(this.raise(S.InvalidDigit,Vs(n,i,s),{radix:o}),!0):!1,numericSeparatorInEscapeSequence:this.errorKhulnasoft(S.NumericSeparatorInEscapeSequence),unexpectedNumericSeparator:this.errorKhulnasoft(S.UnexpectedNumericSeparator)},this.errorHandlers_readCodePoint=Object.assign({},this.errorHandlers_readInt,{invalidEscapeSequence:this.errorKhulnasoft(S.InvalidEscapeSequence),invalidCodePoint:this.errorKhulnasoft(S.InvalidCodePoint)}),this.errorHandlers_readStringContents_string=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:(n,i,s)=>{this.recordStrictModeErrors(S.StrictNumericEscape,Vs(n,i,s))},unterminated:(n,i,s)=>{throw this.raise(S.UnterminatedString,Vs(n-1,i,s))}}),this.errorHandlers_readStringContents_template=Object.assign({},this.errorHandlers_readCodePoint,{strictNumericEscape:this.errorKhulnasoft(S.StrictNumericEscape),unterminated:(n,i,s)=>{throw this.raise(S.UnterminatedTemplate,Vs(n,i,s))}}),this.state=new Tc,this.state.init(r),this.input=t,this.length=t.length,this.comments=[],this.isLookahead=!1}pushToken(r){this.tokens.length=this.state.tokensLength,this.tokens.push(r),++this.state.tokensLength}next(){this.checkKeywordEscapes(),this.options.tokens&&this.pushToken(new Lr(this.state)),this.state.lastTokEndLoc=this.state.endLoc,this.state.lastTokStartLoc=this.state.startLoc,this.nextToken()}eat(r){return this.match(r)?(this.next(),!0):!1}match(r){return this.state.type===r}createLookaheadState(r){return{pos:r.pos,value:null,type:r.type,start:r.start,end:r.end,context:[this.curContext()],inType:r.inType,startLoc:r.startLoc,lastTokEndLoc:r.lastTokEndLoc,curLine:r.curLine,lineStart:r.lineStart,curPosition:r.curPosition}}lookahead(){let r=this.state;this.state=this.createLookaheadState(r),this.isLookahead=!0,this.nextToken(),this.isLookahead=!1;let t=this.state;return this.state=r,t}nextTokenStart(){return this.nextTokenStartSince(this.state.pos)}nextTokenStartSince(r){return mc.lastIndex=r,mc.test(this.input)?mc.lastIndex:r}lookaheadCharCode(){return this.input.charCodeAt(this.nextTokenStart())}nextTokenInLineStart(){return this.nextTokenInLineStartSince(this.state.pos)}nextTokenInLineStartSince(r){return hc.lastIndex=r,hc.test(this.input)?hc.lastIndex:r}lookaheadInLineCharCode(){return this.input.charCodeAt(this.nextTokenInLineStart())}codePointAtPos(r){let t=this.input.charCodeAt(r);if((t&64512)===55296&&++r<this.input.length){let n=this.input.charCodeAt(r);(n&64512)===56320&&(t=65536+((t&1023)<<10)+(n&1023))}return t}setStrict(r){this.state.strict=r,r&&(this.state.strictErrors.forEach(([t,n])=>this.raise(t,n)),this.state.strictErrors.clear())}curContext(){return this.state.context[this.state.context.length-1]}nextToken(){if(this.skipSpace(),this.state.start=this.state.pos,this.isLookahead||(this.state.startLoc=this.state.curPosition()),this.state.pos>=this.length){this.finishToken(139);return}this.getTokenFromCode(this.codePointAtPos(this.state.pos))}skipBlockComment(r){let t;this.isLookahead||(t=this.state.curPosition());let n=this.state.pos,i=this.input.indexOf(r,n+2);if(i===-1)throw this.raise(S.UnterminatedComment,this.state.curPosition());for(this.state.pos=i+r.length,Ca.lastIndex=n+2;Ca.test(this.input)&&Ca.lastIndex<=i;)++this.state.curLine,this.state.lineStart=Ca.lastIndex;if(this.isLookahead)return;let s={type:"CommentBlock",value:this.input.slice(n+2,i),start:n,end:i+r.length,loc:new Ki(t,this.state.curPosition())};return this.options.tokens&&this.pushToken(s),s}skipLineComment(r){let t=this.state.pos,n;this.isLookahead||(n=this.state.curPosition());let i=this.input.charCodeAt(this.state.pos+=r);if(this.state.pos<this.length)for(;!Ui(i)&&++this.state.pos<this.length;)i=this.input.charCodeAt(this.state.pos);if(this.isLookahead)return;let s=this.state.pos,a={type:"CommentLine",value:this.input.slice(t+r,s),start:t,end:s,loc:new Ki(n,this.state.curPosition())};return this.options.tokens&&this.pushToken(a),a}skipSpace(){let r=this.state.pos,t=[];e:for(;this.state.pos<this.length;){let n=this.input.charCodeAt(this.state.pos);switch(n){case 32:case 160:case 9:++this.state.pos;break;case 13:this.input.charCodeAt(this.state.pos+1)===10&&++this.state.pos;case 10:case 8232:case 8233:++this.state.pos,++this.state.curLine,this.state.lineStart=this.state.pos;break;case 47:switch(this.input.charCodeAt(this.state.pos+1)){case 42:{let i=this.skipBlockComment("*/");i!==void 0&&(this.addComment(i),this.options.attachComment&&t.push(i));break}case 47:{let i=this.skipLineComment(2);i!==void 0&&(this.addComment(i),this.options.attachComment&&t.push(i));break}default:break e}break;default:if(_v(n))++this.state.pos;else if(n===45&&!this.inModule&&this.options.annexB){let i=this.state.pos;if(this.input.charCodeAt(i+1)===45&&this.input.charCodeAt(i+2)===62&&(r===0||this.state.lineStart>r)){let s=this.skipLineComment(3);s!==void 0&&(this.addComment(s),this.options.attachComment&&t.push(s))}else break e}else if(n===60&&!this.inModule&&this.options.annexB){let i=this.state.pos;if(this.input.charCodeAt(i+1)===33&&this.input.charCodeAt(i+2)===45&&this.input.charCodeAt(i+3)===45){let s=this.skipLineComment(4);s!==void 0&&(this.addComment(s),this.options.attachComment&&t.push(s))}else break e}else break e}}if(t.length>0){let n=this.state.pos,i={start:r,end:n,comments:t,leadingNode:null,trailingNode:null,containingNode:null};this.state.commentStack.push(i)}}finishToken(r,t){this.state.end=this.state.pos,this.state.endLoc=this.state.curPosition();let n=this.state.type;this.state.type=r,this.state.value=t,this.isLookahead||this.updateContext(n)}replaceToken(r){this.state.type=r,this.updateContext()}readToken_numberSign(){if(this.state.pos===0&&this.readToken_interpreter())return;let r=this.state.pos+1,t=this.codePointAtPos(r);if(t>=48&&t<=57)throw this.raise(S.UnexpectedDigitAfterHash,this.state.curPosition());if(t===123||t===91&&this.hasPlugin("recordAndTuple")){if(this.expectPlugin("recordAndTuple"),this.getPluginOption("recordAndTuple","syntaxType")==="bar")throw this.raise(t===123?S.RecordExpressionHashIncorrectStartSyntaxType:S.TupleExpressionHashIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,t===123?this.finishToken(7):this.finishToken(1)}else an(t)?(++this.state.pos,this.finishToken(138,this.readWord1(t))):t===92?(++this.state.pos,this.finishToken(138,this.readWord1())):this.finishOp(27,1)}readToken_dot(){let r=this.input.charCodeAt(this.state.pos+1);if(r>=48&&r<=57){this.readNumber(!0);return}r===46&&this.input.charCodeAt(this.state.pos+2)===46?(this.state.pos+=3,this.finishToken(21)):(++this.state.pos,this.finishToken(16))}readToken_slash(){this.input.charCodeAt(this.state.pos+1)===61?this.finishOp(31,2):this.finishOp(56,1)}readToken_interpreter(){if(this.state.pos!==0||this.length<2)return!1;let r=this.input.charCodeAt(this.state.pos+1);if(r!==33)return!1;let t=this.state.pos;for(this.state.pos+=1;!Ui(r)&&++this.state.pos<this.length;)r=this.input.charCodeAt(this.state.pos);let n=this.input.slice(t+2,this.state.pos);return this.finishToken(28,n),!0}readToken_mult_modulo(r){let t=r===42?55:54,n=1,i=this.input.charCodeAt(this.state.pos+1);r===42&&i===42&&(n++,i=this.input.charCodeAt(this.state.pos+2),t=57),i===61&&!this.state.inType&&(n++,t=r===37?33:30),this.finishOp(t,n)}readToken_pipe_amp(r){let t=this.input.charCodeAt(this.state.pos+1);if(t===r){this.input.charCodeAt(this.state.pos+2)===61?this.finishOp(30,3):this.finishOp(r===124?41:42,2);return}if(r===124){if(t===62){this.finishOp(39,2);return}if(this.hasPlugin("recordAndTuple")&&t===125){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.RecordExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(9);return}if(this.hasPlugin("recordAndTuple")&&t===93){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.TupleExpressionBarIncorrectEndSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(4);return}}if(t===61){this.finishOp(30,2);return}this.finishOp(r===124?43:45,1)}readToken_caret(){let r=this.input.charCodeAt(this.state.pos+1);r===61&&!this.state.inType?this.finishOp(32,2):r===94&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"^^"}])?(this.finishOp(37,2),this.input.codePointAt(this.state.pos)===94&&this.unexpected()):this.finishOp(44,1)}readToken_atSign(){this.input.charCodeAt(this.state.pos+1)===64&&this.hasPlugin(["pipelineOperator",{proposal:"hack",topicToken:"@@"}])?this.finishOp(38,2):this.finishOp(26,1)}readToken_plus_min(r){let t=this.input.charCodeAt(this.state.pos+1);if(t===r){this.finishOp(34,2);return}t===61?this.finishOp(30,2):this.finishOp(53,1)}readToken_lt(){let{pos:r}=this.state,t=this.input.charCodeAt(r+1);if(t===60){if(this.input.charCodeAt(r+2)===61){this.finishOp(30,3);return}this.finishOp(51,2);return}if(t===61){this.finishOp(49,2);return}this.finishOp(47,1)}readToken_gt(){let{pos:r}=this.state,t=this.input.charCodeAt(r+1);if(t===62){let n=this.input.charCodeAt(r+2)===62?3:2;if(this.input.charCodeAt(r+n)===61){this.finishOp(30,n+1);return}this.finishOp(52,n);return}if(t===61){this.finishOp(49,2);return}this.finishOp(48,1)}readToken_eq_excl(r){let t=this.input.charCodeAt(this.state.pos+1);if(t===61){this.finishOp(46,this.input.charCodeAt(this.state.pos+2)===61?3:2);return}if(r===61&&t===62){this.state.pos+=2,this.finishToken(19);return}this.finishOp(r===61?29:35,1)}readToken_question(){let r=this.input.charCodeAt(this.state.pos+1),t=this.input.charCodeAt(this.state.pos+2);r===63?t===61?this.finishOp(30,3):this.finishOp(40,2):r===46&&!(t>=48&&t<=57)?(this.state.pos+=2,this.finishToken(18)):(++this.state.pos,this.finishToken(17))}getTokenFromCode(r){switch(r){case 46:this.readToken_dot();return;case 40:++this.state.pos,this.finishToken(10);return;case 41:++this.state.pos,this.finishToken(11);return;case 59:++this.state.pos,this.finishToken(13);return;case 44:++this.state.pos,this.finishToken(12);return;case 91:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.TupleExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(2)}else++this.state.pos,this.finishToken(0);return;case 93:++this.state.pos,this.finishToken(3);return;case 123:if(this.hasPlugin("recordAndTuple")&&this.input.charCodeAt(this.state.pos+1)===124){if(this.getPluginOption("recordAndTuple","syntaxType")!=="bar")throw this.raise(S.RecordExpressionBarIncorrectStartSyntaxType,this.state.curPosition());this.state.pos+=2,this.finishToken(6)}else++this.state.pos,this.finishToken(5);return;case 125:++this.state.pos,this.finishToken(8);return;case 58:this.hasPlugin("functionBind")&&this.input.charCodeAt(this.state.pos+1)===58?this.finishOp(15,2):(++this.state.pos,this.finishToken(14));return;case 63:this.readToken_question();return;case 96:this.readTemplateToken();return;case 48:{let t=this.input.charCodeAt(this.state.pos+1);if(t===120||t===88){this.readRadixNumber(16);return}if(t===111||t===79){this.readRadixNumber(8);return}if(t===98||t===66){this.readRadixNumber(2);return}}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:this.readNumber(!1);return;case 34:case 39:this.readString(r);return;case 47:this.readToken_slash();return;case 37:case 42:this.readToken_mult_modulo(r);return;case 124:case 38:this.readToken_pipe_amp(r);return;case 94:this.readToken_caret();return;case 43:case 45:this.readToken_plus_min(r);return;case 60:this.readToken_lt();return;case 62:this.readToken_gt();return;case 61:case 33:this.readToken_eq_excl(r);return;case 126:this.finishOp(36,1);return;case 64:this.readToken_atSign();return;case 35:this.readToken_numberSign();return;case 92:this.readWord();return;default:if(an(r)){this.readWord(r);return}}throw this.raise(S.InvalidOrUnexpectedToken,this.state.curPosition(),{unexpected:String.fromCodePoint(r)})}finishOp(r,t){let n=this.input.slice(this.state.pos,this.state.pos+t);this.state.pos+=t,this.finishToken(r,n)}readRegexp(){let r=this.state.startLoc,t=this.state.start+1,n,i,{pos:s}=this.state;for(;;++s){if(s>=this.length)throw this.raise(S.UnterminatedRegExp,Nt(r,1));let u=this.input.charCodeAt(s);if(Ui(u))throw this.raise(S.UnterminatedRegExp,Nt(r,1));if(n)n=!1;else{if(u===91)i=!0;else if(u===93&&i)i=!1;else if(u===47&&!i)break;n=u===92}}let o=this.input.slice(t,s);++s;let a="",l=()=>Nt(r,s+2-t);for(;s<this.length;){let u=this.codePointAtPos(s),c=String.fromCharCode(u);if(Lv.has(u))u===118?a.includes("u")&&this.raise(S.IncompatibleRegExpUVFlags,l()):u===117&&a.includes("v")&&this.raise(S.IncompatibleRegExpUVFlags,l()),a.includes(c)&&this.raise(S.DuplicateRegExpFlags,l());else if($i(u)||u===92)this.raise(S.MalformedRegExpFlags,l());else break;++s,a+=c}this.state.pos=s,this.finishToken(137,{pattern:o,flags:a})}readInt(r,t,n=!1,i=!0){let{n:s,pos:o}=zy(this.input,this.state.pos,this.state.lineStart,this.state.curLine,r,t,n,i,this.errorHandlers_readInt,!1);return this.state.pos=o,s}readRadixNumber(r){let t=this.state.curPosition(),n=!1;this.state.pos+=2;let i=this.readInt(r);i==null&&this.raise(S.InvalidDigit,Nt(t,2),{radix:r});let s=this.input.charCodeAt(this.state.pos);if(s===110)++this.state.pos,n=!0;else if(s===109)throw this.raise(S.InvalidDecimal,t);if(an(this.codePointAtPos(this.state.pos)))throw this.raise(S.NumberIdentifier,this.state.curPosition());if(n){let o=this.input.slice(t.index,this.state.pos).replace(/[_n]/g,"");this.finishToken(135,o);return}this.finishToken(134,i)}readNumber(r){let t=this.state.pos,n=this.state.curPosition(),i=!1,s=!1,o=!1,a=!1;!r&&this.readInt(10)===null&&this.raise(S.InvalidNumber,this.state.curPosition());let l=this.state.pos-t>=2&&this.input.charCodeAt(t)===48;if(l){let f=this.input.slice(t,this.state.pos);if(this.recordStrictModeErrors(S.StrictOctalLiteral,n),!this.state.strict){let m=f.indexOf("_");m>0&&this.raise(S.ZeroDigitNumericSeparator,Nt(n,m))}a=l&&!/[89]/.test(f)}let u=this.input.charCodeAt(this.state.pos);if(u===46&&!a&&(++this.state.pos,this.readInt(10),i=!0,u=this.input.charCodeAt(this.state.pos)),(u===69||u===101)&&!a&&(u=this.input.charCodeAt(++this.state.pos),(u===43||u===45)&&++this.state.pos,this.readInt(10)===null&&this.raise(S.InvalidOrMissingExponent,n),i=!0,o=!0,u=this.input.charCodeAt(this.state.pos)),u===110&&((i||l)&&this.raise(S.InvalidBigIntLiteral,n),++this.state.pos,s=!0),u===109){this.expectPlugin("decimal",this.state.curPosition()),(o||l)&&this.raise(S.InvalidDecimal,n),++this.state.pos;var c=!0}if(an(this.codePointAtPos(this.state.pos)))throw this.raise(S.NumberIdentifier,this.state.curPosition());let p=this.input.slice(t,this.state.pos).replace(/[_mn]/g,"");if(s){this.finishToken(135,p);return}if(c){this.finishToken(136,p);return}let d=a?parseInt(p,8):parseFloat(p);this.finishToken(134,d)}readCodePoint(r){let{code:t,pos:n}=qy(this.input,this.state.pos,this.state.lineStart,this.state.curLine,r,this.errorHandlers_readCodePoint);return this.state.pos=n,t}readString(r){let{str:t,pos:n,curLine:i,lineStart:s}=Py(r===34?"double":"single",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_string);this.state.pos=n+1,this.state.lineStart=s,this.state.curLine=i,this.finishToken(133,t)}readTemplateContinuation(){this.match(8)||this.unexpected(null,8),this.state.pos--,this.readTemplateToken()}readTemplateToken(){let r=this.input[this.state.pos],{str:t,firstInvalidLoc:n,pos:i,curLine:s,lineStart:o}=Py("template",this.input,this.state.pos+1,this.state.lineStart,this.state.curLine,this.errorHandlers_readStringContents_template);this.state.pos=i+1,this.state.lineStart=o,this.state.curLine=s,n&&(this.state.firstInvalidTemplateEscapePos=new Br(n.curLine,n.pos-n.lineStart,n.pos)),this.input.codePointAt(i)===96?this.finishToken(24,n?null:r+t+"`"):(this.state.pos++,this.finishToken(25,n?null:r+t+"${"))}recordStrictModeErrors(r,t){let n=t.index;this.state.strict&&!this.state.strictErrors.has(n)?this.raise(r,t):this.state.strictErrors.set(n,[r,t])}readWord1(r){this.state.containsEsc=!1;let t="",n=this.state.pos,i=this.state.pos;for(r!==void 0&&(this.state.pos+=r<=65535?1:2);this.state.pos<this.length;){let s=this.codePointAtPos(this.state.pos);if($i(s))this.state.pos+=s<=65535?1:2;else if(s===92){this.state.containsEsc=!0,t+=this.input.slice(i,this.state.pos);let o=this.state.curPosition(),a=this.state.pos===n?an:$i;if(this.input.charCodeAt(++this.state.pos)!==117){this.raise(S.MissingUnicodeEscape,this.state.curPosition()),i=this.state.pos-1;continue}++this.state.pos;let l=this.readCodePoint(!0);l!==null&&(a(l)||this.raise(S.EscapedCharNotAnIdentifier,o),t+=String.fromCodePoint(l)),i=this.state.pos}else break}return t+this.input.slice(i,this.state.pos)}readWord(r){let t=this.readWord1(r),n=$c.get(t);n!==void 0?this.finishToken(n,Nn(n)):this.finishToken(132,t)}checkKeywordEscapes(){let{type:r}=this.state;qc(r)&&this.state.containsEsc&&this.raise(S.InvalidEscapedReservedWord,this.state.startLoc,{reservedWord:Nn(r)})}raise(r,t,n={}){let i=t instanceof Br?t:t.loc.start,s=r(i,n);if(!this.options.errorRecovery)throw s;return this.isLookahead||this.state.errors.push(s),s}raiseOverwrite(r,t,n={}){let i=t instanceof Br?t:t.loc.start,s=i.index,o=this.state.errors;for(let a=o.length-1;a>=0;a--){let l=o[a];if(l.loc.index===s)return o[a]=r(i,n);if(l.loc.index<s)break}return this.raise(r,t,n)}updateContext(r){}unexpected(r,t){throw this.raise(S.UnexpectedToken,r??this.state.startLoc,{expected:t?Nn(t):null})}expectPlugin(r,t){if(this.hasPlugin(r))return!0;throw this.raise(S.MissingPlugin,t??this.state.startLoc,{missingPlugin:[r]})}expectOnePlugin(r){if(!r.some(t=>this.hasPlugin(t)))throw this.raise(S.MissingOneOfPlugins,this.state.startLoc,{missingPlugin:r})}errorKhulnasoft(r){return(t,n,i)=>{this.raise(r,Vs(t,n,i))}}},Pc=class{constructor(){this.privateNames=new Set,this.loneAccessors=new Map,this.undefinedPrivateNames=new Map}},Ic=class{constructor(r){this.parser=void 0,this.stack=[],this.undefinedPrivateNames=new Map,this.parser=r}current(){return this.stack[this.stack.length-1]}enter(){this.stack.push(new Pc)}exit(){let r=this.stack.pop(),t=this.current();for(let[n,i]of Array.from(r.undefinedPrivateNames))t?t.undefinedPrivateNames.has(n)||t.undefinedPrivateNames.set(n,i):this.parser.raise(S.InvalidPrivateFieldResolution,i,{identifierName:n})}declarePrivateName(r,t,n){let{privateNames:i,loneAccessors:s,undefinedPrivateNames:o}=this.current(),a=i.has(r);if(t&3){let l=a&&s.get(r);if(l){let u=l&4,c=t&4,p=l&3,d=t&3;a=p===d||u!==c,a||s.delete(r)}else a||s.set(r,t)}a&&this.parser.raise(S.PrivateNameRedeclaration,n,{identifierName:r}),i.add(r),o.delete(r)}usePrivateName(r,t){let n;for(n of this.stack)if(n.privateNames.has(r))return;n?n.undefinedPrivateNames.set(r,t):this.parser.raise(S.InvalidPrivateFieldResolution,t,{identifierName:r})}},Vi=class{constructor(r=0){this.type=r}canBeArrowParameterDeclaration(){return this.type===2||this.type===1}isCertainlyParameterDeclaration(){return this.type===3}},Ia=class extends Vi{constructor(r){super(r),this.declarationErrors=new Map}recordDeclarationError(r,t){let n=t.index;this.declarationErrors.set(n,[r,t])}clearDeclarationError(r){this.declarationErrors.delete(r)}iterateErrors(r){this.declarationErrors.forEach(r)}},Nc=class{constructor(r){this.parser=void 0,this.stack=[new Vi],this.parser=r}enter(r){this.stack.push(r)}exit(){this.stack.pop()}recordParameterInitializerError(r,t){let n=t.loc.start,{stack:i}=this,s=i.length-1,o=i[s];for(;!o.isCertainlyParameterDeclaration();){if(o.canBeArrowParameterDeclaration())o.recordDeclarationError(r,n);else return;o=i[--s]}this.parser.raise(r,n)}recordArrowParameterBindingError(r,t){let{stack:n}=this,i=n[n.length-1],s=t.loc.start;if(i.isCertainlyParameterDeclaration())this.parser.raise(r,s);else if(i.canBeArrowParameterDeclaration())i.recordDeclarationError(r,s);else return}recordAsyncArrowParametersError(r){let{stack:t}=this,n=t.length-1,i=t[n];for(;i.canBeArrowParameterDeclaration();)i.type===2&&i.recordDeclarationError(S.AwaitBindingIdentifier,r),i=t[--n]}validateAsPattern(){let{stack:r}=this,t=r[r.length-1];t.canBeArrowParameterDeclaration()&&t.iterateErrors(([n,i])=>{this.parser.raise(n,i);let s=r.length-2,o=r[s];for(;o.canBeArrowParameterDeclaration();)o.clearDeclarationError(i.index),o=r[--s]})}};function Bv(){return new Vi(3)}function Mv(){return new Ia(1)}function $v(){return new Ia(2)}function Wy(){return new Vi}var Fc=class{constructor(){this.stacks=[]}enter(r){this.stacks.push(r)}exit(){this.stacks.pop()}currentFlags(){return this.stacks[this.stacks.length-1]}get hasAwait(){return(this.currentFlags()&2)>0}get hasYield(){return(this.currentFlags()&1)>0}get hasReturn(){return(this.currentFlags()&4)>0}get hasIn(){return(this.currentFlags()&8)>0}};function Aa(e,r){return(e?2:0)|(r?1:0)}var _c=class extends vc{addExtra(r,t,n,i=!0){if(!r)return;let{extra:s}=r;s==null&&(s={},r.extra=s),i?s[t]=n:Object.defineProperty(s,t,{enumerable:i,value:n})}isContextual(r){return this.state.type===r&&!this.state.containsEsc}isUnparsedContextual(r,t){let n=r+t.length;if(this.input.slice(r,n)===t){let i=this.input.charCodeAt(n);return!($i(i)||(i&64512)===55296)}return!1}isLookaheadContextual(r){let t=this.nextTokenStart();return this.isUnparsedContextual(t,r)}eatContextual(r){return this.isContextual(r)?(this.next(),!0):!1}expectContextual(r,t){if(!this.eatContextual(r)){if(t!=null)throw this.raise(t,this.state.startLoc);this.unexpected(null,r)}}canInsertSemicolon(){return this.match(139)||this.match(8)||this.hasPrecedingLineBreak()}hasPrecedingLineBreak(){return Ay(this.input,this.state.lastTokEndLoc.index,this.state.start)}hasFollowingLineBreak(){return Ay(this.input,this.state.end,this.nextTokenStart())}isLineTerminator(){return this.eat(13)||this.canInsertSemicolon()}semicolon(r=!0){(r?this.isLineTerminator():this.eat(13))||this.raise(S.MissingSemicolon,this.state.lastTokEndLoc)}expect(r,t){this.eat(r)||this.unexpected(t,r)}tryParse(r,t=this.state.clone()){let n={node:null};try{let i=r((s=null)=>{throw n.node=s,n});if(this.state.errors.length>t.errors.length){let s=this.state;return this.state=t,this.state.tokensLength=s.tokensLength,{node:i,error:s.errors[t.errors.length],thrown:!1,aborted:!1,failState:s}}return{node:i,error:null,thrown:!1,aborted:!1,failState:null}}catch(i){let s=this.state;if(this.state=t,i instanceof SyntaxError)return{node:null,error:i,thrown:!0,aborted:!1,failState:s};if(i===n)return{node:n.node,error:null,thrown:!1,aborted:!0,failState:s};throw i}}checkExpressionErrors(r,t){if(!r)return!1;let{shorthandAssignLoc:n,doubleProtoLoc:i,privateKeyLoc:s,optionalParametersLoc:o}=r,a=!!n||!!i||!!o||!!s;if(!t)return a;n!=null&&this.raise(S.InvalidCoverInitializedName,n),i!=null&&this.raise(S.DuplicateProto,i),s!=null&&this.raise(S.UnexpectedPrivateField,s),o!=null&&this.unexpected(o)}isLiteralPropertyName(){return Ly(this.state.type)}isPrivateName(r){return r.type==="PrivateName"}getPrivateNameSV(r){return r.id.name}hasPropertyAsPrivateName(r){return(r.type==="MemberExpression"||r.type==="OptionalMemberExpression")&&this.isPrivateName(r.property)}isObjectProperty(r){return r.type==="ObjectProperty"}isObjectMethod(r){return r.type==="ObjectMethod"}initializeScopes(r=this.options.sourceType==="module"){let t=this.state.labels;this.state.labels=[];let n=this.exportedIdentifiers;this.exportedIdentifiers=new Set;let i=this.inModule;this.inModule=r;let s=this.scope,o=this.getScopeHandler();this.scope=new o(this,r);let a=this.prodParam;this.prodParam=new Fc;let l=this.classScope;this.classScope=new Ic(this);let u=this.expressionScope;return this.expressionScope=new Nc(this),()=>{this.state.labels=t,this.exportedIdentifiers=n,this.inModule=i,this.scope=s,this.prodParam=a,this.classScope=l,this.expressionScope=u}}enterInitialScopes(){let r=0;this.inModule&&(r|=2),this.scope.enter(1),this.prodParam.enter(r)}checkDestructuringPrivate(r){let{privateKeyLoc:t}=r;t!==null&&this.expectPlugin("destructuringPrivate",t)}},ji=class{constructor(){this.shorthandAssignLoc=null,this.doubleProtoLoc=null,this.privateKeyLoc=null,this.optionalParametersLoc=null}},zi=class{constructor(r,t,n){this.type="",this.start=t,this.end=0,this.loc=new Ki(n),r!=null&&r.options.ranges&&(this.range=[t,0]),r!=null&&r.filename&&(this.loc.filename=r.filename)}},Hc=zi.prototype;Hc.__clone=function(){let e=new zi(void 0,this.start,this.loc.start),r=Object.keys(this);for(let t=0,n=r.length;t<n;t++){let i=r[t];i!=="leadingComments"&&i!=="trailingComments"&&i!=="innerComments"&&(e[i]=this[i])}return e};function Uv(e){return un(e)}function un(e){let{type:r,start:t,end:n,loc:i,range:s,extra:o,name:a}=e,l=Object.create(Hc);return l.type=r,l.start=t,l.end=n,l.loc=i,l.range=s,l.extra=o,l.name=a,r==="Placeholder"&&(l.expectedNode=e.expectedNode),l}function jv(e){let{type:r,start:t,end:n,loc:i,range:s,extra:o}=e;if(r==="Placeholder")return Uv(e);let a=Object.create(Hc);return a.type=r,a.start=t,a.end=n,a.loc=i,a.range=s,e.raw!==void 0?a.raw=e.raw:a.extra=o,a.value=e.value,a}var kc=class extends _c{startNode(){let r=this.state.startLoc;return new zi(this,r.index,r)}startNodeAt(r){return new zi(this,r.index,r)}startNodeAtNode(r){return this.startNodeAt(r.loc.start)}finishNode(r,t){return this.finishNodeAt(r,t,this.state.lastTokEndLoc)}finishNodeAt(r,t,n){return r.type=t,r.end=n.index,r.loc.end=n,this.options.ranges&&(r.range[1]=n.index),this.options.attachComment&&this.processComment(r),r}resetStartLocation(r,t){r.start=t.index,r.loc.start=t,this.options.ranges&&(r.range[0]=t.index)}resetEndLocation(r,t=this.state.lastTokEndLoc){r.end=t.index,r.loc.end=t,this.options.ranges&&(r.range[1]=t.index)}resetStartLocationFromNode(r,t){this.resetStartLocation(r,t.loc.start)}},Kv=new Set(["_","any","bool","boolean","empty","extends","false","interface","mixed","null","number","static","string","true","typeof","void"]),X=ln`flow`({AmbiguousConditionalArrow:"Ambiguous expression: wrap the arrow functions in parentheses to disambiguate.",AmbiguousDeclareModuleKind:"Found both `declare module.exports` and `declare export` in the same module. Modules can only have 1 since they are either an ES module or they are a CommonJS module.",AssignReservedType:({reservedType:e})=>`Cannot overwrite reserved type ${e}.`,DeclareClassElement:"The `declare` modifier can only appear on class fields.",DeclareClassFieldInitializer:"Initializers are not allowed in fields with the `declare` modifier.",DuplicateDeclareModuleExports:"Duplicate `declare module.exports` statement.",EnumBooleanMemberNotInitialized:({memberName:e,enumName:r})=>`Boolean enum members need to be initialized. Use either \`${e} = true,\` or \`${e} = false,\` in enum \`${r}\`.`,EnumDuplicateMemberName:({memberName:e,enumName:r})=>`Enum member names need to be unique, but the name \`${e}\` has already been used before in enum \`${r}\`.`,EnumInconsistentMemberValues:({enumName:e})=>`Enum \`${e}\` has inconsistent member initializers. Either use no initializers, or consistently use literals (either booleans, numbers, or strings) for all member initializers.`,EnumInvalidExplicitType:({invalidEnumType:e,enumName:r})=>`Enum type \`${e}\` is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${r}\`.`,EnumInvalidExplicitTypeUnknownSupplied:({enumName:e})=>`Supplied enum type is not valid. Use one of \`boolean\`, \`number\`, \`string\`, or \`symbol\` in enum \`${e}\`.`,EnumInvalidMemberInitializerPrimaryType:({enumName:e,memberName:r,explicitType:t})=>`Enum \`${e}\` has type \`${t}\`, so the initializer of \`${r}\` needs to be a ${t} literal.`,EnumInvalidMemberInitializerSymbolType:({enumName:e,memberName:r})=>`Symbol enum members cannot be initialized. Use \`${r},\` in enum \`${e}\`.`,EnumInvalidMemberInitializerUnknownType:({enumName:e,memberName:r})=>`The enum member initializer for \`${r}\` needs to be a literal (either a boolean, number, or string) in enum \`${e}\`.`,EnumInvalidMemberName:({enumName:e,memberName:r,suggestion:t})=>`Enum member names cannot start with lowercase 'a' through 'z'. Instead of using \`${r}\`, consider using \`${t}\`, in enum \`${e}\`.`,EnumNumberMemberNotInitialized:({enumName:e,memberName:r})=>`Number enum members need to be initialized, e.g. \`${r} = 1\` in enum \`${e}\`.`,EnumStringMemberInconsistentlyInitialized:({enumName:e})=>`String enum members need to consistently either all use initializers, or use no initializers, in enum \`${e}\`.`,GetterMayNotHaveThisParam:"A getter cannot have a `this` parameter.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` or `typeof` keyword.",ImportTypeShorthandOnlyInPureImport:"The `type` and `typeof` keywords on named imports can only be used on regular `import` statements. It cannot be used with `import type` or `import typeof` statements.",InexactInsideExact:"Explicit inexact syntax cannot appear inside an explicit exact object type.",InexactInsideNonObject:"Explicit inexact syntax cannot appear in class or interface definitions.",InexactVariance:"Explicit inexact syntax cannot have variance.",InvalidNonTypeImportInDeclareModule:"Imports within a `declare module` body must always be `import type` or `import typeof`.",MissingTypeParamDefault:"Type parameter declaration needs a default, since a preceding type parameter declaration has a default.",NestedDeclareModule:"`declare module` cannot be used inside another `declare module`.",NestedFlowComment:"Cannot have a flow comment inside another flow comment.",PatternIsOptional:Object.assign({message:"A binding pattern parameter cannot be optional in an implementation signature."},{reasonCode:"OptionalBindingPattern"}),SetterMayNotHaveThisParam:"A setter cannot have a `this` parameter.",SpreadVariance:"Spread properties cannot have variance.",ThisParamAnnotationRequired:"A type annotation is required for the `this` parameter.",ThisParamBannedInConstructor:"Constructors cannot have a `this` parameter; constructors don't bind `this` like other functions.",ThisParamMayNotBeOptional:"The `this` parameter cannot be optional.",ThisParamMustBeFirst:"The `this` parameter must be the first function parameter.",ThisParamNoDefault:"The `this` parameter may not have a default value.",TypeBeforeInitializer:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeCastInPattern:"The type cast expression is expected to be wrapped with parenthesis.",UnexpectedExplicitInexactInObject:"Explicit inexact syntax must appear at the end of an inexact object.",UnexpectedReservedType:({reservedType:e})=>`Unexpected reserved type ${e}.`,UnexpectedReservedUnderscore:"`_` is only allowed as a type argument to call or new.",UnexpectedSpaceBetweenModuloChecks:"Spaces between `%` and `checks` are not allowed here.",UnexpectedSpreadType:"Spread operator cannot appear in class or interface definitions.",UnexpectedSubtractionOperand:'Unexpected token, expected "number" or "bigint".',UnexpectedTokenAfterTypeParameter:"Expected an arrow function after this type parameter declaration.",UnexpectedTypeParameterBeforeAsyncArrowFunction:"Type parameters must come after the async keyword, e.g. instead of `<T> async () => {}`, use `async <T>() => {}`.",UnsupportedDeclareExportKind:({unsupportedExportKind:e,suggestion:r})=>`\`declare export ${e}\` is not supported. Use \`${r}\` instead.`,UnsupportedStatementInDeclareModule:"Only declares and type imports are allowed inside declare module.",UnterminatedFlowComment:"Unterminated flow-comment."});function Vv(e){return e.type==="DeclareExportAllDeclaration"||e.type==="DeclareExportDeclaration"&&(!e.declaration||e.declaration.type!=="TypeAlias"&&e.declaration.type!=="InterfaceDeclaration")}function Iy(e){return e.importKind==="type"||e.importKind==="typeof"}var zv={const:"declare export var",let:"declare export var",type:"export type",interface:"export interface"};function qv(e,r){let t=[],n=[];for(let i=0;i<e.length;i++)(r(e[i],i,e)?t:n).push(e[i]);return[t,n]}var Wv=/\*?\s*@((?:no)?flow)\b/,Gv=e=>class extends e{constructor(...t){super(...t),this.flowPragma=void 0}getScopeHandler(){return Cc}shouldParseTypes(){return this.getPluginOption("flow","all")||this.flowPragma==="flow"}finishToken(t,n){t!==133&&t!==13&&t!==28&&this.flowPragma===void 0&&(this.flowPragma=null),super.finishToken(t,n)}addComment(t){if(this.flowPragma===void 0){let n=Wv.exec(t.value);if(n)if(n[1]==="flow")this.flowPragma="flow";else if(n[1]==="noflow")this.flowPragma="noflow";else throw new Error("Unexpected flow pragma")}super.addComment(t)}flowParseTypeInitialiser(t){let n=this.state.inType;this.state.inType=!0,this.expect(t||14);let i=this.flowParseType();return this.state.inType=n,i}flowParsePredicate(){let t=this.startNode(),n=this.state.startLoc;return this.next(),this.expectContextual(110),this.state.lastTokStartLoc.index>n.index+1&&this.raise(X.UnexpectedSpaceBetweenModuloChecks,n),this.eat(10)?(t.value=super.parseExpression(),this.expect(11),this.finishNode(t,"DeclaredPredicate")):this.finishNode(t,"InferredPredicate")}flowParseTypeAndPredicateInitialiser(){let t=this.state.inType;this.state.inType=!0,this.expect(14);let n=null,i=null;return this.match(54)?(this.state.inType=t,i=this.flowParsePredicate()):(n=this.flowParseType(),this.state.inType=t,this.match(54)&&(i=this.flowParsePredicate())),[n,i]}flowParseDeclareClass(t){return this.next(),this.flowParseInterfaceish(t,!0),this.finishNode(t,"DeclareClass")}flowParseDeclareFunction(t){this.next();let n=t.id=this.parseIdentifier(),i=this.startNode(),s=this.startNode();this.match(47)?i.typeParameters=this.flowParseTypeParameterDeclaration():i.typeParameters=null,this.expect(10);let o=this.flowParseFunctionTypeParams();return i.params=o.params,i.rest=o.rest,i.this=o._this,this.expect(11),[i.returnType,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),s.typeAnnotation=this.finishNode(i,"FunctionTypeAnnotation"),n.typeAnnotation=this.finishNode(s,"TypeAnnotation"),this.resetEndLocation(n),this.semicolon(),this.scope.declareName(t.id.name,2048,t.id.loc.start),this.finishNode(t,"DeclareFunction")}flowParseDeclare(t,n){if(this.match(80))return this.flowParseDeclareClass(t);if(this.match(68))return this.flowParseDeclareFunction(t);if(this.match(74))return this.flowParseDeclareVariable(t);if(this.eatContextual(127))return this.match(16)?this.flowParseDeclareModuleExports(t):(n&&this.raise(X.NestedDeclareModule,this.state.lastTokStartLoc),this.flowParseDeclareModule(t));if(this.isContextual(130))return this.flowParseDeclareTypeAlias(t);if(this.isContextual(131))return this.flowParseDeclareOpaqueType(t);if(this.isContextual(129))return this.flowParseDeclareInterface(t);if(this.match(82))return this.flowParseDeclareExportDeclaration(t,n);this.unexpected()}flowParseDeclareVariable(t){return this.next(),t.id=this.flowParseTypeAnnotatableIdentifier(!0),this.scope.declareName(t.id.name,5,t.id.loc.start),this.semicolon(),this.finishNode(t,"DeclareVariable")}flowParseDeclareModule(t){this.scope.enter(0),this.match(133)?t.id=super.parseExprAtom():t.id=this.parseIdentifier();let n=t.body=this.startNode(),i=n.body=[];for(this.expect(5);!this.match(8);){let a=this.startNode();this.match(83)?(this.next(),!this.isContextual(130)&&!this.match(87)&&this.raise(X.InvalidNonTypeImportInDeclareModule,this.state.lastTokStartLoc),super.parseImport(a)):(this.expectContextual(125,X.UnsupportedStatementInDeclareModule),a=this.flowParseDeclare(a,!0)),i.push(a)}this.scope.exit(),this.expect(8),this.finishNode(n,"BlockStatement");let s=null,o=!1;return i.forEach(a=>{Vv(a)?(s==="CommonJS"&&this.raise(X.AmbiguousDeclareModuleKind,a),s="ES"):a.type==="DeclareModuleExports"&&(o&&this.raise(X.DuplicateDeclareModuleExports,a),s==="ES"&&this.raise(X.AmbiguousDeclareModuleKind,a),s="CommonJS",o=!0)}),t.kind=s||"CommonJS",this.finishNode(t,"DeclareModule")}flowParseDeclareExportDeclaration(t,n){if(this.expect(82),this.eat(65))return this.match(68)||this.match(80)?t.declaration=this.flowParseDeclare(this.startNode()):(t.declaration=this.flowParseType(),this.semicolon()),t.default=!0,this.finishNode(t,"DeclareExportDeclaration");if(this.match(75)||this.isLet()||(this.isContextual(130)||this.isContextual(129))&&!n){let i=this.state.value;throw this.raise(X.UnsupportedDeclareExportKind,this.state.startLoc,{unsupportedExportKind:i,suggestion:zv[i]})}if(this.match(74)||this.match(68)||this.match(80)||this.isContextual(131))return t.declaration=this.flowParseDeclare(this.startNode()),t.default=!1,this.finishNode(t,"DeclareExportDeclaration");if(this.match(55)||this.match(5)||this.isContextual(129)||this.isContextual(130)||this.isContextual(131))return t=this.parseExport(t,null),t.type==="ExportNamedDeclaration"&&(t.type="ExportDeclaration",t.default=!1,delete t.exportKind),t.type="Declare"+t.type,t;this.unexpected()}flowParseDeclareModuleExports(t){return this.next(),this.expectContextual(111),t.typeAnnotation=this.flowParseTypeAnnotation(),this.semicolon(),this.finishNode(t,"DeclareModuleExports")}flowParseDeclareTypeAlias(t){this.next();let n=this.flowParseTypeAlias(t);return n.type="DeclareTypeAlias",n}flowParseDeclareOpaqueType(t){this.next();let n=this.flowParseOpaqueType(t,!0);return n.type="DeclareOpaqueType",n}flowParseDeclareInterface(t){return this.next(),this.flowParseInterfaceish(t,!1),this.finishNode(t,"DeclareInterface")}flowParseInterfaceish(t,n){if(t.id=this.flowParseRestrictedIdentifier(!n,!0),this.scope.declareName(t.id.name,n?17:8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(!n&&this.eat(12));if(n){if(t.implements=[],t.mixins=[],this.eatContextual(117))do t.mixins.push(this.flowParseInterfaceExtends());while(this.eat(12));if(this.eatContextual(113))do t.implements.push(this.flowParseInterfaceExtends());while(this.eat(12))}t.body=this.flowParseObjectType({allowStatic:n,allowExact:!1,allowSpread:!1,allowProto:n,allowInexact:!1})}flowParseInterfaceExtends(){let t=this.startNode();return t.id=this.flowParseQualifiedTypeIdentifier(),this.match(47)?t.typeParameters=this.flowParseTypeParameterInstantiation():t.typeParameters=null,this.finishNode(t,"InterfaceExtends")}flowParseInterface(t){return this.flowParseInterfaceish(t,!1),this.finishNode(t,"InterfaceDeclaration")}checkNotUnderscore(t){t==="_"&&this.raise(X.UnexpectedReservedUnderscore,this.state.startLoc)}checkReservedType(t,n,i){Kv.has(t)&&this.raise(i?X.AssignReservedType:X.UnexpectedReservedType,n,{reservedType:t})}flowParseRestrictedIdentifier(t,n){return this.checkReservedType(this.state.value,this.state.startLoc,n),this.parseIdentifier(t)}flowParseTypeAlias(t){return t.id=this.flowParseRestrictedIdentifier(!1,!0),this.scope.declareName(t.id.name,8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.right=this.flowParseTypeInitialiser(29),this.semicolon(),this.finishNode(t,"TypeAlias")}flowParseOpaqueType(t,n){return this.expectContextual(130),t.id=this.flowParseRestrictedIdentifier(!0,!0),this.scope.declareName(t.id.name,8201,t.id.loc.start),this.match(47)?t.typeParameters=this.flowParseTypeParameterDeclaration():t.typeParameters=null,t.supertype=null,this.match(14)&&(t.supertype=this.flowParseTypeInitialiser(14)),t.impltype=null,n||(t.impltype=this.flowParseTypeInitialiser(29)),this.semicolon(),this.finishNode(t,"OpaqueType")}flowParseTypeParameter(t=!1){let n=this.state.startLoc,i=this.startNode(),s=this.flowParseVariance(),o=this.flowParseTypeAnnotatableIdentifier();return i.name=o.name,i.variance=s,i.bound=o.typeAnnotation,this.match(29)?(this.eat(29),i.default=this.flowParseType()):t&&this.raise(X.MissingTypeParamDefault,n),this.finishNode(i,"TypeParameter")}flowParseTypeParameterDeclaration(){let t=this.state.inType,n=this.startNode();n.params=[],this.state.inType=!0,this.match(47)||this.match(142)?this.next():this.unexpected();let i=!1;do{let s=this.flowParseTypeParameter(i);n.params.push(s),s.default&&(i=!0),this.match(48)||this.expect(12)}while(!this.match(48));return this.expect(48),this.state.inType=t,this.finishNode(n,"TypeParameterDeclaration")}flowParseTypeParameterInstantiation(){let t=this.startNode(),n=this.state.inType;t.params=[],this.state.inType=!0,this.expect(47);let i=this.state.noAnonFunctionType;for(this.state.noAnonFunctionType=!1;!this.match(48);)t.params.push(this.flowParseType()),this.match(48)||this.expect(12);return this.state.noAnonFunctionType=i,this.expect(48),this.state.inType=n,this.finishNode(t,"TypeParameterInstantiation")}flowParseTypeParameterInstantiationCallOrNew(){let t=this.startNode(),n=this.state.inType;for(t.params=[],this.state.inType=!0,this.expect(47);!this.match(48);)t.params.push(this.flowParseTypeOrImplicitInstantiation()),this.match(48)||this.expect(12);return this.expect(48),this.state.inType=n,this.finishNode(t,"TypeParameterInstantiation")}flowParseInterfaceType(){let t=this.startNode();if(this.expectContextual(129),t.extends=[],this.eat(81))do t.extends.push(this.flowParseInterfaceExtends());while(this.eat(12));return t.body=this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!1,allowProto:!1,allowInexact:!1}),this.finishNode(t,"InterfaceTypeAnnotation")}flowParseObjectPropertyKey(){return this.match(134)||this.match(133)?super.parseExprAtom():this.parseIdentifier(!0)}flowParseObjectTypeIndexer(t,n,i){return t.static=n,this.lookahead().type===14?(t.id=this.flowParseObjectPropertyKey(),t.key=this.flowParseTypeInitialiser()):(t.id=null,t.key=this.flowParseType()),this.expect(3),t.value=this.flowParseTypeInitialiser(),t.variance=i,this.finishNode(t,"ObjectTypeIndexer")}flowParseObjectTypeInternalSlot(t,n){return t.static=n,t.id=this.flowParseObjectPropertyKey(),this.expect(3),this.expect(3),this.match(47)||this.match(10)?(t.method=!0,t.optional=!1,t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.loc.start))):(t.method=!1,this.eat(17)&&(t.optional=!0),t.value=this.flowParseTypeInitialiser()),this.finishNode(t,"ObjectTypeInternalSlot")}flowParseObjectTypeMethodish(t){for(t.params=[],t.rest=null,t.typeParameters=null,t.this=null,this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),this.expect(10),this.match(78)&&(t.this=this.flowParseFunctionTypeParam(!0),t.this.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.params.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(t.rest=this.flowParseFunctionTypeParam(!1)),this.expect(11),t.returnType=this.flowParseTypeInitialiser(),this.finishNode(t,"FunctionTypeAnnotation")}flowParseObjectTypeCallProperty(t,n){let i=this.startNode();return t.static=n,t.value=this.flowParseObjectTypeMethodish(i),this.finishNode(t,"ObjectTypeCallProperty")}flowParseObjectType({allowStatic:t,allowExact:n,allowSpread:i,allowProto:s,allowInexact:o}){let a=this.state.inType;this.state.inType=!0;let l=this.startNode();l.callProperties=[],l.properties=[],l.indexers=[],l.internalSlots=[];let u,c,p=!1;for(n&&this.match(6)?(this.expect(6),u=9,c=!0):(this.expect(5),u=8,c=!1),l.exact=c;!this.match(u);){let f=!1,m=null,h=null,g=this.startNode();if(s&&this.isContextual(118)){let D=this.lookahead();D.type!==14&&D.type!==17&&(this.next(),m=this.state.startLoc,t=!1)}if(t&&this.isContextual(106)){let D=this.lookahead();D.type!==14&&D.type!==17&&(this.next(),f=!0)}let y=this.flowParseVariance();if(this.eat(0))m!=null&&this.unexpected(m),this.eat(0)?(y&&this.unexpected(y.loc.start),l.internalSlots.push(this.flowParseObjectTypeInternalSlot(g,f))):l.indexers.push(this.flowParseObjectTypeIndexer(g,f,y));else if(this.match(10)||this.match(47))m!=null&&this.unexpected(m),y&&this.unexpected(y.loc.start),l.callProperties.push(this.flowParseObjectTypeCallProperty(g,f));else{let D="init";if(this.isContextual(99)||this.isContextual(104)){let x=this.lookahead();Ly(x.type)&&(D=this.state.value,this.next())}let C=this.flowParseObjectTypeProperty(g,f,m,y,D,i,o??!c);C===null?(p=!0,h=this.state.lastTokStartLoc):l.properties.push(C)}this.flowObjectTypeSemicolon(),h&&!this.match(8)&&!this.match(9)&&this.raise(X.UnexpectedExplicitInexactInObject,h)}this.expect(u),i&&(l.inexact=p);let d=this.finishNode(l,"ObjectTypeAnnotation");return this.state.inType=a,d}flowParseObjectTypeProperty(t,n,i,s,o,a,l){if(this.eat(21))return this.match(12)||this.match(13)||this.match(8)||this.match(9)?(a?l||this.raise(X.InexactInsideExact,this.state.lastTokStartLoc):this.raise(X.InexactInsideNonObject,this.state.lastTokStartLoc),s&&this.raise(X.InexactVariance,s),null):(a||this.raise(X.UnexpectedSpreadType,this.state.lastTokStartLoc),i!=null&&this.unexpected(i),s&&this.raise(X.SpreadVariance,s),t.argument=this.flowParseType(),this.finishNode(t,"ObjectTypeSpreadProperty"));{t.key=this.flowParseObjectPropertyKey(),t.static=n,t.proto=i!=null,t.kind=o;let u=!1;return this.match(47)||this.match(10)?(t.method=!0,i!=null&&this.unexpected(i),s&&this.unexpected(s.loc.start),t.value=this.flowParseObjectTypeMethodish(this.startNodeAt(t.loc.start)),(o==="get"||o==="set")&&this.flowCheckGetterSetterParams(t),!a&&t.key.name==="constructor"&&t.value.this&&this.raise(X.ThisParamBannedInConstructor,t.value.this)):(o!=="init"&&this.unexpected(),t.method=!1,this.eat(17)&&(u=!0),t.value=this.flowParseTypeInitialiser(),t.variance=s),t.optional=u,this.finishNode(t,"ObjectTypeProperty")}}flowCheckGetterSetterParams(t){let n=t.kind==="get"?0:1,i=t.value.params.length+(t.value.rest?1:0);t.value.this&&this.raise(t.kind==="get"?X.GetterMayNotHaveThisParam:X.SetterMayNotHaveThisParam,t.value.this),i!==n&&this.raise(t.kind==="get"?S.BadGetterArity:S.BadSetterArity,t),t.kind==="set"&&t.value.rest&&this.raise(S.BadSetterRestParameter,t)}flowObjectTypeSemicolon(){!this.eat(13)&&!this.eat(12)&&!this.match(8)&&!this.match(9)&&this.unexpected()}flowParseQualifiedTypeIdentifier(t,n){var i;(i=t)!=null||(t=this.state.startLoc);let s=n||this.flowParseRestrictedIdentifier(!0);for(;this.eat(16);){let o=this.startNodeAt(t);o.qualification=s,o.id=this.flowParseRestrictedIdentifier(!0),s=this.finishNode(o,"QualifiedTypeIdentifier")}return s}flowParseGenericType(t,n){let i=this.startNodeAt(t);return i.typeParameters=null,i.id=this.flowParseQualifiedTypeIdentifier(t,n),this.match(47)&&(i.typeParameters=this.flowParseTypeParameterInstantiation()),this.finishNode(i,"GenericTypeAnnotation")}flowParseTypeofType(){let t=this.startNode();return this.expect(87),t.argument=this.flowParsePrimaryType(),this.finishNode(t,"TypeofTypeAnnotation")}flowParseTupleType(){let t=this.startNode();for(t.types=[],this.expect(0);this.state.pos<this.length&&!this.match(3)&&(t.types.push(this.flowParseType()),!this.match(3));)this.expect(12);return this.expect(3),this.finishNode(t,"TupleTypeAnnotation")}flowParseFunctionTypeParam(t){let n=null,i=!1,s=null,o=this.startNode(),a=this.lookahead(),l=this.state.type===78;return a.type===14||a.type===17?(l&&!t&&this.raise(X.ThisParamMustBeFirst,o),n=this.parseIdentifier(l),this.eat(17)&&(i=!0,l&&this.raise(X.ThisParamMayNotBeOptional,o)),s=this.flowParseTypeInitialiser()):s=this.flowParseType(),o.name=n,o.optional=i,o.typeAnnotation=s,this.finishNode(o,"FunctionTypeParam")}reinterpretTypeAsFunctionTypeParam(t){let n=this.startNodeAt(t.loc.start);return n.name=null,n.optional=!1,n.typeAnnotation=t,this.finishNode(n,"FunctionTypeParam")}flowParseFunctionTypeParams(t=[]){let n=null,i=null;for(this.match(78)&&(i=this.flowParseFunctionTypeParam(!0),i.name=null,this.match(11)||this.expect(12));!this.match(11)&&!this.match(21);)t.push(this.flowParseFunctionTypeParam(!1)),this.match(11)||this.expect(12);return this.eat(21)&&(n=this.flowParseFunctionTypeParam(!1)),{params:t,rest:n,_this:i}}flowIdentToTypeAnnotation(t,n,i){switch(i.name){case"any":return this.finishNode(n,"AnyTypeAnnotation");case"bool":case"boolean":return this.finishNode(n,"BooleanTypeAnnotation");case"mixed":return this.finishNode(n,"MixedTypeAnnotation");case"empty":return this.finishNode(n,"EmptyTypeAnnotation");case"number":return this.finishNode(n,"NumberTypeAnnotation");case"string":return this.finishNode(n,"StringTypeAnnotation");case"symbol":return this.finishNode(n,"SymbolTypeAnnotation");default:return this.checkNotUnderscore(i.name),this.flowParseGenericType(t,i)}}flowParsePrimaryType(){let t=this.state.startLoc,n=this.startNode(),i,s,o=!1,a=this.state.noAnonFunctionType;switch(this.state.type){case 5:return this.flowParseObjectType({allowStatic:!1,allowExact:!1,allowSpread:!0,allowProto:!1,allowInexact:!0});case 6:return this.flowParseObjectType({allowStatic:!1,allowExact:!0,allowSpread:!0,allowProto:!1,allowInexact:!1});case 0:return this.state.noAnonFunctionType=!1,s=this.flowParseTupleType(),this.state.noAnonFunctionType=a,s;case 47:{let l=this.startNode();return l.typeParameters=this.flowParseTypeParameterDeclaration(),this.expect(10),i=this.flowParseFunctionTypeParams(),l.params=i.params,l.rest=i.rest,l.this=i._this,this.expect(11),this.expect(19),l.returnType=this.flowParseType(),this.finishNode(l,"FunctionTypeAnnotation")}case 10:{let l=this.startNode();if(this.next(),!this.match(11)&&!this.match(21))if(we(this.state.type)||this.match(78)){let u=this.lookahead().type;o=u!==17&&u!==14}else o=!0;if(o){if(this.state.noAnonFunctionType=!1,s=this.flowParseType(),this.state.noAnonFunctionType=a,this.state.noAnonFunctionType||!(this.match(12)||this.match(11)&&this.lookahead().type===19))return this.expect(11),s;this.eat(12)}return s?i=this.flowParseFunctionTypeParams([this.reinterpretTypeAsFunctionTypeParam(s)]):i=this.flowParseFunctionTypeParams(),l.params=i.params,l.rest=i.rest,l.this=i._this,this.expect(11),this.expect(19),l.returnType=this.flowParseType(),l.typeParameters=null,this.finishNode(l,"FunctionTypeAnnotation")}case 133:return this.parseLiteral(this.state.value,"StringLiteralTypeAnnotation");case 85:case 86:return n.value=this.match(85),this.next(),this.finishNode(n,"BooleanLiteralTypeAnnotation");case 53:if(this.state.value==="-"){if(this.next(),this.match(134))return this.parseLiteralAtNode(-this.state.value,"NumberLiteralTypeAnnotation",n);if(this.match(135))return this.parseLiteralAtNode(-this.state.value,"BigIntLiteralTypeAnnotation",n);throw this.raise(X.UnexpectedSubtractionOperand,this.state.startLoc)}this.unexpected();return;case 134:return this.parseLiteral(this.state.value,"NumberLiteralTypeAnnotation");case 135:return this.parseLiteral(this.state.value,"BigIntLiteralTypeAnnotation");case 88:return this.next(),this.finishNode(n,"VoidTypeAnnotation");case 84:return this.next(),this.finishNode(n,"NullLiteralTypeAnnotation");case 78:return this.next(),this.finishNode(n,"ThisTypeAnnotation");case 55:return this.next(),this.finishNode(n,"ExistsTypeAnnotation");case 87:return this.flowParseTypeofType();default:if(qc(this.state.type)){let l=Nn(this.state.type);return this.next(),super.createIdentifier(n,l)}else if(we(this.state.type))return this.isContextual(129)?this.flowParseInterfaceType():this.flowIdentToTypeAnnotation(t,n,this.parseIdentifier())}this.unexpected()}flowParsePostfixType(){let t=this.state.startLoc,n=this.flowParsePrimaryType(),i=!1;for(;(this.match(0)||this.match(18))&&!this.canInsertSemicolon();){let s=this.startNodeAt(t),o=this.eat(18);i=i||o,this.expect(0),!o&&this.match(3)?(s.elementType=n,this.next(),n=this.finishNode(s,"ArrayTypeAnnotation")):(s.objectType=n,s.indexType=this.flowParseType(),this.expect(3),i?(s.optional=o,n=this.finishNode(s,"OptionalIndexedAccessType")):n=this.finishNode(s,"IndexedAccessType"))}return n}flowParsePrefixType(){let t=this.startNode();return this.eat(17)?(t.typeAnnotation=this.flowParsePrefixType(),this.finishNode(t,"NullableTypeAnnotation")):this.flowParsePostfixType()}flowParseAnonFunctionWithoutParens(){let t=this.flowParsePrefixType();if(!this.state.noAnonFunctionType&&this.eat(19)){let n=this.startNodeAt(t.loc.start);return n.params=[this.reinterpretTypeAsFunctionTypeParam(t)],n.rest=null,n.this=null,n.returnType=this.flowParseType(),n.typeParameters=null,this.finishNode(n,"FunctionTypeAnnotation")}return t}flowParseIntersectionType(){let t=this.startNode();this.eat(45);let n=this.flowParseAnonFunctionWithoutParens();for(t.types=[n];this.eat(45);)t.types.push(this.flowParseAnonFunctionWithoutParens());return t.types.length===1?n:this.finishNode(t,"IntersectionTypeAnnotation")}flowParseUnionType(){let t=this.startNode();this.eat(43);let n=this.flowParseIntersectionType();for(t.types=[n];this.eat(43);)t.types.push(this.flowParseIntersectionType());return t.types.length===1?n:this.finishNode(t,"UnionTypeAnnotation")}flowParseType(){let t=this.state.inType;this.state.inType=!0;let n=this.flowParseUnionType();return this.state.inType=t,n}flowParseTypeOrImplicitInstantiation(){if(this.state.type===132&&this.state.value==="_"){let t=this.state.startLoc,n=this.parseIdentifier();return this.flowParseGenericType(t,n)}else return this.flowParseType()}flowParseTypeAnnotation(){let t=this.startNode();return t.typeAnnotation=this.flowParseTypeInitialiser(),this.finishNode(t,"TypeAnnotation")}flowParseTypeAnnotatableIdentifier(t){let n=t?this.parseIdentifier():this.flowParseRestrictedIdentifier();return this.match(14)&&(n.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(n)),n}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}flowParseVariance(){let t=null;return this.match(53)?(t=this.startNode(),this.state.value==="+"?t.kind="plus":t.kind="minus",this.next(),this.finishNode(t,"Variance")):t}parseFunctionBody(t,n,i=!1){if(n){this.forwardNoArrowParamsConversionAt(t,()=>super.parseFunctionBody(t,!0,i));return}super.parseFunctionBody(t,!1,i)}parseFunctionBodyAndFinish(t,n,i=!1){if(this.match(14)){let s=this.startNode();[s.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),t.returnType=s.typeAnnotation?this.finishNode(s,"TypeAnnotation"):null}return super.parseFunctionBodyAndFinish(t,n,i)}parseStatementLike(t){if(this.state.strict&&this.isContextual(129)){let i=this.lookahead();if(gr(i.type)){let s=this.startNode();return this.next(),this.flowParseInterface(s)}}else if(this.plugins.get("flow").enums&&this.isContextual(126)){let i=this.startNode();return this.next(),this.flowParseEnumDeclaration(i)}let n=super.parseStatementLike(t);return this.flowPragma===void 0&&!this.isValidDirective(n)&&(this.flowPragma=null),n}parseExpressionStatement(t,n,i){if(n.type==="Identifier"){if(n.name==="declare"){if(this.match(80)||we(this.state.type)||this.match(68)||this.match(74)||this.match(82))return this.flowParseDeclare(t)}else if(we(this.state.type)){if(n.name==="interface")return this.flowParseInterface(t);if(n.name==="type")return this.flowParseTypeAlias(t);if(n.name==="opaque")return this.flowParseOpaqueType(t,!1)}}return super.parseExpressionStatement(t,n,i)}shouldParseExportDeclaration(){let{type:t}=this.state;return Ty(t)||this.plugins.get("flow").enums&&t===126?!this.state.containsEsc:super.shouldParseExportDeclaration()}isExportDefaultSpecifier(){let{type:t}=this.state;return Ty(t)||this.plugins.get("flow").enums&&t===126?this.state.containsEsc:super.isExportDefaultSpecifier()}parseExportDefaultExpression(){if(this.plugins.get("flow").enums&&this.isContextual(126)){let t=this.startNode();return this.next(),this.flowParseEnumDeclaration(t)}return super.parseExportDefaultExpression()}parseConditional(t,n,i){if(!this.match(17))return t;if(this.state.maybeInArrowParameters){let d=this.lookaheadCharCode();if(d===44||d===61||d===58||d===41)return this.setOptionalParametersError(i),t}this.expect(17);let s=this.state.clone(),o=this.state.noArrowAt,a=this.startNodeAt(n),{consequent:l,failed:u}=this.tryParseConditionalConsequent(),[c,p]=this.getArrowLikeExpressions(l);if(u||p.length>0){let d=[...o];if(p.length>0){this.state=s,this.state.noArrowAt=d;for(let f=0;f<p.length;f++)d.push(p[f].start);({consequent:l,failed:u}=this.tryParseConditionalConsequent()),[c,p]=this.getArrowLikeExpressions(l)}u&&c.length>1&&this.raise(X.AmbiguousConditionalArrow,s.startLoc),u&&c.length===1&&(this.state=s,d.push(c[0].start),this.state.noArrowAt=d,{consequent:l,failed:u}=this.tryParseConditionalConsequent())}return this.getArrowLikeExpressions(l,!0),this.state.noArrowAt=o,this.expect(14),a.test=t,a.consequent=l,a.alternate=this.forwardNoArrowParamsConversionAt(a,()=>this.parseMaybeAssign(void 0,void 0)),this.finishNode(a,"ConditionalExpression")}tryParseConditionalConsequent(){this.state.noArrowParamsConversionAt.push(this.state.start);let t=this.parseMaybeAssignAllowIn(),n=!this.match(14);return this.state.noArrowParamsConversionAt.pop(),{consequent:t,failed:n}}getArrowLikeExpressions(t,n){let i=[t],s=[];for(;i.length!==0;){let o=i.pop();o.type==="ArrowFunctionExpression"&&o.body.type!=="BlockStatement"?(o.typeParameters||!o.returnType?this.finishArrowValidation(o):s.push(o),i.push(o.body)):o.type==="ConditionalExpression"&&(i.push(o.consequent),i.push(o.alternate))}return n?(s.forEach(o=>this.finishArrowValidation(o)),[s,[]]):qv(s,o=>o.params.every(a=>this.isAssignable(a,!0)))}finishArrowValidation(t){var n;this.toAssignableList(t.params,(n=t.extra)==null?void 0:n.trailingCommaLoc,!1),this.scope.enter(6),super.checkParams(t,!1,!0),this.scope.exit()}forwardNoArrowParamsConversionAt(t,n){let i;return this.state.noArrowParamsConversionAt.includes(t.start)?(this.state.noArrowParamsConversionAt.push(this.state.start),i=n(),this.state.noArrowParamsConversionAt.pop()):i=n(),i}parseParenItem(t,n){let i=super.parseParenItem(t,n);if(this.eat(17)&&(i.optional=!0,this.resetEndLocation(t)),this.match(14)){let s=this.startNodeAt(n);return s.expression=i,s.typeAnnotation=this.flowParseTypeAnnotation(),this.finishNode(s,"TypeCastExpression")}return i}assertModuleNodeAllowed(t){t.type==="ImportDeclaration"&&(t.importKind==="type"||t.importKind==="typeof")||t.type==="ExportNamedDeclaration"&&t.exportKind==="type"||t.type==="ExportAllDeclaration"&&t.exportKind==="type"||super.assertModuleNodeAllowed(t)}parseExportDeclaration(t){if(this.isContextual(130)){t.exportKind="type";let n=this.startNode();return this.next(),this.match(5)?(t.specifiers=this.parseExportSpecifiers(!0),super.parseExportFrom(t),null):this.flowParseTypeAlias(n)}else if(this.isContextual(131)){t.exportKind="type";let n=this.startNode();return this.next(),this.flowParseOpaqueType(n,!1)}else if(this.isContextual(129)){t.exportKind="type";let n=this.startNode();return this.next(),this.flowParseInterface(n)}else if(this.plugins.get("flow").enums&&this.isContextual(126)){t.exportKind="value";let n=this.startNode();return this.next(),this.flowParseEnumDeclaration(n)}else return super.parseExportDeclaration(t)}eatExportStar(t){return super.eatExportStar(t)?!0:this.isContextual(130)&&this.lookahead().type===55?(t.exportKind="type",this.next(),this.next(),!0):!1}maybeParseExportNamespaceSpecifier(t){let{startLoc:n}=this.state,i=super.maybeParseExportNamespaceSpecifier(t);return i&&t.exportKind==="type"&&this.unexpected(n),i}parseClassId(t,n,i){super.parseClassId(t,n,i),this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration())}parseClassMember(t,n,i){let{startLoc:s}=this.state;if(this.isContextual(125)){if(super.parseClassMemberFromModifier(t,n))return;n.declare=!0}super.parseClassMember(t,n,i),n.declare&&(n.type!=="ClassProperty"&&n.type!=="ClassPrivateProperty"&&n.type!=="PropertyDefinition"?this.raise(X.DeclareClassElement,s):n.value&&this.raise(X.DeclareClassFieldInitializer,n.value))}isIterator(t){return t==="iterator"||t==="asyncIterator"}readIterator(){let t=super.readWord1(),n="@@"+t;(!this.isIterator(t)||!this.state.inType)&&this.raise(S.InvalidIdentifier,this.state.curPosition(),{identifierName:n}),this.finishToken(132,n)}getTokenFromCode(t){let n=this.input.charCodeAt(this.state.pos+1);t===123&&n===124?this.finishOp(6,2):this.state.inType&&(t===62||t===60)?this.finishOp(t===62?48:47,1):this.state.inType&&t===63?n===46?this.finishOp(18,2):this.finishOp(17,1):vv(t,n,this.input.charCodeAt(this.state.pos+2))?(this.state.pos+=2,this.readIterator()):super.getTokenFromCode(t)}isAssignable(t,n){return t.type==="TypeCastExpression"?this.isAssignable(t.expression,n):super.isAssignable(t,n)}toAssignable(t,n=!1){!n&&t.type==="AssignmentExpression"&&t.left.type==="TypeCastExpression"&&(t.left=this.typeCastToParameter(t.left)),super.toAssignable(t,n)}toAssignableList(t,n,i){for(let s=0;s<t.length;s++){let o=t[s];o?.type==="TypeCastExpression"&&(t[s]=this.typeCastToParameter(o))}super.toAssignableList(t,n,i)}toReferencedList(t,n){for(let s=0;s<t.length;s++){var i;let o=t[s];o&&o.type==="TypeCastExpression"&&!((i=o.extra)!=null&&i.parenthesized)&&(t.length>1||!n)&&this.raise(X.TypeCastInPattern,o.typeAnnotation)}return t}parseArrayLike(t,n,i,s){let o=super.parseArrayLike(t,n,i,s);return n&&!this.state.maybeInArrowParameters&&this.toReferencedList(o.elements),o}isValidLVal(t,n,i){return t==="TypeCastExpression"||super.isValidLVal(t,n,i)}parseClassProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassProperty(t)}parseClassPrivateProperty(t){return this.match(14)&&(t.typeAnnotation=this.flowParseTypeAnnotation()),super.parseClassPrivateProperty(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(14)||super.isClassProperty()}isNonstaticConstructor(t){return!this.match(14)&&super.isNonstaticConstructor(t)}pushClassMethod(t,n,i,s,o,a){if(n.variance&&this.unexpected(n.variance.loc.start),delete n.variance,this.match(47)&&(n.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassMethod(t,n,i,s,o,a),n.params&&o){let l=n.params;l.length>0&&this.isThisParam(l[0])&&this.raise(X.ThisParamBannedInConstructor,n)}else if(n.type==="MethodDefinition"&&o&&n.value.params){let l=n.value.params;l.length>0&&this.isThisParam(l[0])&&this.raise(X.ThisParamBannedInConstructor,n)}}pushClassPrivateMethod(t,n,i,s){n.variance&&this.unexpected(n.variance.loc.start),delete n.variance,this.match(47)&&(n.typeParameters=this.flowParseTypeParameterDeclaration()),super.pushClassPrivateMethod(t,n,i,s)}parseClassSuper(t){if(super.parseClassSuper(t),t.superClass&&this.match(47)&&(t.superTypeParameters=this.flowParseTypeParameterInstantiation()),this.isContextual(113)){this.next();let n=t.implements=[];do{let i=this.startNode();i.id=this.flowParseRestrictedIdentifier(!0),this.match(47)?i.typeParameters=this.flowParseTypeParameterInstantiation():i.typeParameters=null,n.push(this.finishNode(i,"ClassImplements"))}while(this.eat(12))}}checkGetterSetterParams(t){super.checkGetterSetterParams(t);let n=this.getObjectOrClassMethodParams(t);if(n.length>0){let i=n[0];this.isThisParam(i)&&t.kind==="get"?this.raise(X.GetterMayNotHaveThisParam,i):this.isThisParam(i)&&this.raise(X.SetterMayNotHaveThisParam,i)}}parsePropertyNamePrefixOperator(t){t.variance=this.flowParseVariance()}parseObjPropValue(t,n,i,s,o,a,l){t.variance&&this.unexpected(t.variance.loc.start),delete t.variance;let u;this.match(47)&&!a&&(u=this.flowParseTypeParameterDeclaration(),this.match(10)||this.unexpected());let c=super.parseObjPropValue(t,n,i,s,o,a,l);return u&&((c.value||c).typeParameters=u),c}parseFunctionParamType(t){return this.eat(17)&&(t.type!=="Identifier"&&this.raise(X.PatternIsOptional,t),this.isThisParam(t)&&this.raise(X.ThisParamMayNotBeOptional,t),t.optional=!0),this.match(14)?t.typeAnnotation=this.flowParseTypeAnnotation():this.isThisParam(t)&&this.raise(X.ThisParamAnnotationRequired,t),this.match(29)&&this.isThisParam(t)&&this.raise(X.ThisParamNoDefault,t),this.resetEndLocation(t),t}parseMaybeDefault(t,n){let i=super.parseMaybeDefault(t,n);return i.type==="AssignmentPattern"&&i.typeAnnotation&&i.right.start<i.typeAnnotation.start&&this.raise(X.TypeBeforeInitializer,i.typeAnnotation),i}checkImportReflection(t){super.checkImportReflection(t),t.module&&t.importKind!=="value"&&this.raise(X.ImportReflectionHasImportType,t.specifiers[0].loc.start)}parseImportSpecifierLocal(t,n,i){n.local=Iy(t)?this.flowParseRestrictedIdentifier(!0,!0):this.parseIdentifier(),t.specifiers.push(this.finishImportSpecifier(n,i))}isPotentialImportPhase(t){if(super.isPotentialImportPhase(t))return!0;if(this.isContextual(130)){if(!t)return!0;let n=this.lookaheadCharCode();return n===123||n===42}return!t&&this.isContextual(87)}applyImportPhase(t,n,i,s){if(super.applyImportPhase(t,n,i,s),n){if(!i&&this.match(65))return;t.exportKind=i==="type"?i:"value"}else i==="type"&&this.match(55)&&this.unexpected(),t.importKind=i==="type"||i==="typeof"?i:"value"}parseImportSpecifier(t,n,i,s,o){let a=t.imported,l=null;a.type==="Identifier"&&(a.name==="type"?l="type":a.name==="typeof"&&(l="typeof"));let u=!1;if(this.isContextual(93)&&!this.isLookaheadContextual("as")){let p=this.parseIdentifier(!0);l!==null&&!gr(this.state.type)?(t.imported=p,t.importKind=l,t.local=un(p)):(t.imported=a,t.importKind=null,t.local=this.parseIdentifier())}else{if(l!==null&&gr(this.state.type))t.imported=this.parseIdentifier(!0),t.importKind=l;else{if(n)throw this.raise(S.ImportBindingIsString,t,{importName:a.value});t.imported=a,t.importKind=null}this.eatContextual(93)?t.local=this.parseIdentifier():(u=!0,t.local=un(t.imported))}let c=Iy(t);return i&&c&&this.raise(X.ImportTypeShorthandOnlyInPureImport,t),(i||c)&&this.checkReservedType(t.local.name,t.local.loc.start,!0),u&&!i&&!c&&this.checkReservedWord(t.local.name,t.loc.start,!0,!0),this.finishImportSpecifier(t,"ImportSpecifier")}parseBindingAtom(){switch(this.state.type){case 78:return this.parseIdentifier(!0);default:return super.parseBindingAtom()}}parseFunctionParams(t,n){let i=t.kind;i!=="get"&&i!=="set"&&this.match(47)&&(t.typeParameters=this.flowParseTypeParameterDeclaration()),super.parseFunctionParams(t,n)}parseVarId(t,n){super.parseVarId(t,n),this.match(14)&&(t.id.typeAnnotation=this.flowParseTypeAnnotation(),this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,n){if(this.match(14)){let i=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0,t.returnType=this.flowParseTypeAnnotation(),this.state.noAnonFunctionType=i}return super.parseAsyncArrowFromCallExpression(t,n)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}parseMaybeAssign(t,n){var i;let s=null,o;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(s=this.state.clone(),o=this.tryParse(()=>super.parseMaybeAssign(t,n),s),!o.error)return o.node;let{context:u}=this.state,c=u[u.length-1];(c===_e.j_oTag||c===_e.j_expr)&&u.pop()}if((i=o)!=null&&i.error||this.match(47)){var a,l;s=s||this.state.clone();let u,c=this.tryParse(d=>{var f;u=this.flowParseTypeParameterDeclaration();let m=this.forwardNoArrowParamsConversionAt(u,()=>{let g=super.parseMaybeAssign(t,n);return this.resetStartLocationFromNode(g,u),g});(f=m.extra)!=null&&f.parenthesized&&d();let h=this.maybeUnwrapTypeCastExpression(m);return h.type!=="ArrowFunctionExpression"&&d(),h.typeParameters=u,this.resetStartLocationFromNode(h,u),m},s),p=null;if(c.node&&this.maybeUnwrapTypeCastExpression(c.node).type==="ArrowFunctionExpression"){if(!c.error&&!c.aborted)return c.node.async&&this.raise(X.UnexpectedTypeParameterBeforeAsyncArrowFunction,u),c.node;p=c.node}if((a=o)!=null&&a.node)return this.state=o.failState,o.node;if(p)return this.state=c.failState,p;throw(l=o)!=null&&l.thrown?o.error:c.thrown?c.error:this.raise(X.UnexpectedTokenAfterTypeParameter,u)}return super.parseMaybeAssign(t,n)}parseArrow(t){if(this.match(14)){let n=this.tryParse(()=>{let i=this.state.noAnonFunctionType;this.state.noAnonFunctionType=!0;let s=this.startNode();return[s.typeAnnotation,t.predicate]=this.flowParseTypeAndPredicateInitialiser(),this.state.noAnonFunctionType=i,this.canInsertSemicolon()&&this.unexpected(),this.match(19)||this.unexpected(),s});if(n.thrown)return null;n.error&&(this.state=n.failState),t.returnType=n.node.typeAnnotation?this.finishNode(n.node,"TypeAnnotation"):null}return super.parseArrow(t)}shouldParseArrow(t){return this.match(14)||super.shouldParseArrow(t)}setArrowFunctionParameters(t,n){this.state.noArrowParamsConversionAt.includes(t.start)?t.params=n:super.setArrowFunctionParameters(t,n)}checkParams(t,n,i,s=!0){if(!(i&&this.state.noArrowParamsConversionAt.includes(t.start))){for(let o=0;o<t.params.length;o++)this.isThisParam(t.params[o])&&o>0&&this.raise(X.ThisParamMustBeFirst,t.params[o]);super.checkParams(t,n,i,s)}}parseParenAndDistinguishExpression(t){return super.parseParenAndDistinguishExpression(t&&!this.state.noArrowAt.includes(this.state.start))}parseSubscripts(t,n,i){if(t.type==="Identifier"&&t.name==="async"&&this.state.noArrowAt.includes(n.index)){this.next();let s=this.startNodeAt(n);s.callee=t,s.arguments=super.parseCallExpressionArguments(11,!1),t=this.finishNode(s,"CallExpression")}else if(t.type==="Identifier"&&t.name==="async"&&this.match(47)){let s=this.state.clone(),o=this.tryParse(l=>this.parseAsyncArrowWithTypeParameters(n)||l(),s);if(!o.error&&!o.aborted)return o.node;let a=this.tryParse(()=>super.parseSubscripts(t,n,i),s);if(a.node&&!a.error)return a.node;if(o.node)return this.state=o.failState,o.node;if(a.node)return this.state=a.failState,a.node;throw o.error||a.error}return super.parseSubscripts(t,n,i)}parseSubscript(t,n,i,s){if(this.match(18)&&this.isLookaheadToken_lt()){if(s.optionalChainMember=!0,i)return s.stop=!0,t;this.next();let o=this.startNodeAt(n);return o.callee=t,o.typeArguments=this.flowParseTypeParameterInstantiation(),this.expect(10),o.arguments=this.parseCallExpressionArguments(11,!1),o.optional=!0,this.finishCallExpression(o,!0)}else if(!i&&this.shouldParseTypes()&&this.match(47)){let o=this.startNodeAt(n);o.callee=t;let a=this.tryParse(()=>(o.typeArguments=this.flowParseTypeParameterInstantiationCallOrNew(),this.expect(10),o.arguments=super.parseCallExpressionArguments(11,!1),s.optionalChainMember&&(o.optional=!1),this.finishCallExpression(o,s.optionalChainMember)));if(a.node)return a.error&&(this.state=a.failState),a.node}return super.parseSubscript(t,n,i,s)}parseNewCallee(t){super.parseNewCallee(t);let n=null;this.shouldParseTypes()&&this.match(47)&&(n=this.tryParse(()=>this.flowParseTypeParameterInstantiationCallOrNew()).node),t.typeArguments=n}parseAsyncArrowWithTypeParameters(t){let n=this.startNodeAt(t);if(this.parseFunctionParams(n,!1),!!this.parseArrow(n))return super.parseArrowExpression(n,void 0,!0)}readToken_mult_modulo(t){let n=this.input.charCodeAt(this.state.pos+1);if(t===42&&n===47&&this.state.hasFlowComment){this.state.hasFlowComment=!1,this.state.pos+=2,this.nextToken();return}super.readToken_mult_modulo(t)}readToken_pipe_amp(t){let n=this.input.charCodeAt(this.state.pos+1);if(t===124&&n===125){this.finishOp(9,2);return}super.readToken_pipe_amp(t)}parseTopLevel(t,n){let i=super.parseTopLevel(t,n);return this.state.hasFlowComment&&this.raise(X.UnterminatedFlowComment,this.state.curPosition()),i}skipBlockComment(){if(this.hasPlugin("flowComments")&&this.skipFlowComment()){if(this.state.hasFlowComment)throw this.raise(X.NestedFlowComment,this.state.startLoc);this.hasFlowCommentCompletion();let t=this.skipFlowComment();t&&(this.state.pos+=t,this.state.hasFlowComment=!0);return}return super.skipBlockComment(this.state.hasFlowComment?"*-/":"*/")}skipFlowComment(){let{pos:t}=this.state,n=2;for(;[32,9].includes(this.input.charCodeAt(t+n));)n++;let i=this.input.charCodeAt(n+t),s=this.input.charCodeAt(n+t+1);return i===58&&s===58?n+2:this.input.slice(n+t,n+t+12)==="flow-include"?n+12:i===58&&s!==58?n:!1}hasFlowCommentCompletion(){if(this.input.indexOf("*/",this.state.pos)===-1)throw this.raise(S.UnterminatedComment,this.state.curPosition())}flowEnumErrorBooleanMemberNotInitialized(t,{enumName:n,memberName:i}){this.raise(X.EnumBooleanMemberNotInitialized,t,{memberName:i,enumName:n})}flowEnumErrorInvalidMemberInitializer(t,n){return this.raise(n.explicitType?n.explicitType==="symbol"?X.EnumInvalidMemberInitializerSymbolType:X.EnumInvalidMemberInitializerPrimaryType:X.EnumInvalidMemberInitializerUnknownType,t,n)}flowEnumErrorNumberMemberNotInitialized(t,n){this.raise(X.EnumNumberMemberNotInitialized,t,n)}flowEnumErrorStringMemberInconsistentlyInitialized(t,n){this.raise(X.EnumStringMemberInconsistentlyInitialized,t,n)}flowEnumMemberInit(){let t=this.state.startLoc,n=()=>this.match(12)||this.match(8);switch(this.state.type){case 134:{let i=this.parseNumericLiteral(this.state.value);return n()?{type:"number",loc:i.loc.start,value:i}:{type:"invalid",loc:t}}case 133:{let i=this.parseStringLiteral(this.state.value);return n()?{type:"string",loc:i.loc.start,value:i}:{type:"invalid",loc:t}}case 85:case 86:{let i=this.parseBooleanLiteral(this.match(85));return n()?{type:"boolean",loc:i.loc.start,value:i}:{type:"invalid",loc:t}}default:return{type:"invalid",loc:t}}}flowEnumMemberRaw(){let t=this.state.startLoc,n=this.parseIdentifier(!0),i=this.eat(29)?this.flowEnumMemberInit():{type:"none",loc:t};return{id:n,init:i}}flowEnumCheckExplicitTypeMismatch(t,n,i){let{explicitType:s}=n;s!==null&&s!==i&&this.flowEnumErrorInvalidMemberInitializer(t,n)}flowEnumMembers({enumName:t,explicitType:n}){let i=new Set,s={booleanMembers:[],numberMembers:[],stringMembers:[],defaultedMembers:[]},o=!1;for(;!this.match(8);){if(this.eat(21)){o=!0;break}let a=this.startNode(),{id:l,init:u}=this.flowEnumMemberRaw(),c=l.name;if(c==="")continue;/^[a-z]/.test(c)&&this.raise(X.EnumInvalidMemberName,l,{memberName:c,suggestion:c[0].toUpperCase()+c.slice(1),enumName:t}),i.has(c)&&this.raise(X.EnumDuplicateMemberName,l,{memberName:c,enumName:t}),i.add(c);let p={enumName:t,explicitType:n,memberName:c};switch(a.id=l,u.type){case"boolean":{this.flowEnumCheckExplicitTypeMismatch(u.loc,p,"boolean"),a.init=u.value,s.booleanMembers.push(this.finishNode(a,"EnumBooleanMember"));break}case"number":{this.flowEnumCheckExplicitTypeMismatch(u.loc,p,"number"),a.init=u.value,s.numberMembers.push(this.finishNode(a,"EnumNumberMember"));break}case"string":{this.flowEnumCheckExplicitTypeMismatch(u.loc,p,"string"),a.init=u.value,s.stringMembers.push(this.finishNode(a,"EnumStringMember"));break}case"invalid":throw this.flowEnumErrorInvalidMemberInitializer(u.loc,p);case"none":switch(n){case"boolean":this.flowEnumErrorBooleanMemberNotInitialized(u.loc,p);break;case"number":this.flowEnumErrorNumberMemberNotInitialized(u.loc,p);break;default:s.defaultedMembers.push(this.finishNode(a,"EnumDefaultedMember"))}}this.match(8)||this.expect(12)}return{members:s,hasUnknownMembers:o}}flowEnumStringMembers(t,n,{enumName:i}){if(t.length===0)return n;if(n.length===0)return t;if(n.length>t.length){for(let s of t)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:i});return n}else{for(let s of n)this.flowEnumErrorStringMemberInconsistentlyInitialized(s,{enumName:i});return t}}flowEnumParseExplicitType({enumName:t}){if(!this.eatContextual(102))return null;if(!we(this.state.type))throw this.raise(X.EnumInvalidExplicitTypeUnknownSupplied,this.state.startLoc,{enumName:t});let{value:n}=this.state;return this.next(),n!=="boolean"&&n!=="number"&&n!=="string"&&n!=="symbol"&&this.raise(X.EnumInvalidExplicitType,this.state.startLoc,{enumName:t,invalidEnumType:n}),n}flowEnumBody(t,n){let i=n.name,s=n.loc.start,o=this.flowEnumParseExplicitType({enumName:i});this.expect(5);let{members:a,hasUnknownMembers:l}=this.flowEnumMembers({enumName:i,explicitType:o});switch(t.hasUnknownMembers=l,o){case"boolean":return t.explicitType=!0,t.members=a.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody");case"number":return t.explicitType=!0,t.members=a.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody");case"string":return t.explicitType=!0,t.members=this.flowEnumStringMembers(a.stringMembers,a.defaultedMembers,{enumName:i}),this.expect(8),this.finishNode(t,"EnumStringBody");case"symbol":return t.members=a.defaultedMembers,this.expect(8),this.finishNode(t,"EnumSymbolBody");default:{let u=()=>(t.members=[],this.expect(8),this.finishNode(t,"EnumStringBody"));t.explicitType=!1;let c=a.booleanMembers.length,p=a.numberMembers.length,d=a.stringMembers.length,f=a.defaultedMembers.length;if(!c&&!p&&!d&&!f)return u();if(!c&&!p)return t.members=this.flowEnumStringMembers(a.stringMembers,a.defaultedMembers,{enumName:i}),this.expect(8),this.finishNode(t,"EnumStringBody");if(!p&&!d&&c>=f){for(let m of a.defaultedMembers)this.flowEnumErrorBooleanMemberNotInitialized(m.loc.start,{enumName:i,memberName:m.id.name});return t.members=a.booleanMembers,this.expect(8),this.finishNode(t,"EnumBooleanBody")}else if(!c&&!d&&p>=f){for(let m of a.defaultedMembers)this.flowEnumErrorNumberMemberNotInitialized(m.loc.start,{enumName:i,memberName:m.id.name});return t.members=a.numberMembers,this.expect(8),this.finishNode(t,"EnumNumberBody")}else return this.raise(X.EnumInconsistentMemberValues,s,{enumName:i}),u()}}}flowParseEnumDeclaration(t){let n=this.parseIdentifier();return t.id=n,t.body=this.flowEnumBody(this.startNode(),n),this.finishNode(t,"EnumDeclaration")}isLookaheadToken_lt(){let t=this.nextTokenStart();if(this.input.charCodeAt(t)===60){let n=this.input.charCodeAt(t+1);return n!==60&&n!==61}return!1}maybeUnwrapTypeCastExpression(t){return t.type==="TypeCastExpression"?t.expression:t}},Hv={__proto__:null,quot:'"',amp:"&",apos:"'",lt:"<",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",lang:"\u2329",rang:"\u232A",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"},ti=ln`jsx`({AttributeIsEmpty:"JSX attributes must only be assigned a non-empty expression.",MissingClosingTagElement:({openingTagName:e})=>`Expected corresponding JSX closing tag for <${e}>.`,MissingClosingTagFragment:"Expected corresponding JSX closing tag for <>.",UnexpectedSequenceExpression:"Sequence expressions cannot be directly nested inside JSX. Did you mean to wrap it in parentheses (...)?",UnexpectedToken:({unexpected:e,HTMLEntity:r})=>`Unexpected token \`${e}\`. Did you mean \`${r}\` or \`{'${e}'}\`?`,UnsupportedJsxValue:"JSX value should be either an expression or a quoted JSX text.",UnterminatedJsxContent:"Unterminated JSX contents.",UnwrappedAdjacentJSXElements:"Adjacent JSX elements must be wrapped in an enclosing tag. Did you want a JSX fragment <>...</>?"});function In(e){return e?e.type==="JSXOpeningFragment"||e.type==="JSXClosingFragment":!1}function Mi(e){if(e.type==="JSXIdentifier")return e.name;if(e.type==="JSXNamespacedName")return e.namespace.name+":"+e.name.name;if(e.type==="JSXMemberExpression")return Mi(e.object)+"."+Mi(e.property);throw new Error("Node had unexpected type: "+e.type)}var Jv=e=>class extends e{jsxReadToken(){let t="",n=this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(ti.UnterminatedJsxContent,this.state.startLoc);let i=this.input.charCodeAt(this.state.pos);switch(i){case 60:case 123:if(this.state.pos===this.state.start){i===60&&this.state.canStartJSXElement?(++this.state.pos,this.finishToken(142)):super.getTokenFromCode(i);return}t+=this.input.slice(n,this.state.pos),this.finishToken(141,t);return;case 38:t+=this.input.slice(n,this.state.pos),t+=this.jsxReadEntity(),n=this.state.pos;break;case 62:case 125:default:Ui(i)?(t+=this.input.slice(n,this.state.pos),t+=this.jsxReadNewLine(!0),n=this.state.pos):++this.state.pos}}}jsxReadNewLine(t){let n=this.input.charCodeAt(this.state.pos),i;return++this.state.pos,n===13&&this.input.charCodeAt(this.state.pos)===10?(++this.state.pos,i=t?`
`:`\r
`):i=String.fromCharCode(n),++this.state.curLine,this.state.lineStart=this.state.pos,i}jsxReadString(t){let n="",i=++this.state.pos;for(;;){if(this.state.pos>=this.length)throw this.raise(S.UnterminatedString,this.state.startLoc);let s=this.input.charCodeAt(this.state.pos);if(s===t)break;s===38?(n+=this.input.slice(i,this.state.pos),n+=this.jsxReadEntity(),i=this.state.pos):Ui(s)?(n+=this.input.slice(i,this.state.pos),n+=this.jsxReadNewLine(!1),i=this.state.pos):++this.state.pos}n+=this.input.slice(i,this.state.pos++),this.finishToken(133,n)}jsxReadEntity(){let t=++this.state.pos;if(this.codePointAtPos(this.state.pos)===35){++this.state.pos;let n=10;this.codePointAtPos(this.state.pos)===120&&(n=16,++this.state.pos);let i=this.readInt(n,void 0,!1,"bail");if(i!==null&&this.codePointAtPos(this.state.pos)===59)return++this.state.pos,String.fromCodePoint(i)}else{let n=0,i=!1;for(;n++<10&&this.state.pos<this.length&&!(i=this.codePointAtPos(this.state.pos)===59);)++this.state.pos;if(i){let s=this.input.slice(t,this.state.pos),o=Hv[s];if(++this.state.pos,o)return o}}return this.state.pos=t,"&"}jsxReadWord(){let t,n=this.state.pos;do t=this.input.charCodeAt(++this.state.pos);while($i(t)||t===45);this.finishToken(140,this.input.slice(n,this.state.pos))}jsxParseIdentifier(){let t=this.startNode();return this.match(140)?t.name=this.state.value:qc(this.state.type)?t.name=Nn(this.state.type):this.unexpected(),this.next(),this.finishNode(t,"JSXIdentifier")}jsxParseNamespacedName(){let t=this.state.startLoc,n=this.jsxParseIdentifier();if(!this.eat(14))return n;let i=this.startNodeAt(t);return i.namespace=n,i.name=this.jsxParseIdentifier(),this.finishNode(i,"JSXNamespacedName")}jsxParseElementName(){let t=this.state.startLoc,n=this.jsxParseNamespacedName();if(n.type==="JSXNamespacedName")return n;for(;this.eat(16);){let i=this.startNodeAt(t);i.object=n,i.property=this.jsxParseIdentifier(),n=this.finishNode(i,"JSXMemberExpression")}return n}jsxParseAttributeValue(){let t;switch(this.state.type){case 5:return t=this.startNode(),this.setContext(_e.brace),this.next(),t=this.jsxParseExpressionContainer(t,_e.j_oTag),t.expression.type==="JSXEmptyExpression"&&this.raise(ti.AttributeIsEmpty,t),t;case 142:case 133:return this.parseExprAtom();default:throw this.raise(ti.UnsupportedJsxValue,this.state.startLoc)}}jsxParseEmptyExpression(){let t=this.startNodeAt(this.state.lastTokEndLoc);return this.finishNodeAt(t,"JSXEmptyExpression",this.state.startLoc)}jsxParseSpreadChild(t){return this.next(),t.expression=this.parseExpression(),this.setContext(_e.j_expr),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadChild")}jsxParseExpressionContainer(t,n){if(this.match(8))t.expression=this.jsxParseEmptyExpression();else{let i=this.parseExpression();t.expression=i}return this.setContext(n),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXExpressionContainer")}jsxParseAttribute(){let t=this.startNode();return this.match(5)?(this.setContext(_e.brace),this.next(),this.expect(21),t.argument=this.parseMaybeAssignAllowIn(),this.setContext(_e.j_oTag),this.state.canStartJSXElement=!0,this.expect(8),this.finishNode(t,"JSXSpreadAttribute")):(t.name=this.jsxParseNamespacedName(),t.value=this.eat(29)?this.jsxParseAttributeValue():null,this.finishNode(t,"JSXAttribute"))}jsxParseOpeningElementAt(t){let n=this.startNodeAt(t);return this.eat(143)?this.finishNode(n,"JSXOpeningFragment"):(n.name=this.jsxParseElementName(),this.jsxParseOpeningElementAfterName(n))}jsxParseOpeningElementAfterName(t){let n=[];for(;!this.match(56)&&!this.match(143);)n.push(this.jsxParseAttribute());return t.attributes=n,t.selfClosing=this.eat(56),this.expect(143),this.finishNode(t,"JSXOpeningElement")}jsxParseClosingElementAt(t){let n=this.startNodeAt(t);return this.eat(143)?this.finishNode(n,"JSXClosingFragment"):(n.name=this.jsxParseElementName(),this.expect(143),this.finishNode(n,"JSXClosingElement"))}jsxParseElementAt(t){let n=this.startNodeAt(t),i=[],s=this.jsxParseOpeningElementAt(t),o=null;if(!s.selfClosing){e:for(;;)switch(this.state.type){case 142:if(t=this.state.startLoc,this.next(),this.eat(56)){o=this.jsxParseClosingElementAt(t);break e}i.push(this.jsxParseElementAt(t));break;case 141:i.push(this.parseLiteral(this.state.value,"JSXText"));break;case 5:{let a=this.startNode();this.setContext(_e.brace),this.next(),this.match(21)?i.push(this.jsxParseSpreadChild(a)):i.push(this.jsxParseExpressionContainer(a,_e.j_expr));break}default:this.unexpected()}In(s)&&!In(o)&&o!==null?this.raise(ti.MissingClosingTagFragment,o):!In(s)&&In(o)?this.raise(ti.MissingClosingTagElement,o,{openingTagName:Mi(s.name)}):!In(s)&&!In(o)&&Mi(o.name)!==Mi(s.name)&&this.raise(ti.MissingClosingTagElement,o,{openingTagName:Mi(s.name)})}if(In(s)?(n.openingFragment=s,n.closingFragment=o):(n.openingElement=s,n.closingElement=o),n.children=i,this.match(47))throw this.raise(ti.UnwrappedAdjacentJSXElements,this.state.startLoc);return In(s)?this.finishNode(n,"JSXFragment"):this.finishNode(n,"JSXElement")}jsxParseElement(){let t=this.state.startLoc;return this.next(),this.jsxParseElementAt(t)}setContext(t){let{context:n}=this.state;n[n.length-1]=t}parseExprAtom(t){return this.match(142)?this.jsxParseElement():this.match(47)&&this.input.charCodeAt(this.state.pos)!==33?(this.replaceToken(142),this.jsxParseElement()):super.parseExprAtom(t)}skipSpace(){this.curContext().preserveSpace||super.skipSpace()}getTokenFromCode(t){let n=this.curContext();if(n===_e.j_expr){this.jsxReadToken();return}if(n===_e.j_oTag||n===_e.j_cTag){if(an(t)){this.jsxReadWord();return}if(t===62){++this.state.pos,this.finishToken(143);return}if((t===34||t===39)&&n===_e.j_oTag){this.jsxReadString(t);return}}if(t===60&&this.state.canStartJSXElement&&this.input.charCodeAt(this.state.pos+1)!==33){++this.state.pos,this.finishToken(142);return}super.getTokenFromCode(t)}updateContext(t){let{context:n,type:i}=this.state;if(i===56&&t===142)n.splice(-2,2,_e.j_cTag),this.state.canStartJSXElement=!1;else if(i===142)n.push(_e.j_oTag);else if(i===143){let s=n[n.length-1];s===_e.j_oTag&&t===56||s===_e.j_cTag?(n.pop(),this.state.canStartJSXElement=n[n.length-1]===_e.j_expr):(this.setContext(_e.j_expr),this.state.canStartJSXElement=!0)}else this.state.canStartJSXElement=pv(i)}},Oc=class extends Ws{constructor(...r){super(...r),this.tsNames=new Map}},Rc=class extends Gs{constructor(...r){super(...r),this.importsStack=[]}createScope(r){return this.importsStack.push(new Set),new Oc(r)}enter(r){r===256&&this.importsStack.push(new Set),super.enter(r)}exit(){let r=super.exit();return r===256&&this.importsStack.pop(),r}hasImport(r,t){let n=this.importsStack.length;if(this.importsStack[n-1].has(r))return!0;if(!t&&n>1){for(let i=0;i<n-1;i++)if(this.importsStack[i].has(r))return!0}return!1}declareName(r,t,n){if(t&4096){this.hasImport(r,!0)&&this.parser.raise(S.VarRedeclaration,n,{identifierName:r}),this.importsStack[this.importsStack.length-1].add(r);return}let i=this.currentScope(),s=i.tsNames.get(r)||0;if(t&1024){this.maybeExportDefined(i,r),i.tsNames.set(r,s|16);return}super.declareName(r,t,n),t&2&&(t&1||(this.checkRedeclarationInScope(i,r,t,n),this.maybeExportDefined(i,r)),s=s|1),t&256&&(s=s|2),t&512&&(s=s|4),t&128&&(s=s|8),s&&i.tsNames.set(r,s)}isRedeclaredInScope(r,t,n){let i=r.tsNames.get(t);if((i&2)>0){if(n&256){let s=!!(n&512),o=(i&4)>0;return s!==o}return!0}return n&128&&(i&8)>0?r.names.get(t)&2?!!(n&1):!1:n&2&&(i&1)>0?!0:super.isRedeclaredInScope(r,t,n)}checkLocalExport(r){let{name:t}=r;if(this.hasImport(t))return;let n=this.scopeStack.length;for(let i=n-1;i>=0;i--){let o=this.scopeStack[i].tsNames.get(t);if((o&1)>0||(o&16)>0)return}super.checkLocalExport(r)}},Gy=e=>e.type==="ParenthesizedExpression"?Gy(e.expression):e,Lc=class extends kc{toAssignable(r,t=!1){var n,i;let s;switch((r.type==="ParenthesizedExpression"||(n=r.extra)!=null&&n.parenthesized)&&(s=Gy(r),t?s.type==="Identifier"?this.expressionScope.recordArrowParameterBindingError(S.InvalidParenthesizedAssignment,r):s.type!=="MemberExpression"&&!this.isOptionalMemberExpression(s)&&this.raise(S.InvalidParenthesizedAssignment,r):this.raise(S.InvalidParenthesizedAssignment,r)),r.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":r.type="ObjectPattern";for(let a=0,l=r.properties.length,u=l-1;a<l;a++){var o;let c=r.properties[a],p=a===u;this.toAssignableObjectExpressionProp(c,p,t),p&&c.type==="RestElement"&&(o=r.extra)!=null&&o.trailingCommaLoc&&this.raise(S.RestTrailingComma,r.extra.trailingCommaLoc)}break;case"ObjectProperty":{let{key:a,value:l}=r;this.isPrivateName(a)&&this.classScope.usePrivateName(this.getPrivateNameSV(a),a.loc.start),this.toAssignable(l,t);break}case"SpreadElement":throw new Error("Internal @babel/parser error (this is a bug, please report it). SpreadElement should be converted by .toAssignable's caller.");case"ArrayExpression":r.type="ArrayPattern",this.toAssignableList(r.elements,(i=r.extra)==null?void 0:i.trailingCommaLoc,t);break;case"AssignmentExpression":r.operator!=="="&&this.raise(S.MissingEqInAssignment,r.left.loc.end),r.type="AssignmentPattern",delete r.operator,this.toAssignable(r.left,t);break;case"ParenthesizedExpression":this.toAssignable(s,t);break}}toAssignableObjectExpressionProp(r,t,n){if(r.type==="ObjectMethod")this.raise(r.kind==="get"||r.kind==="set"?S.PatternHasAccessor:S.PatternHasMethod,r.key);else if(r.type==="SpreadElement"){r.type="RestElement";let i=r.argument;this.checkToRestConversion(i,!1),this.toAssignable(i,n),t||this.raise(S.RestTrailingComma,r)}else this.toAssignable(r,n)}toAssignableList(r,t,n){let i=r.length-1;for(let s=0;s<=i;s++){let o=r[s];if(o){if(o.type==="SpreadElement"){o.type="RestElement";let a=o.argument;this.checkToRestConversion(a,!0),this.toAssignable(a,n)}else this.toAssignable(o,n);o.type==="RestElement"&&(s<i?this.raise(S.RestTrailingComma,o):t&&this.raise(S.RestTrailingComma,t))}}}isAssignable(r,t){switch(r.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":return!0;case"ObjectExpression":{let n=r.properties.length-1;return r.properties.every((i,s)=>i.type!=="ObjectMethod"&&(s===n||i.type!=="SpreadElement")&&this.isAssignable(i))}case"ObjectProperty":return this.isAssignable(r.value);case"SpreadElement":return this.isAssignable(r.argument);case"ArrayExpression":return r.elements.every(n=>n===null||this.isAssignable(n));case"AssignmentExpression":return r.operator==="=";case"ParenthesizedExpression":return this.isAssignable(r.expression);case"MemberExpression":case"OptionalMemberExpression":return!t;default:return!1}}toReferencedList(r,t){return r}toReferencedListDeep(r,t){this.toReferencedList(r,t);for(let n of r)n?.type==="ArrayExpression"&&this.toReferencedListDeep(n.elements)}parseSpread(r){let t=this.startNode();return this.next(),t.argument=this.parseMaybeAssignAllowIn(r,void 0),this.finishNode(t,"SpreadElement")}parseRestBinding(){let r=this.startNode();return this.next(),r.argument=this.parseBindingAtom(),this.finishNode(r,"RestElement")}parseBindingAtom(){switch(this.state.type){case 0:{let r=this.startNode();return this.next(),r.elements=this.parseBindingList(3,93,1),this.finishNode(r,"ArrayPattern")}case 5:return this.parseObjectLike(8,!0)}return this.parseIdentifier()}parseBindingList(r,t,n){let i=n&1,s=[],o=!0;for(;!this.eat(r);)if(o?o=!1:this.expect(12),i&&this.match(12))s.push(null);else{if(this.eat(r))break;if(this.match(21)){let a=this.parseRestBinding();if((this.hasPlugin("flow")||n&2)&&(a=this.parseFunctionParamType(a)),s.push(a),!this.checkCommaAfterRest(t)){this.expect(r);break}}else{let a=[];for(this.match(26)&&this.hasPlugin("decorators")&&this.raise(S.UnsupportedParameterDecorator,this.state.startLoc);this.match(26);)a.push(this.parseDecorator());s.push(this.parseAssignableListItem(n,a))}}return s}parseBindingRestProperty(r){return this.next(),r.argument=this.parseIdentifier(),this.checkCommaAfterRest(125),this.finishNode(r,"RestElement")}parseBindingProperty(){let{type:r,startLoc:t}=this.state;if(r===21)return this.parseBindingRestProperty(this.startNode());let n=this.startNode();return r===138?(this.expectPlugin("destructuringPrivate",t),this.classScope.usePrivateName(this.state.value,t),n.key=this.parsePrivateName()):this.parsePropertyName(n),n.method=!1,this.parseObjPropValue(n,t,!1,!1,!0,!1)}parseAssignableListItem(r,t){let n=this.parseMaybeDefault();(this.hasPlugin("flow")||r&2)&&this.parseFunctionParamType(n);let i=this.parseMaybeDefault(n.loc.start,n);return t.length&&(n.decorators=t),i}parseFunctionParamType(r){return r}parseMaybeDefault(r,t){var n,i;if((n=r)!=null||(r=this.state.startLoc),t=(i=t)!=null?i:this.parseBindingAtom(),!this.eat(29))return t;let s=this.startNodeAt(r);return s.left=t,s.right=this.parseMaybeAssignAllowIn(),this.finishNode(s,"AssignmentPattern")}isValidLVal(r,t,n){switch(r){case"AssignmentPattern":return"left";case"RestElement":return"argument";case"ObjectProperty":return"value";case"ParenthesizedExpression":return"expression";case"ArrayPattern":return"elements";case"ObjectPattern":return"properties"}return!1}isOptionalMemberExpression(r){return r.type==="OptionalMemberExpression"}checkLVal(r,t,n=64,i=!1,s=!1,o=!1){var a;let l=r.type;if(this.isObjectMethod(r))return;let u=this.isOptionalMemberExpression(r);if(u||l==="MemberExpression"){u&&(this.expectPlugin("optionalChainingAssign",r.loc.start),t.type!=="AssignmentExpression"&&this.raise(S.InvalidLhsOptionalChaining,r,{ancestor:t})),n!==64&&this.raise(S.InvalidPropertyBindingPattern,r);return}if(l==="Identifier"){this.checkIdentifier(r,n,s);let{name:h}=r;i&&(i.has(h)?this.raise(S.ParamDupe,r):i.add(h));return}let c=this.isValidLVal(l,!(o||(a=r.extra)!=null&&a.parenthesized)&&t.type==="AssignmentExpression",n);if(c===!0)return;if(c===!1){let h=n===64?S.InvalidLhs:S.InvalidLhsBinding;this.raise(h,r,{ancestor:t});return}let p,d;typeof c=="string"?(p=c,d=l==="ParenthesizedExpression"):[p,d]=c;let f=l==="ArrayPattern"||l==="ObjectPattern"?{type:l}:t,m=r[p];if(Array.isArray(m))for(let h of m)h&&this.checkLVal(h,f,n,i,s,d);else m&&this.checkLVal(m,f,n,i,s,d)}checkIdentifier(r,t,n=!1){this.state.strict&&(n?Ky(r.name,this.inModule):jy(r.name))&&(t===64?this.raise(S.StrictEvalArguments,r,{referenceName:r.name}):this.raise(S.StrictEvalArgumentsBinding,r,{bindingName:r.name})),t&8192&&r.name==="let"&&this.raise(S.LetInLexicalBinding,r),t&64||this.declareNameFromIdentifier(r,t)}declareNameFromIdentifier(r,t){this.scope.declareName(r.name,t,r.loc.start)}checkToRestConversion(r,t){switch(r.type){case"ParenthesizedExpression":this.checkToRestConversion(r.expression,t);break;case"Identifier":case"MemberExpression":break;case"ArrayExpression":case"ObjectExpression":if(t)break;default:this.raise(S.InvalidRestAssignmentPattern,r)}}checkCommaAfterRest(r){return this.match(12)?(this.raise(this.lookaheadCharCode()===r?S.RestTrailingComma:S.ElementAfterRest,this.state.startLoc),!0):!1}};function Yv(e){if(e==null)throw new Error(`Unexpected ${e} value.`);return e}function Ny(e){if(!e)throw new Error("Assert fail")}var q=ln`typescript`({AbstractMethodHasImplementation:({methodName:e})=>`Method '${e}' cannot have an implementation because it is marked abstract.`,AbstractPropertyHasInitializer:({propertyName:e})=>`Property '${e}' cannot have an initializer because it is marked abstract.`,AccessorCannotBeOptional:"An 'accessor' property cannot be declared optional.",AccessorCannotDeclareThisParameter:"'get' and 'set' accessors cannot declare 'this' parameters.",AccessorCannotHaveTypeParameters:"An accessor cannot have type parameters.",ClassMethodHasDeclare:"Class methods cannot have the 'declare' modifier.",ClassMethodHasReadonly:"Class methods cannot have the 'readonly' modifier.",ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference:"A 'const' initializer in an ambient context must be a string or numeric literal or literal enum reference.",ConstructorHasTypeParameters:"Type parameters cannot appear on a constructor declaration.",DeclareAccessor:({kind:e})=>`'declare' is not allowed in ${e}ters.`,DeclareClassFieldHasInitializer:"Initializers are not allowed in ambient contexts.",DeclareFunctionHasImplementation:"An implementation cannot be declared in ambient contexts.",DuplicateAccessibilityModifier:({modifier:e})=>"Accessibility modifier already seen.",DuplicateModifier:({modifier:e})=>`Duplicate modifier: '${e}'.`,EmptyHeritageClauseType:({token:e})=>`'${e}' list cannot be empty.`,EmptyTypeArguments:"Type argument list cannot be empty.",EmptyTypeParameters:"Type parameter list cannot be empty.",ExpectedAmbientAfterExportDeclare:"'export declare' must be followed by an ambient declaration.",ImportAliasHasImportType:"An import alias can not use 'import type'.",ImportReflectionHasImportType:"An `import module` declaration can not use `type` modifier",IncompatibleModifiers:({modifiers:e})=>`'${e[0]}' modifier cannot be used with '${e[1]}' modifier.`,IndexSignatureHasAbstract:"Index signatures cannot have the 'abstract' modifier.",IndexSignatureHasAccessibility:({modifier:e})=>`Index signatures cannot have an accessibility modifier ('${e}').`,IndexSignatureHasDeclare:"Index signatures cannot have the 'declare' modifier.",IndexSignatureHasOverride:"'override' modifier cannot appear on an index signature.",IndexSignatureHasStatic:"Index signatures cannot have the 'static' modifier.",InitializerNotAllowedInAmbientContext:"Initializers are not allowed in ambient contexts.",InvalidModifierOnTypeMember:({modifier:e})=>`'${e}' modifier cannot appear on a type member.`,InvalidModifierOnTypeParameter:({modifier:e})=>`'${e}' modifier cannot appear on a type parameter.`,InvalidModifierOnTypeParameterPositions:({modifier:e})=>`'${e}' modifier can only appear on a type parameter of a class, interface or type alias.`,InvalidModifiersOrder:({orderedModifiers:e})=>`'${e[0]}' modifier must precede '${e[1]}' modifier.`,InvalidPropertyAccessAfterInstantiationExpression:"Invalid property access after an instantiation expression. You can either wrap the instantiation expression in parentheses, or delete the type arguments.",InvalidTupleMemberLabel:"Tuple members must be labeled with a simple identifier.",MissingInterfaceName:"'interface' declarations must be followed by an identifier.",NonAbstractClassHasAbstractMethod:"Abstract methods can only appear within an abstract class.",NonClassMethodPropertyHasAbstractModifer:"'abstract' modifier can only appear on a class, method, or property declaration.",OptionalTypeBeforeRequired:"A required element cannot follow an optional element.",OverrideNotInSubClass:"This member cannot have an 'override' modifier because its containing class does not extend another class.",PatternIsOptional:"A binding pattern parameter cannot be optional in an implementation signature.",PrivateElementHasAbstract:"Private elements cannot have the 'abstract' modifier.",PrivateElementHasAccessibility:({modifier:e})=>`Private elements cannot have an accessibility modifier ('${e}').`,ReadonlyForMethodSignature:"'readonly' modifier can only appear on a property declaration or index signature.",ReservedArrowTypeParam:"This syntax is reserved in files with the .mts or .cts extension. Add a trailing comma, as in `<T,>() => ...`.",ReservedTypeAssertion:"This syntax is reserved in files with the .mts or .cts extension. Use an `as` expression instead.",SetAccessorCannotHaveOptionalParameter:"A 'set' accessor cannot have an optional parameter.",SetAccessorCannotHaveRestParameter:"A 'set' accessor cannot have rest parameter.",SetAccessorCannotHaveReturnType:"A 'set' accessor cannot have a return type annotation.",SingleTypeParameterWithoutTrailingComma:({typeParameterName:e})=>`Single type parameter ${e} should have a trailing comma. Example usage: <${e},>.`,StaticBlockCannotHaveModifier:"Static class blocks cannot have any modifier.",TupleOptionalAfterType:"A labeled tuple optional element must be declared using a question mark after the name and before the colon (`name?: type`), rather than after the type (`name: type?`).",TypeAnnotationAfterAssign:"Type annotations must come before default assignments, e.g. instead of `age = 25: number` use `age: number = 25`.",TypeImportCannotSpecifyDefaultAndNamed:"A type-only import can specify a default import or named bindings, but not both.",TypeModifierIsUsedInTypeExports:"The 'type' modifier cannot be used on a named export when 'export type' is used on its export statement.",TypeModifierIsUsedInTypeImports:"The 'type' modifier cannot be used on a named import when 'import type' is used on its import statement.",UnexpectedParameterModifier:"A parameter property is only allowed in a constructor implementation.",UnexpectedReadonly:"'readonly' type modifier is only permitted on array and tuple literal types.",UnexpectedTypeAnnotation:"Did not expect a type annotation here.",UnexpectedTypeCastInParameter:"Unexpected type cast in parameter position.",UnsupportedImportTypeArgument:"Argument in a type import must be a string literal.",UnsupportedParameterPropertyKind:"A parameter property may not be declared using a binding pattern.",UnsupportedSignatureParameterKind:({type:e})=>`Name in a signature must be an Identifier, ObjectPattern or ArrayPattern, instead got ${e}.`});function Xv(e){switch(e){case"any":return"TSAnyKeyword";case"boolean":return"TSBooleanKeyword";case"bigint":return"TSBigIntKeyword";case"never":return"TSNeverKeyword";case"number":return"TSNumberKeyword";case"object":return"TSObjectKeyword";case"string":return"TSStringKeyword";case"symbol":return"TSSymbolKeyword";case"undefined":return"TSUndefinedKeyword";case"unknown":return"TSUnknownKeyword";default:return}}function Fy(e){return e==="private"||e==="public"||e==="protected"}function Qv(e){return e==="in"||e==="out"}var Zv=e=>class extends e{constructor(...t){super(...t),this.tsParseInOutModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out"],disallowedModifiers:["const","public","private","protected","readonly","declare","abstract","override"],errorTemplate:q.InvalidModifierOnTypeParameter}),this.tsParseConstModifier=this.tsParseModifiers.bind(this,{allowedModifiers:["const"],disallowedModifiers:["in","out"],errorTemplate:q.InvalidModifierOnTypeParameterPositions}),this.tsParseInOutConstModifiers=this.tsParseModifiers.bind(this,{allowedModifiers:["in","out","const"],disallowedModifiers:["public","private","protected","readonly","declare","abstract","override"],errorTemplate:q.InvalidModifierOnTypeParameter})}getScopeHandler(){return Rc}tsIsIdentifier(){return we(this.state.type)}tsTokenCanFollowModifier(){return this.match(0)||this.match(5)||this.match(55)||this.match(21)||this.match(138)||this.isLiteralPropertyName()}tsNextTokenOnSameLineAndCanFollowModifier(){return this.next(),this.hasPrecedingLineBreak()?!1:this.tsTokenCanFollowModifier()}tsNextTokenCanFollowModifier(){return this.match(106)?(this.next(),this.tsTokenCanFollowModifier()):this.tsNextTokenOnSameLineAndCanFollowModifier()}tsParseModifier(t,n){if(!we(this.state.type)&&this.state.type!==58&&this.state.type!==75)return;let i=this.state.value;if(t.includes(i)){if(n&&this.tsIsStartOfStaticBlocks())return;if(this.tsTryParse(this.tsNextTokenCanFollowModifier.bind(this)))return i}}tsParseModifiers({allowedModifiers:t,disallowedModifiers:n,stopOnStartOfClassStaticBlock:i,errorTemplate:s=q.InvalidModifierOnTypeMember},o){let a=(u,c,p,d)=>{c===p&&o[d]&&this.raise(q.InvalidModifiersOrder,u,{orderedModifiers:[p,d]})},l=(u,c,p,d)=>{(o[p]&&c===d||o[d]&&c===p)&&this.raise(q.IncompatibleModifiers,u,{modifiers:[p,d]})};for(;;){let{startLoc:u}=this.state,c=this.tsParseModifier(t.concat(n??[]),i);if(!c)break;Fy(c)?o.accessibility?this.raise(q.DuplicateAccessibilityModifier,u,{modifier:c}):(a(u,c,c,"override"),a(u,c,c,"static"),a(u,c,c,"readonly"),o.accessibility=c):Qv(c)?(o[c]&&this.raise(q.DuplicateModifier,u,{modifier:c}),o[c]=!0,a(u,c,"in","out")):(hasOwnProperty.call(o,c)?this.raise(q.DuplicateModifier,u,{modifier:c}):(a(u,c,"static","readonly"),a(u,c,"static","override"),a(u,c,"override","readonly"),a(u,c,"abstract","override"),l(u,c,"declare","override"),l(u,c,"static","abstract")),o[c]=!0),n!=null&&n.includes(c)&&this.raise(s,u,{modifier:c})}}tsIsListTerminator(t){switch(t){case"EnumMembers":case"TypeMembers":return this.match(8);case"HeritageClauseElement":return this.match(5);case"TupleElementTypes":return this.match(3);case"TypeParametersOrArguments":return this.match(48)}}tsParseList(t,n){let i=[];for(;!this.tsIsListTerminator(t);)i.push(n());return i}tsParseDelimitedList(t,n,i){return Yv(this.tsParseDelimitedListWorker(t,n,!0,i))}tsParseDelimitedListWorker(t,n,i,s){let o=[],a=-1;for(;!this.tsIsListTerminator(t);){a=-1;let l=n();if(l==null)return;if(o.push(l),this.eat(12)){a=this.state.lastTokStartLoc.index;continue}if(this.tsIsListTerminator(t))break;i&&this.expect(12);return}return s&&(s.value=a),o}tsParseBracketedList(t,n,i,s,o){s||(i?this.expect(0):this.expect(47));let a=this.tsParseDelimitedList(t,n,o);return i?this.expect(3):this.expect(48),a}tsParseImportType(){let t=this.startNode();return this.expect(83),this.expect(10),this.match(133)||this.raise(q.UnsupportedImportTypeArgument,this.state.startLoc),t.argument=super.parseExprAtom(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(t.options=null),this.eat(12)&&(this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes"),this.match(11)||(t.options=super.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.eat(16)&&(t.qualifier=this.tsParseEntityName()),this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSImportType")}tsParseEntityName(t=!0){let n=this.parseIdentifier(t);for(;this.eat(16);){let i=this.startNodeAtNode(n);i.left=n,i.right=this.parseIdentifier(t),n=this.finishNode(i,"TSQualifiedName")}return n}tsParseTypeReference(){let t=this.startNode();return t.typeName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeReference")}tsParseThisTypePredicate(t){this.next();let n=this.startNodeAtNode(t);return n.parameterName=t,n.typeAnnotation=this.tsParseTypeAnnotation(!1),n.asserts=!1,this.finishNode(n,"TSTypePredicate")}tsParseThisTypeNode(){let t=this.startNode();return this.next(),this.finishNode(t,"TSThisType")}tsParseTypeQuery(){let t=this.startNode();return this.expect(87),this.match(83)?t.exprName=this.tsParseImportType():t.exprName=this.tsParseEntityName(),!this.hasPrecedingLineBreak()&&this.match(47)&&(t.typeParameters=this.tsParseTypeArguments()),this.finishNode(t,"TSTypeQuery")}tsParseTypeParameter(t){let n=this.startNode();return t(n),n.name=this.tsParseTypeParameterName(),n.constraint=this.tsEatThenParseType(81),n.default=this.tsEatThenParseType(29),this.finishNode(n,"TSTypeParameter")}tsTryParseTypeParameters(t){if(this.match(47))return this.tsParseTypeParameters(t)}tsParseTypeParameters(t){let n=this.startNode();this.match(47)||this.match(142)?this.next():this.unexpected();let i={value:-1};return n.params=this.tsParseBracketedList("TypeParametersOrArguments",this.tsParseTypeParameter.bind(this,t),!1,!0,i),n.params.length===0&&this.raise(q.EmptyTypeParameters,n),i.value!==-1&&this.addExtra(n,"trailingComma",i.value),this.finishNode(n,"TSTypeParameterDeclaration")}tsFillSignature(t,n){let i=t===19,s="parameters",o="typeAnnotation";n.typeParameters=this.tsTryParseTypeParameters(this.tsParseConstModifier),this.expect(10),n[s]=this.tsParseBindingListForSignature(),i?n[o]=this.tsParseTypeOrTypePredicateAnnotation(t):this.match(t)&&(n[o]=this.tsParseTypeOrTypePredicateAnnotation(t))}tsParseBindingListForSignature(){let t=super.parseBindingList(11,41,2);for(let n of t){let{type:i}=n;(i==="AssignmentPattern"||i==="TSParameterProperty")&&this.raise(q.UnsupportedSignatureParameterKind,n,{type:i})}return t}tsParseTypeMemberSemicolon(){!this.eat(12)&&!this.isLineTerminator()&&this.expect(13)}tsParseSignatureMember(t,n){return this.tsFillSignature(14,n),this.tsParseTypeMemberSemicolon(),this.finishNode(n,t)}tsIsUnambiguouslyIndexSignature(){return this.next(),we(this.state.type)?(this.next(),this.match(14)):!1}tsTryParseIndexSignature(t){if(!(this.match(0)&&this.tsLookAhead(this.tsIsUnambiguouslyIndexSignature.bind(this))))return;this.expect(0);let n=this.parseIdentifier();n.typeAnnotation=this.tsParseTypeAnnotation(),this.resetEndLocation(n),this.expect(3),t.parameters=[n];let i=this.tsTryParseTypeAnnotation();return i&&(t.typeAnnotation=i),this.tsParseTypeMemberSemicolon(),this.finishNode(t,"TSIndexSignature")}tsParsePropertyOrMethodSignature(t,n){this.eat(17)&&(t.optional=!0);let i=t;if(this.match(10)||this.match(47)){n&&this.raise(q.ReadonlyForMethodSignature,t);let s=i;s.kind&&this.match(47)&&this.raise(q.AccessorCannotHaveTypeParameters,this.state.curPosition()),this.tsFillSignature(14,s),this.tsParseTypeMemberSemicolon();let o="parameters",a="typeAnnotation";if(s.kind==="get")s[o].length>0&&(this.raise(S.BadGetterArity,this.state.curPosition()),this.isThisParam(s[o][0])&&this.raise(q.AccessorCannotDeclareThisParameter,this.state.curPosition()));else if(s.kind==="set"){if(s[o].length!==1)this.raise(S.BadSetterArity,this.state.curPosition());else{let l=s[o][0];this.isThisParam(l)&&this.raise(q.AccessorCannotDeclareThisParameter,this.state.curPosition()),l.type==="Identifier"&&l.optional&&this.raise(q.SetAccessorCannotHaveOptionalParameter,this.state.curPosition()),l.type==="RestElement"&&this.raise(q.SetAccessorCannotHaveRestParameter,this.state.curPosition())}s[a]&&this.raise(q.SetAccessorCannotHaveReturnType,s[a])}else s.kind="method";return this.finishNode(s,"TSMethodSignature")}else{let s=i;n&&(s.readonly=!0);let o=this.tsTryParseTypeAnnotation();return o&&(s.typeAnnotation=o),this.tsParseTypeMemberSemicolon(),this.finishNode(s,"TSPropertySignature")}}tsParseTypeMember(){let t=this.startNode();if(this.match(10)||this.match(47))return this.tsParseSignatureMember("TSCallSignatureDeclaration",t);if(this.match(77)){let i=this.startNode();return this.next(),this.match(10)||this.match(47)?this.tsParseSignatureMember("TSConstructSignatureDeclaration",t):(t.key=this.createIdentifier(i,"new"),this.tsParsePropertyOrMethodSignature(t,!1))}this.tsParseModifiers({allowedModifiers:["readonly"],disallowedModifiers:["declare","abstract","private","protected","public","static","override"]},t);let n=this.tsTryParseIndexSignature(t);return n||(super.parsePropertyName(t),!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.tsTokenCanFollowModifier()&&(t.kind=t.key.name,super.parsePropertyName(t)),this.tsParsePropertyOrMethodSignature(t,!!t.readonly))}tsParseTypeLiteral(){let t=this.startNode();return t.members=this.tsParseObjectTypeMembers(),this.finishNode(t,"TSTypeLiteral")}tsParseObjectTypeMembers(){this.expect(5);let t=this.tsParseList("TypeMembers",this.tsParseTypeMember.bind(this));return this.expect(8),t}tsIsStartOfMappedType(){return this.next(),this.eat(53)?this.isContextual(122):(this.isContextual(122)&&this.next(),!this.match(0)||(this.next(),!this.tsIsIdentifier())?!1:(this.next(),this.match(58)))}tsParseMappedType(){let t=this.startNode();this.expect(5),this.match(53)?(t.readonly=this.state.value,this.next(),this.expectContextual(122)):this.eatContextual(122)&&(t.readonly=!0),this.expect(0);{let n=this.startNode();n.name=this.tsParseTypeParameterName(),n.constraint=this.tsExpectThenParseType(58),t.typeParameter=this.finishNode(n,"TSTypeParameter")}return t.nameType=this.eatContextual(93)?this.tsParseType():null,this.expect(3),this.match(53)?(t.optional=this.state.value,this.next(),this.expect(17)):this.eat(17)&&(t.optional=!0),t.typeAnnotation=this.tsTryParseType(),this.semicolon(),this.expect(8),this.finishNode(t,"TSMappedType")}tsParseTupleType(){let t=this.startNode();t.elementTypes=this.tsParseBracketedList("TupleElementTypes",this.tsParseTupleElementType.bind(this),!0,!1);let n=!1;return t.elementTypes.forEach(i=>{let{type:s}=i;n&&s!=="TSRestType"&&s!=="TSOptionalType"&&!(s==="TSNamedTupleMember"&&i.optional)&&this.raise(q.OptionalTypeBeforeRequired,i),n||(n=s==="TSNamedTupleMember"&&i.optional||s==="TSOptionalType")}),this.finishNode(t,"TSTupleType")}tsParseTupleElementType(){let{startLoc:t}=this.state,n=this.eat(21),i,s,o,a,u=gr(this.state.type)?this.lookaheadCharCode():null;if(u===58)i=!0,o=!1,s=this.parseIdentifier(!0),this.expect(14),a=this.tsParseType();else if(u===63){o=!0;let c=this.state.startLoc,p=this.state.value,d=this.tsParseNonArrayType();this.lookaheadCharCode()===58?(i=!0,s=this.createIdentifier(this.startNodeAt(c),p),this.expect(17),this.expect(14),a=this.tsParseType()):(i=!1,a=d,this.expect(17))}else a=this.tsParseType(),o=this.eat(17),i=this.eat(14);if(i){let c;s?(c=this.startNodeAtNode(s),c.optional=o,c.label=s,c.elementType=a,this.eat(17)&&(c.optional=!0,this.raise(q.TupleOptionalAfterType,this.state.lastTokStartLoc))):(c=this.startNodeAtNode(a),c.optional=o,this.raise(q.InvalidTupleMemberLabel,a),c.label=a,c.elementType=this.tsParseType()),a=this.finishNode(c,"TSNamedTupleMember")}else if(o){let c=this.startNodeAtNode(a);c.typeAnnotation=a,a=this.finishNode(c,"TSOptionalType")}if(n){let c=this.startNodeAt(t);c.typeAnnotation=a,a=this.finishNode(c,"TSRestType")}return a}tsParseParenthesizedType(){let t=this.startNode();return this.expect(10),t.typeAnnotation=this.tsParseType(),this.expect(11),this.finishNode(t,"TSParenthesizedType")}tsParseFunctionOrConstructorType(t,n){let i=this.startNode();return t==="TSConstructorType"&&(i.abstract=!!n,n&&this.next(),this.next()),this.tsInAllowConditionalTypesContext(()=>this.tsFillSignature(19,i)),this.finishNode(i,t)}tsParseLiteralTypeNode(){let t=this.startNode();switch(this.state.type){case 134:case 135:case 133:case 85:case 86:t.literal=super.parseExprAtom();break;default:this.unexpected()}return this.finishNode(t,"TSLiteralType")}tsParseTemplateLiteralType(){let t=this.startNode();return t.literal=super.parseTemplate(!1),this.finishNode(t,"TSLiteralType")}parseTemplateSubstitution(){return this.state.inType?this.tsParseType():super.parseTemplateSubstitution()}tsParseThisTypeOrThisTypePredicate(){let t=this.tsParseThisTypeNode();return this.isContextual(116)&&!this.hasPrecedingLineBreak()?this.tsParseThisTypePredicate(t):t}tsParseNonArrayType(){switch(this.state.type){case 133:case 134:case 135:case 85:case 86:return this.tsParseLiteralTypeNode();case 53:if(this.state.value==="-"){let t=this.startNode(),n=this.lookahead();return n.type!==134&&n.type!==135&&this.unexpected(),t.literal=this.parseMaybeUnary(),this.finishNode(t,"TSLiteralType")}break;case 78:return this.tsParseThisTypeOrThisTypePredicate();case 87:return this.tsParseTypeQuery();case 83:return this.tsParseImportType();case 5:return this.tsLookAhead(this.tsIsStartOfMappedType.bind(this))?this.tsParseMappedType():this.tsParseTypeLiteral();case 0:return this.tsParseTupleType();case 10:return this.tsParseParenthesizedType();case 25:case 24:return this.tsParseTemplateLiteralType();default:{let{type:t}=this.state;if(we(t)||t===88||t===84){let n=t===88?"TSVoidKeyword":t===84?"TSNullKeyword":Xv(this.state.value);if(n!==void 0&&this.lookaheadCharCode()!==46){let i=this.startNode();return this.next(),this.finishNode(i,n)}return this.tsParseTypeReference()}}}this.unexpected()}tsParseArrayTypeOrHigher(){let t=this.tsParseNonArrayType();for(;!this.hasPrecedingLineBreak()&&this.eat(0);)if(this.match(3)){let n=this.startNodeAtNode(t);n.elementType=t,this.expect(3),t=this.finishNode(n,"TSArrayType")}else{let n=this.startNodeAtNode(t);n.objectType=t,n.indexType=this.tsParseType(),this.expect(3),t=this.finishNode(n,"TSIndexedAccessType")}return t}tsParseTypeOperator(){let t=this.startNode(),n=this.state.value;return this.next(),t.operator=n,t.typeAnnotation=this.tsParseTypeOperatorOrHigher(),n==="readonly"&&this.tsCheckTypeAnnotationForReadOnly(t),this.finishNode(t,"TSTypeOperator")}tsCheckTypeAnnotationForReadOnly(t){switch(t.typeAnnotation.type){case"TSTupleType":case"TSArrayType":return;default:this.raise(q.UnexpectedReadonly,t)}}tsParseInferType(){let t=this.startNode();this.expectContextual(115);let n=this.startNode();return n.name=this.tsParseTypeParameterName(),n.constraint=this.tsTryParse(()=>this.tsParseConstraintForInferType()),t.typeParameter=this.finishNode(n,"TSTypeParameter"),this.finishNode(t,"TSInferType")}tsParseConstraintForInferType(){if(this.eat(81)){let t=this.tsInDisallowConditionalTypesContext(()=>this.tsParseType());if(this.state.inDisallowConditionalTypesContext||!this.match(17))return t}}tsParseTypeOperatorOrHigher(){return yv(this.state.type)&&!this.state.containsEsc?this.tsParseTypeOperator():this.isContextual(115)?this.tsParseInferType():this.tsInAllowConditionalTypesContext(()=>this.tsParseArrayTypeOrHigher())}tsParseUnionOrIntersectionType(t,n,i){let s=this.startNode(),o=this.eat(i),a=[];do a.push(n());while(this.eat(i));return a.length===1&&!o?a[0]:(s.types=a,this.finishNode(s,t))}tsParseIntersectionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSIntersectionType",this.tsParseTypeOperatorOrHigher.bind(this),45)}tsParseUnionTypeOrHigher(){return this.tsParseUnionOrIntersectionType("TSUnionType",this.tsParseIntersectionTypeOrHigher.bind(this),43)}tsIsStartOfFunctionType(){return this.match(47)?!0:this.match(10)&&this.tsLookAhead(this.tsIsUnambiguouslyStartOfFunctionType.bind(this))}tsSkipParameterStart(){if(we(this.state.type)||this.match(78))return this.next(),!0;if(this.match(5)){let{errors:t}=this.state,n=t.length;try{return this.parseObjectLike(8,!0),t.length===n}catch{return!1}}if(this.match(0)){this.next();let{errors:t}=this.state,n=t.length;try{return super.parseBindingList(3,93,1),t.length===n}catch{return!1}}return!1}tsIsUnambiguouslyStartOfFunctionType(){return this.next(),!!(this.match(11)||this.match(21)||this.tsSkipParameterStart()&&(this.match(14)||this.match(12)||this.match(17)||this.match(29)||this.match(11)&&(this.next(),this.match(19))))}tsParseTypeOrTypePredicateAnnotation(t){return this.tsInType(()=>{let n=this.startNode();this.expect(t);let i=this.startNode(),s=!!this.tsTryParse(this.tsParseTypePredicateAsserts.bind(this));if(s&&this.match(78)){let l=this.tsParseThisTypeOrThisTypePredicate();return l.type==="TSThisType"?(i.parameterName=l,i.asserts=!0,i.typeAnnotation=null,l=this.finishNode(i,"TSTypePredicate")):(this.resetStartLocationFromNode(l,i),l.asserts=!0),n.typeAnnotation=l,this.finishNode(n,"TSTypeAnnotation")}let o=this.tsIsIdentifier()&&this.tsTryParse(this.tsParseTypePredicatePrefix.bind(this));if(!o)return s?(i.parameterName=this.parseIdentifier(),i.asserts=s,i.typeAnnotation=null,n.typeAnnotation=this.finishNode(i,"TSTypePredicate"),this.finishNode(n,"TSTypeAnnotation")):this.tsParseTypeAnnotation(!1,n);let a=this.tsParseTypeAnnotation(!1);return i.parameterName=o,i.typeAnnotation=a,i.asserts=s,n.typeAnnotation=this.finishNode(i,"TSTypePredicate"),this.finishNode(n,"TSTypeAnnotation")})}tsTryParseTypeOrTypePredicateAnnotation(){if(this.match(14))return this.tsParseTypeOrTypePredicateAnnotation(14)}tsTryParseTypeAnnotation(){if(this.match(14))return this.tsParseTypeAnnotation()}tsTryParseType(){return this.tsEatThenParseType(14)}tsParseTypePredicatePrefix(){let t=this.parseIdentifier();if(this.isContextual(116)&&!this.hasPrecedingLineBreak())return this.next(),t}tsParseTypePredicateAsserts(){if(this.state.type!==109)return!1;let t=this.state.containsEsc;return this.next(),!we(this.state.type)&&!this.match(78)?!1:(t&&this.raise(S.InvalidEscapedReservedWord,this.state.lastTokStartLoc,{reservedWord:"asserts"}),!0)}tsParseTypeAnnotation(t=!0,n=this.startNode()){return this.tsInType(()=>{t&&this.expect(14),n.typeAnnotation=this.tsParseType()}),this.finishNode(n,"TSTypeAnnotation")}tsParseType(){Ny(this.state.inType);let t=this.tsParseNonConditionalType();if(this.state.inDisallowConditionalTypesContext||this.hasPrecedingLineBreak()||!this.eat(81))return t;let n=this.startNodeAtNode(t);return n.checkType=t,n.extendsType=this.tsInDisallowConditionalTypesContext(()=>this.tsParseNonConditionalType()),this.expect(17),n.trueType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.expect(14),n.falseType=this.tsInAllowConditionalTypesContext(()=>this.tsParseType()),this.finishNode(n,"TSConditionalType")}isAbstractConstructorSignature(){return this.isContextual(124)&&this.lookahead().type===77}tsParseNonConditionalType(){return this.tsIsStartOfFunctionType()?this.tsParseFunctionOrConstructorType("TSFunctionType"):this.match(77)?this.tsParseFunctionOrConstructorType("TSConstructorType"):this.isAbstractConstructorSignature()?this.tsParseFunctionOrConstructorType("TSConstructorType",!0):this.tsParseUnionTypeOrHigher()}tsParseTypeAssertion(){this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(q.ReservedTypeAssertion,this.state.startLoc);let t=this.startNode();return t.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?this.tsParseTypeReference():this.tsParseType())),this.expect(48),t.expression=this.parseMaybeUnary(),this.finishNode(t,"TSTypeAssertion")}tsParseHeritageClause(t){let n=this.state.startLoc,i=this.tsParseDelimitedList("HeritageClauseElement",()=>{let s=this.startNode();return s.expression=this.tsParseEntityName(),this.match(47)&&(s.typeParameters=this.tsParseTypeArguments()),this.finishNode(s,"TSExpressionWithTypeArguments")});return i.length||this.raise(q.EmptyHeritageClauseType,n,{token:t}),i}tsParseInterfaceDeclaration(t,n={}){if(this.hasFollowingLineBreak())return null;this.expectContextual(129),n.declare&&(t.declare=!0),we(this.state.type)?(t.id=this.parseIdentifier(),this.checkIdentifier(t.id,130)):(t.id=null,this.raise(q.MissingInterfaceName,this.state.startLoc)),t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers),this.eat(81)&&(t.extends=this.tsParseHeritageClause("extends"));let i=this.startNode();return i.body=this.tsInType(this.tsParseObjectTypeMembers.bind(this)),t.body=this.finishNode(i,"TSInterfaceBody"),this.finishNode(t,"TSInterfaceDeclaration")}tsParseTypeAliasDeclaration(t){return t.id=this.parseIdentifier(),this.checkIdentifier(t.id,2),t.typeAnnotation=this.tsInType(()=>{if(t.typeParameters=this.tsTryParseTypeParameters(this.tsParseInOutModifiers),this.expect(29),this.isContextual(114)&&this.lookahead().type!==16){let n=this.startNode();return this.next(),this.finishNode(n,"TSIntrinsicKeyword")}return this.tsParseType()}),this.semicolon(),this.finishNode(t,"TSTypeAliasDeclaration")}tsInNoContext(t){let n=this.state.context;this.state.context=[n[0]];try{return t()}finally{this.state.context=n}}tsInType(t){let n=this.state.inType;this.state.inType=!0;try{return t()}finally{this.state.inType=n}}tsInDisallowConditionalTypesContext(t){let n=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!0;try{return t()}finally{this.state.inDisallowConditionalTypesContext=n}}tsInAllowConditionalTypesContext(t){let n=this.state.inDisallowConditionalTypesContext;this.state.inDisallowConditionalTypesContext=!1;try{return t()}finally{this.state.inDisallowConditionalTypesContext=n}}tsEatThenParseType(t){if(this.match(t))return this.tsNextThenParseType()}tsExpectThenParseType(t){return this.tsInType(()=>(this.expect(t),this.tsParseType()))}tsNextThenParseType(){return this.tsInType(()=>(this.next(),this.tsParseType()))}tsParseEnumMember(){let t=this.startNode();return t.id=this.match(133)?super.parseStringLiteral(this.state.value):this.parseIdentifier(!0),this.eat(29)&&(t.initializer=super.parseMaybeAssignAllowIn()),this.finishNode(t,"TSEnumMember")}tsParseEnumDeclaration(t,n={}){return n.const&&(t.const=!0),n.declare&&(t.declare=!0),this.expectContextual(126),t.id=this.parseIdentifier(),this.checkIdentifier(t.id,t.const?8971:8459),this.expect(5),t.members=this.tsParseDelimitedList("EnumMembers",this.tsParseEnumMember.bind(this)),this.expect(8),this.finishNode(t,"TSEnumDeclaration")}tsParseModuleBlock(){let t=this.startNode();return this.scope.enter(0),this.expect(5),super.parseBlockOrModuleBlockBody(t.body=[],void 0,!0,8),this.scope.exit(),this.finishNode(t,"TSModuleBlock")}tsParseModuleOrNamespaceDeclaration(t,n=!1){if(t.id=this.parseIdentifier(),n||this.checkIdentifier(t.id,1024),this.eat(16)){let i=this.startNode();this.tsParseModuleOrNamespaceDeclaration(i,!0),t.body=i}else this.scope.enter(256),this.prodParam.enter(0),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit();return this.finishNode(t,"TSModuleDeclaration")}tsParseAmbientExternalModuleDeclaration(t){return this.isContextual(112)?(t.global=!0,t.id=this.parseIdentifier()):this.match(133)?t.id=super.parseStringLiteral(this.state.value):this.unexpected(),this.match(5)?(this.scope.enter(256),this.prodParam.enter(0),t.body=this.tsParseModuleBlock(),this.prodParam.exit(),this.scope.exit()):this.semicolon(),this.finishNode(t,"TSModuleDeclaration")}tsParseImportEqualsDeclaration(t,n,i){t.isExport=i||!1,t.id=n||this.parseIdentifier(),this.checkIdentifier(t.id,4096),this.expect(29);let s=this.tsParseModuleReference();return t.importKind==="type"&&s.type!=="TSExternalModuleReference"&&this.raise(q.ImportAliasHasImportType,s),t.moduleReference=s,this.semicolon(),this.finishNode(t,"TSImportEqualsDeclaration")}tsIsExternalModuleReference(){return this.isContextual(119)&&this.lookaheadCharCode()===40}tsParseModuleReference(){return this.tsIsExternalModuleReference()?this.tsParseExternalModuleReference():this.tsParseEntityName(!1)}tsParseExternalModuleReference(){let t=this.startNode();return this.expectContextual(119),this.expect(10),this.match(133)||this.unexpected(),t.expression=super.parseExprAtom(),this.expect(11),this.sawUnambiguousESM=!0,this.finishNode(t,"TSExternalModuleReference")}tsLookAhead(t){let n=this.state.clone(),i=t();return this.state=n,i}tsTryParseAndCatch(t){let n=this.tryParse(i=>t()||i());if(!(n.aborted||!n.node))return n.error&&(this.state=n.failState),n.node}tsTryParse(t){let n=this.state.clone(),i=t();if(i!==void 0&&i!==!1)return i;this.state=n}tsTryParseDeclare(t){if(this.isLineTerminator())return;let n=this.state.type,i;return this.isContextual(100)&&(n=74,i="let"),this.tsInAmbientContext(()=>{switch(n){case 68:return t.declare=!0,super.parseFunctionStatement(t,!1,!1);case 80:return t.declare=!0,this.parseClass(t,!0,!1);case 126:return this.tsParseEnumDeclaration(t,{declare:!0});case 112:return this.tsParseAmbientExternalModuleDeclaration(t);case 75:case 74:return!this.match(75)||!this.isLookaheadContextual("enum")?(t.declare=!0,this.parseVarStatement(t,i||this.state.value,!0)):(this.expect(75),this.tsParseEnumDeclaration(t,{const:!0,declare:!0}));case 129:{let s=this.tsParseInterfaceDeclaration(t,{declare:!0});if(s)return s}default:if(we(n))return this.tsParseDeclaration(t,this.state.value,!0,null)}})}tsTryParseExportDeclaration(){return this.tsParseDeclaration(this.startNode(),this.state.value,!0,null)}tsParseExpressionStatement(t,n,i){switch(n.name){case"declare":{let s=this.tsTryParseDeclare(t);return s&&(s.declare=!0),s}case"global":if(this.match(5)){this.scope.enter(256),this.prodParam.enter(0);let s=t;return s.global=!0,s.id=n,s.body=this.tsParseModuleBlock(),this.scope.exit(),this.prodParam.exit(),this.finishNode(s,"TSModuleDeclaration")}break;default:return this.tsParseDeclaration(t,n.name,!1,i)}}tsParseDeclaration(t,n,i,s){switch(n){case"abstract":if(this.tsCheckLineTerminator(i)&&(this.match(80)||we(this.state.type)))return this.tsParseAbstractDeclaration(t,s);break;case"module":if(this.tsCheckLineTerminator(i)){if(this.match(133))return this.tsParseAmbientExternalModuleDeclaration(t);if(we(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(t)}break;case"namespace":if(this.tsCheckLineTerminator(i)&&we(this.state.type))return this.tsParseModuleOrNamespaceDeclaration(t);break;case"type":if(this.tsCheckLineTerminator(i)&&we(this.state.type))return this.tsParseTypeAliasDeclaration(t);break}}tsCheckLineTerminator(t){return t?this.hasFollowingLineBreak()?!1:(this.next(),!0):!this.isLineTerminator()}tsTryParseGenericAsyncArrowFunction(t){if(!this.match(47))return;let n=this.state.maybeInArrowParameters;this.state.maybeInArrowParameters=!0;let i=this.tsTryParseAndCatch(()=>{let s=this.startNodeAt(t);return s.typeParameters=this.tsParseTypeParameters(this.tsParseConstModifier),super.parseFunctionParams(s),s.returnType=this.tsTryParseTypeOrTypePredicateAnnotation(),this.expect(19),s});if(this.state.maybeInArrowParameters=n,!!i)return super.parseArrowExpression(i,null,!0)}tsParseTypeArgumentsInExpression(){if(this.reScan_lt()===47)return this.tsParseTypeArguments()}tsParseTypeArguments(){let t=this.startNode();return t.params=this.tsInType(()=>this.tsInNoContext(()=>(this.expect(47),this.tsParseDelimitedList("TypeParametersOrArguments",this.tsParseType.bind(this))))),t.params.length===0?this.raise(q.EmptyTypeArguments,t):!this.state.inType&&this.curContext()===_e.brace&&this.reScan_lt_gt(),this.expect(48),this.finishNode(t,"TSTypeParameterInstantiation")}tsIsDeclarationStart(){return Dv(this.state.type)}isExportDefaultSpecifier(){return this.tsIsDeclarationStart()?!1:super.isExportDefaultSpecifier()}parseAssignableListItem(t,n){let i=this.state.startLoc,s={};this.tsParseModifiers({allowedModifiers:["public","private","protected","override","readonly"]},s);let o=s.accessibility,a=s.override,l=s.readonly;!(t&4)&&(o||l||a)&&this.raise(q.UnexpectedParameterModifier,i);let u=this.parseMaybeDefault();t&2&&this.parseFunctionParamType(u);let c=this.parseMaybeDefault(u.loc.start,u);if(o||l||a){let p=this.startNodeAt(i);return n.length&&(p.decorators=n),o&&(p.accessibility=o),l&&(p.readonly=l),a&&(p.override=a),c.type!=="Identifier"&&c.type!=="AssignmentPattern"&&this.raise(q.UnsupportedParameterPropertyKind,p),p.parameter=c,this.finishNode(p,"TSParameterProperty")}return n.length&&(u.decorators=n),c}isSimpleParameter(t){return t.type==="TSParameterProperty"&&super.isSimpleParameter(t.parameter)||super.isSimpleParameter(t)}tsDisallowOptionalPattern(t){for(let n of t.params)n.type!=="Identifier"&&n.optional&&!this.state.isAmbientContext&&this.raise(q.PatternIsOptional,n)}setArrowFunctionParameters(t,n,i){super.setArrowFunctionParameters(t,n,i),this.tsDisallowOptionalPattern(t)}parseFunctionBodyAndFinish(t,n,i=!1){this.match(14)&&(t.returnType=this.tsParseTypeOrTypePredicateAnnotation(14));let s=n==="FunctionDeclaration"?"TSDeclareFunction":n==="ClassMethod"||n==="ClassPrivateMethod"?"TSDeclareMethod":void 0;return s&&!this.match(5)&&this.isLineTerminator()?this.finishNode(t,s):s==="TSDeclareFunction"&&this.state.isAmbientContext&&(this.raise(q.DeclareFunctionHasImplementation,t),t.declare)?super.parseFunctionBodyAndFinish(t,s,i):(this.tsDisallowOptionalPattern(t),super.parseFunctionBodyAndFinish(t,n,i))}registerFunctionStatementId(t){!t.body&&t.id?this.checkIdentifier(t.id,1024):super.registerFunctionStatementId(t)}tsCheckForInvalidTypeCasts(t){t.forEach(n=>{n?.type==="TSTypeCastExpression"&&this.raise(q.UnexpectedTypeAnnotation,n.typeAnnotation)})}toReferencedList(t,n){return this.tsCheckForInvalidTypeCasts(t),t}parseArrayLike(t,n,i,s){let o=super.parseArrayLike(t,n,i,s);return o.type==="ArrayExpression"&&this.tsCheckForInvalidTypeCasts(o.elements),o}parseSubscript(t,n,i,s){if(!this.hasPrecedingLineBreak()&&this.match(35)){this.state.canStartJSXElement=!1,this.next();let a=this.startNodeAt(n);return a.expression=t,this.finishNode(a,"TSNonNullExpression")}let o=!1;if(this.match(18)&&this.lookaheadCharCode()===60){if(i)return s.stop=!0,t;s.optionalChainMember=o=!0,this.next()}if(this.match(47)||this.match(51)){let a,l=this.tsTryParseAndCatch(()=>{if(!i&&this.atPossibleAsyncArrow(t)){let d=this.tsTryParseGenericAsyncArrowFunction(n);if(d)return d}let u=this.tsParseTypeArgumentsInExpression();if(!u)return;if(o&&!this.match(10)){a=this.state.curPosition();return}if(Pa(this.state.type)){let d=super.parseTaggedTemplateExpression(t,n,s);return d.typeParameters=u,d}if(!i&&this.eat(10)){let d=this.startNodeAt(n);return d.callee=t,d.arguments=this.parseCallExpressionArguments(11,!1),this.tsCheckForInvalidTypeCasts(d.arguments),d.typeParameters=u,s.optionalChainMember&&(d.optional=o),this.finishCallExpression(d,s.optionalChainMember)}let c=this.state.type;if(c===48||c===52||c!==10&&bc(c)&&!this.hasPrecedingLineBreak())return;let p=this.startNodeAt(n);return p.expression=t,p.typeParameters=u,this.finishNode(p,"TSInstantiationExpression")});if(a&&this.unexpected(a,10),l)return l.type==="TSInstantiationExpression"&&(this.match(16)||this.match(18)&&this.lookaheadCharCode()!==40)&&this.raise(q.InvalidPropertyAccessAfterInstantiationExpression,this.state.startLoc),l}return super.parseSubscript(t,n,i,s)}parseNewCallee(t){var n;super.parseNewCallee(t);let{callee:i}=t;i.type==="TSInstantiationExpression"&&!((n=i.extra)!=null&&n.parenthesized)&&(t.typeParameters=i.typeParameters,t.callee=i.expression)}parseExprOp(t,n,i){let s;if(Ta(58)>i&&!this.hasPrecedingLineBreak()&&(this.isContextual(93)||(s=this.isContextual(120)))){let o=this.startNodeAt(n);return o.expression=t,o.typeAnnotation=this.tsInType(()=>(this.next(),this.match(75)?(s&&this.raise(S.UnexpectedKeyword,this.state.startLoc,{keyword:"const"}),this.tsParseTypeReference()):this.tsParseType())),this.finishNode(o,s?"TSSatisfiesExpression":"TSAsExpression"),this.reScan_lt_gt(),this.parseExprOp(o,n,i)}return super.parseExprOp(t,n,i)}checkReservedWord(t,n,i,s){this.state.isAmbientContext||super.checkReservedWord(t,n,i,s)}checkImportReflection(t){super.checkImportReflection(t),t.module&&t.importKind!=="value"&&this.raise(q.ImportReflectionHasImportType,t.specifiers[0].loc.start)}checkDuplicateExports(){}isPotentialImportPhase(t){if(super.isPotentialImportPhase(t))return!0;if(this.isContextual(130)){let n=this.lookaheadCharCode();return t?n===123||n===42:n!==61}return!t&&this.isContextual(87)}applyImportPhase(t,n,i,s){super.applyImportPhase(t,n,i,s),n?t.exportKind=i==="type"?"type":"value":t.importKind=i==="type"||i==="typeof"?i:"value"}parseImport(t){if(this.match(133))return t.importKind="value",super.parseImport(t);let n;if(we(this.state.type)&&this.lookaheadCharCode()===61)return t.importKind="value",this.tsParseImportEqualsDeclaration(t);if(this.isContextual(130)){let i=this.parseMaybeImportPhase(t,!1);if(this.lookaheadCharCode()===61)return this.tsParseImportEqualsDeclaration(t,i);n=super.parseImportSpecifiersAndAfter(t,i)}else n=super.parseImport(t);return n.importKind==="type"&&n.specifiers.length>1&&n.specifiers[0].type==="ImportDefaultSpecifier"&&this.raise(q.TypeImportCannotSpecifyDefaultAndNamed,n),n}parseExport(t,n){if(this.match(83)){this.next();let i=t,s=null;return this.isContextual(130)&&this.isPotentialImportPhase(!1)?s=this.parseMaybeImportPhase(i,!1):i.importKind="value",this.tsParseImportEqualsDeclaration(i,s,!0)}else if(this.eat(29)){let i=t;return i.expression=super.parseExpression(),this.semicolon(),this.sawUnambiguousESM=!0,this.finishNode(i,"TSExportAssignment")}else if(this.eatContextual(93)){let i=t;return this.expectContextual(128),i.id=this.parseIdentifier(),this.semicolon(),this.finishNode(i,"TSNamespaceExportDeclaration")}else return super.parseExport(t,n)}isAbstractClass(){return this.isContextual(124)&&this.lookahead().type===80}parseExportDefaultExpression(){if(this.isAbstractClass()){let t=this.startNode();return this.next(),t.abstract=!0,this.parseClass(t,!0,!0)}if(this.match(129)){let t=this.tsParseInterfaceDeclaration(this.startNode());if(t)return t}return super.parseExportDefaultExpression()}parseVarStatement(t,n,i=!1){let{isAmbientContext:s}=this.state,o=super.parseVarStatement(t,n,i||s);if(!s)return o;for(let{id:a,init:l}of o.declarations)l&&(n!=="const"||a.typeAnnotation?this.raise(q.InitializerNotAllowedInAmbientContext,l):tP(l,this.hasPlugin("estree"))||this.raise(q.ConstInitializerMustBeStringOrNumericLiteralOrLiteralEnumReference,l));return o}parseStatementContent(t,n){if(this.match(75)&&this.isLookaheadContextual("enum")){let i=this.startNode();return this.expect(75),this.tsParseEnumDeclaration(i,{const:!0})}if(this.isContextual(126))return this.tsParseEnumDeclaration(this.startNode());if(this.isContextual(129)){let i=this.tsParseInterfaceDeclaration(this.startNode());if(i)return i}return super.parseStatementContent(t,n)}parseAccessModifier(){return this.tsParseModifier(["public","protected","private"])}tsHasSomeModifiers(t,n){return n.some(i=>Fy(i)?t.accessibility===i:!!t[i])}tsIsStartOfStaticBlocks(){return this.isContextual(106)&&this.lookaheadCharCode()===123}parseClassMember(t,n,i){let s=["declare","private","public","protected","override","abstract","readonly","static"];this.tsParseModifiers({allowedModifiers:s,disallowedModifiers:["in","out"],stopOnStartOfClassStaticBlock:!0,errorTemplate:q.InvalidModifierOnTypeParameterPositions},n);let o=()=>{this.tsIsStartOfStaticBlocks()?(this.next(),this.next(),this.tsHasSomeModifiers(n,s)&&this.raise(q.StaticBlockCannotHaveModifier,this.state.curPosition()),super.parseClassStaticBlock(t,n)):this.parseClassMemberWithIsStatic(t,n,i,!!n.static)};n.declare?this.tsInAmbientContext(o):o()}parseClassMemberWithIsStatic(t,n,i,s){let o=this.tsTryParseIndexSignature(n);if(o){t.body.push(o),n.abstract&&this.raise(q.IndexSignatureHasAbstract,n),n.accessibility&&this.raise(q.IndexSignatureHasAccessibility,n,{modifier:n.accessibility}),n.declare&&this.raise(q.IndexSignatureHasDeclare,n),n.override&&this.raise(q.IndexSignatureHasOverride,n);return}!this.state.inAbstractClass&&n.abstract&&this.raise(q.NonAbstractClassHasAbstractMethod,n),n.override&&(i.hadSuperClass||this.raise(q.OverrideNotInSubClass,n)),super.parseClassMemberWithIsStatic(t,n,i,s)}parsePostMemberNameModifiers(t){this.eat(17)&&(t.optional=!0),t.readonly&&this.match(10)&&this.raise(q.ClassMethodHasReadonly,t),t.declare&&this.match(10)&&this.raise(q.ClassMethodHasDeclare,t)}parseExpressionStatement(t,n,i){return(n.type==="Identifier"?this.tsParseExpressionStatement(t,n,i):void 0)||super.parseExpressionStatement(t,n,i)}shouldParseExportDeclaration(){return this.tsIsDeclarationStart()?!0:super.shouldParseExportDeclaration()}parseConditional(t,n,i){if(!this.state.maybeInArrowParameters||!this.match(17))return super.parseConditional(t,n,i);let s=this.tryParse(()=>super.parseConditional(t,n));return s.node?(s.error&&(this.state=s.failState),s.node):(s.error&&super.setOptionalParametersError(i,s.error),t)}parseParenItem(t,n){let i=super.parseParenItem(t,n);if(this.eat(17)&&(i.optional=!0,this.resetEndLocation(t)),this.match(14)){let s=this.startNodeAt(n);return s.expression=t,s.typeAnnotation=this.tsParseTypeAnnotation(),this.finishNode(s,"TSTypeCastExpression")}return t}parseExportDeclaration(t){if(!this.state.isAmbientContext&&this.isContextual(125))return this.tsInAmbientContext(()=>this.parseExportDeclaration(t));let n=this.state.startLoc,i=this.eatContextual(125);if(i&&(this.isContextual(125)||!this.shouldParseExportDeclaration()))throw this.raise(q.ExpectedAmbientAfterExportDeclare,this.state.startLoc);let o=we(this.state.type)&&this.tsTryParseExportDeclaration()||super.parseExportDeclaration(t);return o?((o.type==="TSInterfaceDeclaration"||o.type==="TSTypeAliasDeclaration"||i)&&(t.exportKind="type"),i&&(this.resetStartLocation(o,n),o.declare=!0),o):null}parseClassId(t,n,i,s){if((!n||i)&&this.isContextual(113))return;super.parseClassId(t,n,i,t.declare?1024:8331);let o=this.tsTryParseTypeParameters(this.tsParseInOutConstModifiers);o&&(t.typeParameters=o)}parseClassPropertyAnnotation(t){t.optional||(this.eat(35)?t.definite=!0:this.eat(17)&&(t.optional=!0));let n=this.tsTryParseTypeAnnotation();n&&(t.typeAnnotation=n)}parseClassProperty(t){if(this.parseClassPropertyAnnotation(t),this.state.isAmbientContext&&!(t.readonly&&!t.typeAnnotation)&&this.match(29)&&this.raise(q.DeclareClassFieldHasInitializer,this.state.startLoc),t.abstract&&this.match(29)){let{key:n}=t;this.raise(q.AbstractPropertyHasInitializer,this.state.startLoc,{propertyName:n.type==="Identifier"&&!t.computed?n.name:`[${this.input.slice(n.start,n.end)}]`})}return super.parseClassProperty(t)}parseClassPrivateProperty(t){return t.abstract&&this.raise(q.PrivateElementHasAbstract,t),t.accessibility&&this.raise(q.PrivateElementHasAccessibility,t,{modifier:t.accessibility}),this.parseClassPropertyAnnotation(t),super.parseClassPrivateProperty(t)}parseClassAccessorProperty(t){return this.parseClassPropertyAnnotation(t),t.optional&&this.raise(q.AccessorCannotBeOptional,t),super.parseClassAccessorProperty(t)}pushClassMethod(t,n,i,s,o,a){let l=this.tsTryParseTypeParameters(this.tsParseConstModifier);l&&o&&this.raise(q.ConstructorHasTypeParameters,l);let{declare:u=!1,kind:c}=n;u&&(c==="get"||c==="set")&&this.raise(q.DeclareAccessor,n,{kind:c}),l&&(n.typeParameters=l),super.pushClassMethod(t,n,i,s,o,a)}pushClassPrivateMethod(t,n,i,s){let o=this.tsTryParseTypeParameters(this.tsParseConstModifier);o&&(n.typeParameters=o),super.pushClassPrivateMethod(t,n,i,s)}declareClassPrivateMethodInScope(t,n){t.type!=="TSDeclareMethod"&&(t.type==="MethodDefinition"&&!hasOwnProperty.call(t.value,"body")||super.declareClassPrivateMethodInScope(t,n))}parseClassSuper(t){super.parseClassSuper(t),t.superClass&&(this.match(47)||this.match(51))&&(t.superTypeParameters=this.tsParseTypeArgumentsInExpression()),this.eatContextual(113)&&(t.implements=this.tsParseHeritageClause("implements"))}parseObjPropValue(t,n,i,s,o,a,l){let u=this.tsTryParseTypeParameters(this.tsParseConstModifier);return u&&(t.typeParameters=u),super.parseObjPropValue(t,n,i,s,o,a,l)}parseFunctionParams(t,n){let i=this.tsTryParseTypeParameters(this.tsParseConstModifier);i&&(t.typeParameters=i),super.parseFunctionParams(t,n)}parseVarId(t,n){super.parseVarId(t,n),t.id.type==="Identifier"&&!this.hasPrecedingLineBreak()&&this.eat(35)&&(t.definite=!0);let i=this.tsTryParseTypeAnnotation();i&&(t.id.typeAnnotation=i,this.resetEndLocation(t.id))}parseAsyncArrowFromCallExpression(t,n){return this.match(14)&&(t.returnType=this.tsParseTypeAnnotation()),super.parseAsyncArrowFromCallExpression(t,n)}parseMaybeAssign(t,n){var i,s,o,a,l;let u,c,p;if(this.hasPlugin("jsx")&&(this.match(142)||this.match(47))){if(u=this.state.clone(),c=this.tryParse(()=>super.parseMaybeAssign(t,n),u),!c.error)return c.node;let{context:m}=this.state,h=m[m.length-1];(h===_e.j_oTag||h===_e.j_expr)&&m.pop()}if(!((i=c)!=null&&i.error)&&!this.match(47))return super.parseMaybeAssign(t,n);(!u||u===this.state)&&(u=this.state.clone());let d,f=this.tryParse(m=>{var h,g;d=this.tsParseTypeParameters(this.tsParseConstModifier);let y=super.parseMaybeAssign(t,n);return(y.type!=="ArrowFunctionExpression"||(h=y.extra)!=null&&h.parenthesized)&&m(),((g=d)==null?void 0:g.params.length)!==0&&this.resetStartLocationFromNode(y,d),y.typeParameters=d,y},u);if(!f.error&&!f.aborted)return d&&this.reportReservedArrowTypeParam(d),f.node;if(!c&&(Ny(!this.hasPlugin("jsx")),p=this.tryParse(()=>super.parseMaybeAssign(t,n),u),!p.error))return p.node;if((s=c)!=null&&s.node)return this.state=c.failState,c.node;if(f.node)return this.state=f.failState,d&&this.reportReservedArrowTypeParam(d),f.node;if((o=p)!=null&&o.node)return this.state=p.failState,p.node;throw((a=c)==null?void 0:a.error)||f.error||((l=p)==null?void 0:l.error)}reportReservedArrowTypeParam(t){var n;t.params.length===1&&!t.params[0].constraint&&!((n=t.extra)!=null&&n.trailingComma)&&this.getPluginOption("typescript","disallowAmbiguousJSXLike")&&this.raise(q.ReservedArrowTypeParam,t)}parseMaybeUnary(t,n){return!this.hasPlugin("jsx")&&this.match(47)?this.tsParseTypeAssertion():super.parseMaybeUnary(t,n)}parseArrow(t){if(this.match(14)){let n=this.tryParse(i=>{let s=this.tsParseTypeOrTypePredicateAnnotation(14);return(this.canInsertSemicolon()||!this.match(19))&&i(),s});if(n.aborted)return;n.thrown||(n.error&&(this.state=n.failState),t.returnType=n.node)}return super.parseArrow(t)}parseFunctionParamType(t){this.eat(17)&&(t.optional=!0);let n=this.tsTryParseTypeAnnotation();return n&&(t.typeAnnotation=n),this.resetEndLocation(t),t}isAssignable(t,n){switch(t.type){case"TSTypeCastExpression":return this.isAssignable(t.expression,n);case"TSParameterProperty":return!0;default:return super.isAssignable(t,n)}}toAssignable(t,n=!1){switch(t.type){case"ParenthesizedExpression":this.toAssignableParenthesizedExpression(t,n);break;case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":n?this.expressionScope.recordArrowParameterBindingError(q.UnexpectedTypeCastInParameter,t):this.raise(q.UnexpectedTypeCastInParameter,t),this.toAssignable(t.expression,n);break;case"AssignmentExpression":!n&&t.left.type==="TSTypeCastExpression"&&(t.left=this.typeCastToParameter(t.left));default:super.toAssignable(t,n)}}toAssignableParenthesizedExpression(t,n){switch(t.expression.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSNonNullExpression":case"TSTypeAssertion":case"ParenthesizedExpression":this.toAssignable(t.expression,n);break;default:super.toAssignable(t,n)}}checkToRestConversion(t,n){switch(t.type){case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":case"TSNonNullExpression":this.checkToRestConversion(t.expression,!1);break;default:super.checkToRestConversion(t,n)}}isValidLVal(t,n,i){switch(t){case"TSTypeCastExpression":return!0;case"TSParameterProperty":return"parameter";case"TSNonNullExpression":case"TSInstantiationExpression":return"expression";case"TSAsExpression":case"TSSatisfiesExpression":case"TSTypeAssertion":return(i!==64||!n)&&["expression",!0];default:return super.isValidLVal(t,n,i)}}parseBindingAtom(){return this.state.type===78?this.parseIdentifier(!0):super.parseBindingAtom()}parseMaybeDecoratorArguments(t){if(this.match(47)||this.match(51)){let n=this.tsParseTypeArgumentsInExpression();if(this.match(10)){let i=super.parseMaybeDecoratorArguments(t);return i.typeParameters=n,i}this.unexpected(null,10)}return super.parseMaybeDecoratorArguments(t)}checkCommaAfterRest(t){return this.state.isAmbientContext&&this.match(12)&&this.lookaheadCharCode()===t?(this.next(),!1):super.checkCommaAfterRest(t)}isClassMethod(){return this.match(47)||super.isClassMethod()}isClassProperty(){return this.match(35)||this.match(14)||super.isClassProperty()}parseMaybeDefault(t,n){let i=super.parseMaybeDefault(t,n);return i.type==="AssignmentPattern"&&i.typeAnnotation&&i.right.start<i.typeAnnotation.start&&this.raise(q.TypeAnnotationAfterAssign,i.typeAnnotation),i}getTokenFromCode(t){if(this.state.inType){if(t===62){this.finishOp(48,1);return}if(t===60){this.finishOp(47,1);return}}super.getTokenFromCode(t)}reScan_lt_gt(){let{type:t}=this.state;t===47?(this.state.pos-=1,this.readToken_lt()):t===48&&(this.state.pos-=1,this.readToken_gt())}reScan_lt(){let{type:t}=this.state;return t===51?(this.state.pos-=2,this.finishOp(47,1),47):t}toAssignableList(t,n,i){for(let s=0;s<t.length;s++){let o=t[s];o?.type==="TSTypeCastExpression"&&(t[s]=this.typeCastToParameter(o))}super.toAssignableList(t,n,i)}typeCastToParameter(t){return t.expression.typeAnnotation=t.typeAnnotation,this.resetEndLocation(t.expression,t.typeAnnotation.loc.end),t.expression}shouldParseArrow(t){return this.match(14)?t.every(n=>this.isAssignable(n,!0)):super.shouldParseArrow(t)}shouldParseAsyncArrow(){return this.match(14)||super.shouldParseAsyncArrow()}canHaveLeadingDecorator(){return super.canHaveLeadingDecorator()||this.isAbstractClass()}jsxParseOpeningElementAfterName(t){if(this.match(47)||this.match(51)){let n=this.tsTryParseAndCatch(()=>this.tsParseTypeArgumentsInExpression());n&&(t.typeParameters=n)}return super.jsxParseOpeningElementAfterName(t)}getGetterSetterExpectedParamCount(t){let n=super.getGetterSetterExpectedParamCount(t),s=this.getObjectOrClassMethodParams(t)[0];return s&&this.isThisParam(s)?n+1:n}parseCatchClauseParam(){let t=super.parseCatchClauseParam(),n=this.tsTryParseTypeAnnotation();return n&&(t.typeAnnotation=n,this.resetEndLocation(t)),t}tsInAmbientContext(t){let{isAmbientContext:n,strict:i}=this.state;this.state.isAmbientContext=!0,this.state.strict=!1;try{return t()}finally{this.state.isAmbientContext=n,this.state.strict=i}}parseClass(t,n,i){let s=this.state.inAbstractClass;this.state.inAbstractClass=!!t.abstract;try{return super.parseClass(t,n,i)}finally{this.state.inAbstractClass=s}}tsParseAbstractDeclaration(t,n){if(this.match(80))return t.abstract=!0,this.maybeTakeDecorators(n,this.parseClass(t,!0,!1));if(this.isContextual(129)){if(!this.hasFollowingLineBreak())return t.abstract=!0,this.raise(q.NonClassMethodPropertyHasAbstractModifer,t),this.tsParseInterfaceDeclaration(t)}else this.unexpected(null,80)}parseMethod(t,n,i,s,o,a,l){let u=super.parseMethod(t,n,i,s,o,a,l);if(u.abstract&&(this.hasPlugin("estree")?!!u.value.body:!!u.body)){let{key:p}=u;this.raise(q.AbstractMethodHasImplementation,u,{methodName:p.type==="Identifier"&&!u.computed?p.name:`[${this.input.slice(p.start,p.end)}]`})}return u}tsParseTypeParameterName(){return this.parseIdentifier().name}shouldParseAsAmbientContext(){return!!this.getPluginOption("typescript","dts")}parse(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.parse()}getExpression(){return this.shouldParseAsAmbientContext()&&(this.state.isAmbientContext=!0),super.getExpression()}parseExportSpecifier(t,n,i,s){return!n&&s?(this.parseTypeOnlyImportExportSpecifier(t,!1,i),this.finishNode(t,"ExportSpecifier")):(t.exportKind="value",super.parseExportSpecifier(t,n,i,s))}parseImportSpecifier(t,n,i,s,o){return!n&&s?(this.parseTypeOnlyImportExportSpecifier(t,!0,i),this.finishNode(t,"ImportSpecifier")):(t.importKind="value",super.parseImportSpecifier(t,n,i,s,i?4098:4096))}parseTypeOnlyImportExportSpecifier(t,n,i){let s=n?"imported":"local",o=n?"local":"exported",a=t[s],l,u=!1,c=!0,p=a.loc.start;if(this.isContextual(93)){let f=this.parseIdentifier();if(this.isContextual(93)){let m=this.parseIdentifier();gr(this.state.type)?(u=!0,a=f,l=n?this.parseIdentifier():this.parseModuleExportName(),c=!1):(l=m,c=!1)}else gr(this.state.type)?(c=!1,l=n?this.parseIdentifier():this.parseModuleExportName()):(u=!0,a=f)}else gr(this.state.type)&&(u=!0,n?(a=this.parseIdentifier(!0),this.isContextual(93)||this.checkReservedWord(a.name,a.loc.start,!0,!0)):a=this.parseModuleExportName());u&&i&&this.raise(n?q.TypeModifierIsUsedInTypeImports:q.TypeModifierIsUsedInTypeExports,p),t[s]=a,t[o]=l;let d=n?"importKind":"exportKind";t[d]=u?"type":"value",c&&this.eatContextual(93)&&(t[o]=n?this.parseIdentifier():this.parseModuleExportName()),t[o]||(t[o]=un(t[s])),n&&this.checkIdentifier(t[o],u?4098:4096)}};function eP(e){if(e.type!=="MemberExpression")return!1;let{computed:r,property:t}=e;return r&&t.type!=="StringLiteral"&&(t.type!=="TemplateLiteral"||t.expressions.length>0)?!1:Jy(e.object)}function tP(e,r){var t;let{type:n}=e;if((t=e.extra)!=null&&t.parenthesized)return!1;if(r){if(n==="Literal"){let{value:i}=e;if(typeof i=="string"||typeof i=="boolean")return!0}}else if(n==="StringLiteral"||n==="BooleanLiteral")return!0;return!!(Hy(e,r)||rP(e,r)||n==="TemplateLiteral"&&e.expressions.length===0||eP(e))}function Hy(e,r){return r?e.type==="Literal"&&(typeof e.value=="number"||"bigint"in e):e.type==="NumericLiteral"||e.type==="BigIntLiteral"}function rP(e,r){if(e.type==="UnaryExpression"){let{operator:t,argument:n}=e;if(t==="-"&&Hy(n,r))return!0}return!1}function Jy(e){return e.type==="Identifier"?!0:e.type!=="MemberExpression"||e.computed?!1:Jy(e.object)}var _y=ln`placeholders`({ClassNameIsRequired:"A class name is required.",UnexpectedSpace:"Unexpected space in placeholder."}),nP=e=>class extends e{parsePlaceholder(t){if(this.match(144)){let n=this.startNode();return this.next(),this.assertNoSpace(),n.name=super.parseIdentifier(!0),this.assertNoSpace(),this.expect(144),this.finishPlaceholder(n,t)}}finishPlaceholder(t,n){let i=t;return(!i.expectedNode||!i.type)&&(i=this.finishNode(i,"Placeholder")),i.expectedNode=n,i}getTokenFromCode(t){t===37&&this.input.charCodeAt(this.state.pos+1)===37?this.finishOp(144,2):super.getTokenFromCode(t)}parseExprAtom(t){return this.parsePlaceholder("Expression")||super.parseExprAtom(t)}parseIdentifier(t){return this.parsePlaceholder("Identifier")||super.parseIdentifier(t)}checkReservedWord(t,n,i,s){t!==void 0&&super.checkReservedWord(t,n,i,s)}parseBindingAtom(){return this.parsePlaceholder("Pattern")||super.parseBindingAtom()}isValidLVal(t,n,i){return t==="Placeholder"||super.isValidLVal(t,n,i)}toAssignable(t,n){t&&t.type==="Placeholder"&&t.expectedNode==="Expression"?t.expectedNode="Pattern":super.toAssignable(t,n)}chStartsBindingIdentifier(t,n){return!!(super.chStartsBindingIdentifier(t,n)||this.lookahead().type===144)}verifyBreakContinue(t,n){t.label&&t.label.type==="Placeholder"||super.verifyBreakContinue(t,n)}parseExpressionStatement(t,n){var i;if(n.type!=="Placeholder"||(i=n.extra)!=null&&i.parenthesized)return super.parseExpressionStatement(t,n);if(this.match(14)){let o=t;return o.label=this.finishPlaceholder(n,"Identifier"),this.next(),o.body=super.parseStatementOrSloppyAnnexBFunctionDeclaration(),this.finishNode(o,"LabeledStatement")}this.semicolon();let s=t;return s.name=n.name,this.finishPlaceholder(s,"Statement")}parseBlock(t,n,i){return this.parsePlaceholder("BlockStatement")||super.parseBlock(t,n,i)}parseFunctionId(t){return this.parsePlaceholder("Identifier")||super.parseFunctionId(t)}parseClass(t,n,i){let s=n?"ClassDeclaration":"ClassExpression";this.next();let o=this.state.strict,a=this.parsePlaceholder("Identifier");if(a)if(this.match(81)||this.match(144)||this.match(5))t.id=a;else{if(i||!n)return t.id=null,t.body=this.finishPlaceholder(a,"ClassBody"),this.finishNode(t,s);throw this.raise(_y.ClassNameIsRequired,this.state.startLoc)}else this.parseClassId(t,n,i);return super.parseClassSuper(t),t.body=this.parsePlaceholder("ClassBody")||super.parseClassBody(!!t.superClass,o),this.finishNode(t,s)}parseExport(t,n){let i=this.parsePlaceholder("Identifier");if(!i)return super.parseExport(t,n);let s=t;if(!this.isContextual(98)&&!this.match(12))return s.specifiers=[],s.source=null,s.declaration=this.finishPlaceholder(i,"Declaration"),this.finishNode(s,"ExportNamedDeclaration");this.expectPlugin("exportDefaultFrom");let o=this.startNode();return o.exported=i,s.specifiers=[this.finishNode(o,"ExportDefaultSpecifier")],super.parseExport(s,n)}isExportDefaultSpecifier(){if(this.match(65)){let t=this.nextTokenStart();if(this.isUnparsedContextual(t,"from")&&this.input.startsWith(Nn(144),this.nextTokenStartSince(t+4)))return!0}return super.isExportDefaultSpecifier()}maybeParseExportDefaultSpecifier(t,n){var i;return(i=t.specifiers)!=null&&i.length?!0:super.maybeParseExportDefaultSpecifier(t,n)}checkExport(t){let{specifiers:n}=t;n!=null&&n.length&&(t.specifiers=n.filter(i=>i.exported.type==="Placeholder")),super.checkExport(t),t.specifiers=n}parseImport(t){let n=this.parsePlaceholder("Identifier");if(!n)return super.parseImport(t);if(t.specifiers=[],!this.isContextual(98)&&!this.match(12))return t.source=this.finishPlaceholder(n,"StringLiteral"),this.semicolon(),this.finishNode(t,"ImportDeclaration");let i=this.startNodeAtNode(n);return i.local=n,t.specifiers.push(this.finishNode(i,"ImportDefaultSpecifier")),this.eat(12)&&(this.maybeParseStarImportSpecifier(t)||this.parseNamedImportSpecifiers(t)),this.expectContextual(98),t.source=this.parseImportSource(),this.semicolon(),this.finishNode(t,"ImportDeclaration")}parseImportSource(){return this.parsePlaceholder("StringLiteral")||super.parseImportSource()}assertNoSpace(){this.state.start>this.state.lastTokEndLoc.index&&this.raise(_y.UnexpectedSpace,this.state.lastTokEndLoc)}},iP=e=>class extends e{parseV8Intrinsic(){if(this.match(54)){let t=this.state.startLoc,n=this.startNode();if(this.next(),we(this.state.type)){let i=this.parseIdentifierName(),s=this.createIdentifier(n,i);if(s.type="V8IntrinsicIdentifier",this.match(10))return s}this.unexpected(t)}}parseExprAtom(t){return this.parseV8Intrinsic()||super.parseExprAtom(t)}},ky=["minimal","fsharp","hack","smart"],Oy=["^^","@@","^","%","#"];function sP(e){if(e.has("decorators")){if(e.has("decorators-legacy"))throw new Error("Cannot use the decorators and decorators-legacy plugin together");let t=e.get("decorators").decoratorsBeforeExport;if(t!=null&&typeof t!="boolean")throw new Error("'decoratorsBeforeExport' must be a boolean, if specified.");let n=e.get("decorators").allowCallParenthesized;if(n!=null&&typeof n!="boolean")throw new Error("'allowCallParenthesized' must be a boolean.")}if(e.has("flow")&&e.has("typescript"))throw new Error("Cannot combine flow and typescript plugins.");if(e.has("placeholders")&&e.has("v8intrinsic"))throw new Error("Cannot combine placeholders and v8intrinsic plugins.");if(e.has("pipelineOperator")){var r;let t=e.get("pipelineOperator").proposal;if(!ky.includes(t)){let i=ky.map(s=>`"${s}"`).join(", ");throw new Error(`"pipelineOperator" requires "proposal" option whose value must be one of: ${i}.`)}let n=((r=e.get("recordAndTuple"))==null?void 0:r.syntaxType)==="hash";if(t==="hack"){if(e.has("placeholders"))throw new Error("Cannot combine placeholders plugin and Hack-style pipes.");if(e.has("v8intrinsic"))throw new Error("Cannot combine v8intrinsic plugin and Hack-style pipes.");let i=e.get("pipelineOperator").topicToken;if(!Oy.includes(i)){let s=Oy.map(o=>`"${o}"`).join(", ");throw new Error(`"pipelineOperator" in "proposal": "hack" mode also requires a "topicToken" option whose value must be one of: ${s}.`)}if(i==="#"&&n)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "hack", topicToken: "#" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}else if(t==="smart"&&n)throw new Error(`Plugin conflict between \`["pipelineOperator", { proposal: "smart" }]\` and \`${JSON.stringify(["recordAndTuple",e.get("recordAndTuple")])}\`.`)}if(e.has("moduleAttributes")){if(e.has("importAttributes")||e.has("importAssertions"))throw new Error("Cannot combine importAssertions, importAttributes and moduleAttributes plugins.");if(e.get("moduleAttributes").version!=="may-2020")throw new Error("The 'moduleAttributes' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is 'may-2020'.")}if(e.has("importAssertions")&&e.has("importAttributes"))throw new Error("Cannot combine importAssertions and importAttributes plugins.");if(e.has("recordAndTuple")){let t=e.get("recordAndTuple").syntaxType;if(t!=null){let n=["hash","bar"];if(!n.includes(t))throw new Error("The 'syntaxType' option of the 'recordAndTuple' plugin must be one of: "+n.map(i=>`'${i}'`).join(", "))}}if(e.has("asyncDoExpressions")&&!e.has("doExpressions")){let t=new Error("'asyncDoExpressions' requires 'doExpressions', please add 'doExpressions' to parser plugins.");throw t.missingPlugins="doExpressions",t}if(e.has("optionalChainingAssign")&&e.get("optionalChainingAssign").version!=="2023-07")throw new Error("The 'optionalChainingAssign' plugin requires a 'version' option, representing the last proposal update. Currently, the only supported value is '2023-07'.")}var Yy={estree:av,jsx:Jv,flow:Gv,typescript:Zv,v8intrinsic:iP,placeholders:nP},oP=Object.keys(Yy),gc={sourceType:"script",sourceFilename:void 0,startColumn:0,startLine:1,allowAwaitOutsideFunction:!1,allowReturnOutsideFunction:!1,allowNewTargetOutsideFunction:!1,allowImportExportEverywhere:!1,allowSuperOutsideMethod:!1,allowUndeclaredExports:!1,plugins:[],strictMode:null,ranges:!1,tokens:!1,createImportExpressions:!1,createParenthesizedExpressions:!1,errorRecovery:!1,attachComment:!0,annexB:!0};function aP(e){if(e==null)return Object.assign({},gc);if(e.annexB!=null&&e.annexB!==!1)throw new Error("The `annexB` option can only be set to `false`.");let r={};for(let n of Object.keys(gc)){var t;r[n]=(t=e[n])!=null?t:gc[n]}return r}var Bc=class extends Lc{checkProto(r,t,n,i){if(r.type==="SpreadElement"||this.isObjectMethod(r)||r.computed||r.shorthand)return;let s=r.key;if((s.type==="Identifier"?s.name:s.value)==="__proto__"){if(t){this.raise(S.RecordNoProto,s);return}n.used&&(i?i.doubleProtoLoc===null&&(i.doubleProtoLoc=s.loc.start):this.raise(S.DuplicateProto,s)),n.used=!0}}shouldExitDescending(r,t){return r.type==="ArrowFunctionExpression"&&r.start===t}getExpression(){this.enterInitialScopes(),this.nextToken();let r=this.parseExpression();return this.match(139)||this.unexpected(),this.finalizeRemainingComments(),r.comments=this.comments,r.errors=this.state.errors,this.options.tokens&&(r.tokens=this.tokens),r}parseExpression(r,t){return r?this.disallowInAnd(()=>this.parseExpressionBase(t)):this.allowInAnd(()=>this.parseExpressionBase(t))}parseExpressionBase(r){let t=this.state.startLoc,n=this.parseMaybeAssign(r);if(this.match(12)){let i=this.startNodeAt(t);for(i.expressions=[n];this.eat(12);)i.expressions.push(this.parseMaybeAssign(r));return this.toReferencedList(i.expressions),this.finishNode(i,"SequenceExpression")}return n}parseMaybeAssignDisallowIn(r,t){return this.disallowInAnd(()=>this.parseMaybeAssign(r,t))}parseMaybeAssignAllowIn(r,t){return this.allowInAnd(()=>this.parseMaybeAssign(r,t))}setOptionalParametersError(r,t){var n;r.optionalParametersLoc=(n=t?.loc)!=null?n:this.state.startLoc}parseMaybeAssign(r,t){let n=this.state.startLoc;if(this.isContextual(108)&&this.prodParam.hasYield){let a=this.parseYield();return t&&(a=t.call(this,a,n)),a}let i;r?i=!1:(r=new ji,i=!0);let{type:s}=this.state;(s===10||we(s))&&(this.state.potentialArrowAt=this.state.start);let o=this.parseMaybeConditional(r);if(t&&(o=t.call(this,o,n)),dv(this.state.type)){let a=this.startNodeAt(n),l=this.state.value;if(a.operator=l,this.match(29)){this.toAssignable(o,!0),a.left=o;let u=n.index;r.doubleProtoLoc!=null&&r.doubleProtoLoc.index>=u&&(r.doubleProtoLoc=null),r.shorthandAssignLoc!=null&&r.shorthandAssignLoc.index>=u&&(r.shorthandAssignLoc=null),r.privateKeyLoc!=null&&r.privateKeyLoc.index>=u&&(this.checkDestructuringPrivate(r),r.privateKeyLoc=null)}else a.left=o;return this.next(),a.right=this.parseMaybeAssign(),this.checkLVal(o,this.finishNode(a,"AssignmentExpression")),a}else i&&this.checkExpressionErrors(r,!0);return o}parseMaybeConditional(r){let t=this.state.startLoc,n=this.state.potentialArrowAt,i=this.parseExprOps(r);return this.shouldExitDescending(i,n)?i:this.parseConditional(i,t,r)}parseConditional(r,t,n){if(this.eat(17)){let i=this.startNodeAt(t);return i.test=r,i.consequent=this.parseMaybeAssignAllowIn(),this.expect(14),i.alternate=this.parseMaybeAssign(),this.finishNode(i,"ConditionalExpression")}return r}parseMaybeUnaryOrPrivate(r){return this.match(138)?this.parsePrivateName():this.parseMaybeUnary(r)}parseExprOps(r){let t=this.state.startLoc,n=this.state.potentialArrowAt,i=this.parseMaybeUnaryOrPrivate(r);return this.shouldExitDescending(i,n)?i:this.parseExprOp(i,t,-1)}parseExprOp(r,t,n){if(this.isPrivateName(r)){let s=this.getPrivateNameSV(r);(n>=Ta(58)||!this.prodParam.hasIn||!this.match(58))&&this.raise(S.PrivateInExpectedIn,r,{identifierName:s}),this.classScope.usePrivateName(s,r.loc.start)}let i=this.state.type;if(mv(i)&&(this.prodParam.hasIn||!this.match(58))){let s=Ta(i);if(s>n){if(i===39){if(this.expectPlugin("pipelineOperator"),this.state.inFSharpPipelineDirectBody)return r;this.checkPipelineAtInfixOperator(r,t)}let o=this.startNodeAt(t);o.left=r,o.operator=this.state.value;let a=i===41||i===42,l=i===40;if(l&&(s=Ta(42)),this.next(),i===39&&this.hasPlugin(["pipelineOperator",{proposal:"minimal"}])&&this.state.type===96&&this.prodParam.hasAwait)throw this.raise(S.UnexpectedAwaitAfterPipelineBody,this.state.startLoc);o.right=this.parseExprOpRightExpr(i,s);let u=this.finishNode(o,a||l?"LogicalExpression":"BinaryExpression"),c=this.state.type;if(l&&(c===41||c===42)||a&&c===40)throw this.raise(S.MixingCoalesceWithLogical,this.state.startLoc);return this.parseExprOp(u,t,n)}}return r}parseExprOpRightExpr(r,t){let n=this.state.startLoc;switch(r){case 39:switch(this.getPluginOption("pipelineOperator","proposal")){case"hack":return this.withTopicBindingContext(()=>this.parseHackPipeBody());case"smart":return this.withTopicBindingContext(()=>{if(this.prodParam.hasYield&&this.isContextual(108))throw this.raise(S.PipeBodyIsTighter,this.state.startLoc);return this.parseSmartPipelineBodyInStyle(this.parseExprOpBaseRightExpr(r,t),n)});case"fsharp":return this.withSoloAwaitPermittingContext(()=>this.parseFSharpPipelineBody(t))}default:return this.parseExprOpBaseRightExpr(r,t)}}parseExprOpBaseRightExpr(r,t){let n=this.state.startLoc;return this.parseExprOp(this.parseMaybeUnaryOrPrivate(),n,bv(r)?t-1:t)}parseHackPipeBody(){var r;let{startLoc:t}=this.state,n=this.parseMaybeAssign();return rv.has(n.type)&&!((r=n.extra)!=null&&r.parenthesized)&&this.raise(S.PipeUnparenthesizedBody,t,{type:n.type}),this.topicReferenceWasUsedInCurrentContext()||this.raise(S.PipeTopicUnused,t),n}checkExponentialAfterUnary(r){this.match(57)&&this.raise(S.UnexpectedTokenUnaryExponentiation,r.argument)}parseMaybeUnary(r,t){let n=this.state.startLoc,i=this.isContextual(96);if(i&&this.recordAwaitIfAllowed()){this.next();let l=this.parseAwait(n);return t||this.checkExponentialAfterUnary(l),l}let s=this.match(34),o=this.startNode();if(gv(this.state.type)){o.operator=this.state.value,o.prefix=!0,this.match(72)&&this.expectPlugin("throwExpressions");let l=this.match(89);if(this.next(),o.argument=this.parseMaybeUnary(null,!0),this.checkExpressionErrors(r,!0),this.state.strict&&l){let u=o.argument;u.type==="Identifier"?this.raise(S.StrictDelete,o):this.hasPropertyAsPrivateName(u)&&this.raise(S.DeletePrivateField,o)}if(!s)return t||this.checkExponentialAfterUnary(o),this.finishNode(o,"UnaryExpression")}let a=this.parseUpdate(o,s,r);if(i){let{type:l}=this.state;if((this.hasPlugin("v8intrinsic")?bc(l):bc(l)&&!this.match(54))&&!this.isAmbiguousAwait())return this.raiseOverwrite(S.AwaitNotInAsyncContext,n),this.parseAwait(n)}return a}parseUpdate(r,t,n){if(t){let o=r;return this.checkLVal(o.argument,this.finishNode(o,"UpdateExpression")),r}let i=this.state.startLoc,s=this.parseExprSubscripts(n);if(this.checkExpressionErrors(n,!1))return s;for(;hv(this.state.type)&&!this.canInsertSemicolon();){let o=this.startNodeAt(i);o.operator=this.state.value,o.prefix=!1,o.argument=s,this.next(),this.checkLVal(s,s=this.finishNode(o,"UpdateExpression"))}return s}parseExprSubscripts(r){let t=this.state.startLoc,n=this.state.potentialArrowAt,i=this.parseExprAtom(r);return this.shouldExitDescending(i,n)?i:this.parseSubscripts(i,t)}parseSubscripts(r,t,n){let i={optionalChainMember:!1,maybeAsyncArrow:this.atPossibleAsyncArrow(r),stop:!1};do r=this.parseSubscript(r,t,n,i),i.maybeAsyncArrow=!1;while(!i.stop);return r}parseSubscript(r,t,n,i){let{type:s}=this.state;if(!n&&s===15)return this.parseBind(r,t,n,i);if(Pa(s))return this.parseTaggedTemplateExpression(r,t,i);let o=!1;if(s===18){if(n&&(this.raise(S.OptionalChainingNoNew,this.state.startLoc),this.lookaheadCharCode()===40))return i.stop=!0,r;i.optionalChainMember=o=!0,this.next()}if(!n&&this.match(10))return this.parseCoverCallAndAsyncArrowHead(r,t,i,o);{let a=this.eat(0);return a||o||this.eat(16)?this.parseMember(r,t,i,a,o):(i.stop=!0,r)}}parseMember(r,t,n,i,s){let o=this.startNodeAt(t);return o.object=r,o.computed=i,i?(o.property=this.parseExpression(),this.expect(3)):this.match(138)?(r.type==="Super"&&this.raise(S.SuperPrivateField,t),this.classScope.usePrivateName(this.state.value,this.state.startLoc),o.property=this.parsePrivateName()):o.property=this.parseIdentifier(!0),n.optionalChainMember?(o.optional=s,this.finishNode(o,"OptionalMemberExpression")):this.finishNode(o,"MemberExpression")}parseBind(r,t,n,i){let s=this.startNodeAt(t);return s.object=r,this.next(),s.callee=this.parseNoCallExpr(),i.stop=!0,this.parseSubscripts(this.finishNode(s,"BindExpression"),t,n)}parseCoverCallAndAsyncArrowHead(r,t,n,i){let s=this.state.maybeInArrowParameters,o=null;this.state.maybeInArrowParameters=!0,this.next();let a=this.startNodeAt(t);a.callee=r;let{maybeAsyncArrow:l,optionalChainMember:u}=n;l&&(this.expressionScope.enter($v()),o=new ji),u&&(a.optional=i),i?a.arguments=this.parseCallExpressionArguments(11):a.arguments=this.parseCallExpressionArguments(11,r.type==="Import",r.type!=="Super",a,o);let c=this.finishCallExpression(a,u);return l&&this.shouldParseAsyncArrow()&&!i?(n.stop=!0,this.checkDestructuringPrivate(o),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),c=this.parseAsyncArrowFromCallExpression(this.startNodeAt(t),c)):(l&&(this.checkExpressionErrors(o,!0),this.expressionScope.exit()),this.toReferencedArguments(c)),this.state.maybeInArrowParameters=s,c}toReferencedArguments(r,t){this.toReferencedListDeep(r.arguments,t)}parseTaggedTemplateExpression(r,t,n){let i=this.startNodeAt(t);return i.tag=r,i.quasi=this.parseTemplate(!0),n.optionalChainMember&&this.raise(S.OptionalChainingNoTemplate,t),this.finishNode(i,"TaggedTemplateExpression")}atPossibleAsyncArrow(r){return r.type==="Identifier"&&r.name==="async"&&this.state.lastTokEndLoc.index===r.end&&!this.canInsertSemicolon()&&r.end-r.start===5&&r.start===this.state.potentialArrowAt}finishCallExpression(r,t){if(r.callee.type==="Import")if(r.arguments.length===2&&(this.hasPlugin("moduleAttributes")||this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes")),r.arguments.length===0||r.arguments.length>2)this.raise(S.ImportCallArity,r,{maxArgumentCount:this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions")||this.hasPlugin("moduleAttributes")?2:1});else for(let n of r.arguments)n.type==="SpreadElement"&&this.raise(S.ImportCallSpreadArgument,n);return this.finishNode(r,t?"OptionalCallExpression":"CallExpression")}parseCallExpressionArguments(r,t,n,i,s){let o=[],a=!0,l=this.state.inFSharpPipelineDirectBody;for(this.state.inFSharpPipelineDirectBody=!1;!this.eat(r);){if(a)a=!1;else if(this.expect(12),this.match(r)){t&&!this.hasPlugin("importAttributes")&&!this.hasPlugin("importAssertions")&&!this.hasPlugin("moduleAttributes")&&this.raise(S.ImportCallArgumentTrailingComma,this.state.lastTokStartLoc),i&&this.addTrailingCommaExtraToNode(i),this.next();break}o.push(this.parseExprListItem(!1,s,n))}return this.state.inFSharpPipelineDirectBody=l,o}shouldParseAsyncArrow(){return this.match(19)&&!this.canInsertSemicolon()}parseAsyncArrowFromCallExpression(r,t){var n;return this.resetPreviousNodeTrailingComments(t),this.expect(19),this.parseArrowExpression(r,t.arguments,!0,(n=t.extra)==null?void 0:n.trailingCommaLoc),t.innerComments&&Hs(r,t.innerComments),t.callee.trailingComments&&Hs(r,t.callee.trailingComments),r}parseNoCallExpr(){let r=this.state.startLoc;return this.parseSubscripts(this.parseExprAtom(),r,!0)}parseExprAtom(r){let t,n=null,{type:i}=this.state;switch(i){case 79:return this.parseSuper();case 83:return t=this.startNode(),this.next(),this.match(16)?this.parseImportMetaProperty(t):this.match(10)?this.options.createImportExpressions?this.parseImportCall(t):this.finishNode(t,"Import"):(this.raise(S.UnsupportedImport,this.state.lastTokStartLoc),this.finishNode(t,"Import"));case 78:return t=this.startNode(),this.next(),this.finishNode(t,"ThisExpression");case 90:return this.parseDo(this.startNode(),!1);case 56:case 31:return this.readRegexp(),this.parseRegExpLiteral(this.state.value);case 134:return this.parseNumericLiteral(this.state.value);case 135:return this.parseBigIntLiteral(this.state.value);case 133:return this.parseStringLiteral(this.state.value);case 84:return this.parseNullLiteral();case 85:return this.parseBooleanLiteral(!0);case 86:return this.parseBooleanLiteral(!1);case 10:{let s=this.state.potentialArrowAt===this.state.start;return this.parseParenAndDistinguishExpression(s)}case 2:case 1:return this.parseArrayLike(this.state.type===2?4:3,!1,!0);case 0:return this.parseArrayLike(3,!0,!1,r);case 6:case 7:return this.parseObjectLike(this.state.type===6?9:8,!1,!0);case 5:return this.parseObjectLike(8,!1,!1,r);case 68:return this.parseFunctionOrFunctionSent();case 26:n=this.parseDecorators();case 80:return this.parseClass(this.maybeTakeDecorators(n,this.startNode()),!1);case 77:return this.parseNewOrNewTarget();case 25:case 24:return this.parseTemplate(!1);case 15:{t=this.startNode(),this.next(),t.object=null;let s=t.callee=this.parseNoCallExpr();if(s.type==="MemberExpression")return this.finishNode(t,"BindExpression");throw this.raise(S.UnsupportedBind,s)}case 138:return this.raise(S.PrivateInExpectedIn,this.state.startLoc,{identifierName:this.state.value}),this.parsePrivateName();case 33:return this.parseTopicReferenceThenEqualsSign(54,"%");case 32:return this.parseTopicReferenceThenEqualsSign(44,"^");case 37:case 38:return this.parseTopicReference("hack");case 44:case 54:case 27:{let s=this.getPluginOption("pipelineOperator","proposal");if(s)return this.parseTopicReference(s);this.unexpected();break}case 47:{let s=this.input.codePointAt(this.nextTokenStart());an(s)||s===62?this.expectOnePlugin(["jsx","flow","typescript"]):this.unexpected();break}default:if(i===136)return this.parseDecimalLiteral(this.state.value);if(we(i)){if(this.isContextual(127)&&this.lookaheadInLineCharCode()===123)return this.parseModuleExpression();let s=this.state.potentialArrowAt===this.state.start,o=this.state.containsEsc,a=this.parseIdentifier();if(!o&&a.name==="async"&&!this.canInsertSemicolon()){let{type:l}=this.state;if(l===68)return this.resetPreviousNodeTrailingComments(a),this.next(),this.parseAsyncFunctionExpression(this.startNodeAtNode(a));if(we(l))return this.lookaheadCharCode()===61?this.parseAsyncArrowUnaryFunction(this.startNodeAtNode(a)):a;if(l===90)return this.resetPreviousNodeTrailingComments(a),this.parseDo(this.startNodeAtNode(a),!0)}return s&&this.match(19)&&!this.canInsertSemicolon()?(this.next(),this.parseArrowExpression(this.startNodeAtNode(a),[a],!1)):a}else this.unexpected()}}parseTopicReferenceThenEqualsSign(r,t){let n=this.getPluginOption("pipelineOperator","proposal");if(n)return this.state.type=r,this.state.value=t,this.state.pos--,this.state.end--,this.state.endLoc=Nt(this.state.endLoc,-1),this.parseTopicReference(n);this.unexpected()}parseTopicReference(r){let t=this.startNode(),n=this.state.startLoc,i=this.state.type;return this.next(),this.finishTopicReference(t,n,r,i)}finishTopicReference(r,t,n,i){if(this.testTopicReferenceConfiguration(n,t,i)){let s=n==="smart"?"PipelinePrimaryTopicReference":"TopicReference";return this.topicReferenceIsAllowedInCurrentContext()||this.raise(n==="smart"?S.PrimaryTopicNotAllowed:S.PipeTopicUnbound,t),this.registerTopicReference(),this.finishNode(r,s)}else throw this.raise(S.PipeTopicUnconfiguredToken,t,{token:Nn(i)})}testTopicReferenceConfiguration(r,t,n){switch(r){case"hack":return this.hasPlugin(["pipelineOperator",{topicToken:Nn(n)}]);case"smart":return n===27;default:throw this.raise(S.PipeTopicRequiresHackPipes,t)}}parseAsyncArrowUnaryFunction(r){this.prodParam.enter(Aa(!0,this.prodParam.hasYield));let t=[this.parseIdentifier()];return this.prodParam.exit(),this.hasPrecedingLineBreak()&&this.raise(S.LineTerminatorBeforeArrow,this.state.curPosition()),this.expect(19),this.parseArrowExpression(r,t,!0)}parseDo(r,t){this.expectPlugin("doExpressions"),t&&this.expectPlugin("asyncDoExpressions"),r.async=t,this.next();let n=this.state.labels;return this.state.labels=[],t?(this.prodParam.enter(2),r.body=this.parseBlock(),this.prodParam.exit()):r.body=this.parseBlock(),this.state.labels=n,this.finishNode(r,"DoExpression")}parseSuper(){let r=this.startNode();return this.next(),this.match(10)&&!this.scope.allowDirectSuper&&!this.options.allowSuperOutsideMethod?this.raise(S.SuperNotAllowed,r):!this.scope.allowSuper&&!this.options.allowSuperOutsideMethod&&this.raise(S.UnexpectedSuper,r),!this.match(10)&&!this.match(0)&&!this.match(16)&&this.raise(S.UnsupportedSuper,r),this.finishNode(r,"Super")}parsePrivateName(){let r=this.startNode(),t=this.startNodeAt(Nt(this.state.startLoc,1)),n=this.state.value;return this.next(),r.id=this.createIdentifier(t,n),this.finishNode(r,"PrivateName")}parseFunctionOrFunctionSent(){let r=this.startNode();if(this.next(),this.prodParam.hasYield&&this.match(16)){let t=this.createIdentifier(this.startNodeAtNode(r),"function");return this.next(),this.match(103)?this.expectPlugin("functionSent"):this.hasPlugin("functionSent")||this.unexpected(),this.parseMetaProperty(r,t,"sent")}return this.parseFunction(r)}parseMetaProperty(r,t,n){r.meta=t;let i=this.state.containsEsc;return r.property=this.parseIdentifier(!0),(r.property.name!==n||i)&&this.raise(S.UnsupportedMetaProperty,r.property,{target:t.name,onlyValidPropertyName:n}),this.finishNode(r,"MetaProperty")}parseImportMetaProperty(r){let t=this.createIdentifier(this.startNodeAtNode(r),"import");if(this.next(),this.isContextual(101))this.inModule||this.raise(S.ImportMetaOutsideModule,t),this.sawUnambiguousESM=!0;else if(this.isContextual(105)||this.isContextual(97)){let n=this.isContextual(105);if(n||this.unexpected(),this.expectPlugin(n?"sourcePhaseImports":"deferredImportEvaluation"),!this.options.createImportExpressions)throw this.raise(S.DynamicImportPhaseRequiresImportExpressions,this.state.startLoc,{phase:this.state.value});return this.next(),r.phase=n?"source":"defer",this.parseImportCall(r)}return this.parseMetaProperty(r,t,"meta")}parseLiteralAtNode(r,t,n){return this.addExtra(n,"rawValue",r),this.addExtra(n,"raw",this.input.slice(n.start,this.state.end)),n.value=r,this.next(),this.finishNode(n,t)}parseLiteral(r,t){let n=this.startNode();return this.parseLiteralAtNode(r,t,n)}parseStringLiteral(r){return this.parseLiteral(r,"StringLiteral")}parseNumericLiteral(r){return this.parseLiteral(r,"NumericLiteral")}parseBigIntLiteral(r){return this.parseLiteral(r,"BigIntLiteral")}parseDecimalLiteral(r){return this.parseLiteral(r,"DecimalLiteral")}parseRegExpLiteral(r){let t=this.startNode();return this.addExtra(t,"raw",this.input.slice(t.start,this.state.end)),t.pattern=r.pattern,t.flags=r.flags,this.next(),this.finishNode(t,"RegExpLiteral")}parseBooleanLiteral(r){let t=this.startNode();return t.value=r,this.next(),this.finishNode(t,"BooleanLiteral")}parseNullLiteral(){let r=this.startNode();return this.next(),this.finishNode(r,"NullLiteral")}parseParenAndDistinguishExpression(r){let t=this.state.startLoc,n;this.next(),this.expressionScope.enter(Mv());let i=this.state.maybeInArrowParameters,s=this.state.inFSharpPipelineDirectBody;this.state.maybeInArrowParameters=!0,this.state.inFSharpPipelineDirectBody=!1;let o=this.state.startLoc,a=[],l=new ji,u=!0,c,p;for(;!this.match(11);){if(u)u=!1;else if(this.expect(12,l.optionalParametersLoc===null?null:l.optionalParametersLoc),this.match(11)){p=this.state.startLoc;break}if(this.match(21)){let m=this.state.startLoc;if(c=this.state.startLoc,a.push(this.parseParenItem(this.parseRestBinding(),m)),!this.checkCommaAfterRest(41))break}else a.push(this.parseMaybeAssignAllowIn(l,this.parseParenItem))}let d=this.state.lastTokEndLoc;this.expect(11),this.state.maybeInArrowParameters=i,this.state.inFSharpPipelineDirectBody=s;let f=this.startNodeAt(t);return r&&this.shouldParseArrow(a)&&(f=this.parseArrow(f))?(this.checkDestructuringPrivate(l),this.expressionScope.validateAsPattern(),this.expressionScope.exit(),this.parseArrowExpression(f,a,!1),f):(this.expressionScope.exit(),a.length||this.unexpected(this.state.lastTokStartLoc),p&&this.unexpected(p),c&&this.unexpected(c),this.checkExpressionErrors(l,!0),this.toReferencedListDeep(a,!0),a.length>1?(n=this.startNodeAt(o),n.expressions=a,this.finishNode(n,"SequenceExpression"),this.resetEndLocation(n,d)):n=a[0],this.wrapParenthesis(t,n))}wrapParenthesis(r,t){if(!this.options.createParenthesizedExpressions)return this.addExtra(t,"parenthesized",!0),this.addExtra(t,"parenStart",r.index),this.takeSurroundingComments(t,r.index,this.state.lastTokEndLoc.index),t;let n=this.startNodeAt(r);return n.expression=t,this.finishNode(n,"ParenthesizedExpression")}shouldParseArrow(r){return!this.canInsertSemicolon()}parseArrow(r){if(this.eat(19))return r}parseParenItem(r,t){return r}parseNewOrNewTarget(){let r=this.startNode();if(this.next(),this.match(16)){let t=this.createIdentifier(this.startNodeAtNode(r),"new");this.next();let n=this.parseMetaProperty(r,t,"target");return!this.scope.inNonArrowFunction&&!this.scope.inClass&&!this.options.allowNewTargetOutsideFunction&&this.raise(S.UnexpectedNewTarget,n),n}return this.parseNew(r)}parseNew(r){if(this.parseNewCallee(r),this.eat(10)){let t=this.parseExprList(11);this.toReferencedList(t),r.arguments=t}else r.arguments=[];return this.finishNode(r,"NewExpression")}parseNewCallee(r){let t=this.match(83),n=this.parseNoCallExpr();r.callee=n,t&&(n.type==="Import"||n.type==="ImportExpression")&&this.raise(S.ImportCallNotNewExpression,n)}parseTemplateElement(r){let{start:t,startLoc:n,end:i,value:s}=this.state,o=t+1,a=this.startNodeAt(Nt(n,1));s===null&&(r||this.raise(S.InvalidEscapeSequenceTemplate,Nt(this.state.firstInvalidTemplateEscapePos,1)));let l=this.match(24),u=l?-1:-2,c=i+u;a.value={raw:this.input.slice(o,c).replace(/\r\n?/g,`
`),cooked:s===null?null:s.slice(1,u)},a.tail=l,this.next();let p=this.finishNode(a,"TemplateElement");return this.resetEndLocation(p,Nt(this.state.lastTokEndLoc,u)),p}parseTemplate(r){let t=this.startNode(),n=this.parseTemplateElement(r),i=[n],s=[];for(;!n.tail;)s.push(this.parseTemplateSubstitution()),this.readTemplateContinuation(),i.push(n=this.parseTemplateElement(r));return t.expressions=s,t.quasis=i,this.finishNode(t,"TemplateLiteral")}parseTemplateSubstitution(){return this.parseExpression()}parseObjectLike(r,t,n,i){n&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let o=Object.create(null),a=!0,l=this.startNode();for(l.properties=[],this.next();!this.match(r);){if(a)a=!1;else if(this.expect(12),this.match(r)){this.addTrailingCommaExtraToNode(l);break}let c;t?c=this.parseBindingProperty():(c=this.parsePropertyDefinition(i),this.checkProto(c,n,o,i)),n&&!this.isObjectProperty(c)&&c.type!=="SpreadElement"&&this.raise(S.InvalidRecordProperty,c),c.shorthand&&this.addExtra(c,"shorthand",!0),l.properties.push(c)}this.next(),this.state.inFSharpPipelineDirectBody=s;let u="ObjectExpression";return t?u="ObjectPattern":n&&(u="RecordExpression"),this.finishNode(l,u)}addTrailingCommaExtraToNode(r){this.addExtra(r,"trailingComma",this.state.lastTokStartLoc.index),this.addExtra(r,"trailingCommaLoc",this.state.lastTokStartLoc,!1)}maybeAsyncOrAccessorProp(r){return!r.computed&&r.key.type==="Identifier"&&(this.isLiteralPropertyName()||this.match(0)||this.match(55))}parsePropertyDefinition(r){let t=[];if(this.match(26))for(this.hasPlugin("decorators")&&this.raise(S.UnsupportedPropertyDecorator,this.state.startLoc);this.match(26);)t.push(this.parseDecorator());let n=this.startNode(),i=!1,s=!1,o;if(this.match(21))return t.length&&this.unexpected(),this.parseSpread();t.length&&(n.decorators=t,t=[]),n.method=!1,r&&(o=this.state.startLoc);let a=this.eat(55);this.parsePropertyNamePrefixOperator(n);let l=this.state.containsEsc;if(this.parsePropertyName(n,r),!a&&!l&&this.maybeAsyncOrAccessorProp(n)){let{key:u}=n,c=u.name;c==="async"&&!this.hasPrecedingLineBreak()&&(i=!0,this.resetPreviousNodeTrailingComments(u),a=this.eat(55),this.parsePropertyName(n)),(c==="get"||c==="set")&&(s=!0,this.resetPreviousNodeTrailingComments(u),n.kind=c,this.match(55)&&(a=!0,this.raise(S.AccessorIsGenerator,this.state.curPosition(),{kind:c}),this.next()),this.parsePropertyName(n))}return this.parseObjPropValue(n,o,a,i,!1,s,r)}getGetterSetterExpectedParamCount(r){return r.kind==="get"?0:1}getObjectOrClassMethodParams(r){return r.params}checkGetterSetterParams(r){var t;let n=this.getGetterSetterExpectedParamCount(r),i=this.getObjectOrClassMethodParams(r);i.length!==n&&this.raise(r.kind==="get"?S.BadGetterArity:S.BadSetterArity,r),r.kind==="set"&&((t=i[i.length-1])==null?void 0:t.type)==="RestElement"&&this.raise(S.BadSetterRestParameter,r)}parseObjectMethod(r,t,n,i,s){if(s){let o=this.parseMethod(r,t,!1,!1,!1,"ObjectMethod");return this.checkGetterSetterParams(o),o}if(n||t||this.match(10))return i&&this.unexpected(),r.kind="method",r.method=!0,this.parseMethod(r,t,n,!1,!1,"ObjectMethod")}parseObjectProperty(r,t,n,i){if(r.shorthand=!1,this.eat(14))return r.value=n?this.parseMaybeDefault(this.state.startLoc):this.parseMaybeAssignAllowIn(i),this.finishNode(r,"ObjectProperty");if(!r.computed&&r.key.type==="Identifier"){if(this.checkReservedWord(r.key.name,r.key.loc.start,!0,!1),n)r.value=this.parseMaybeDefault(t,un(r.key));else if(this.match(29)){let s=this.state.startLoc;i!=null?i.shorthandAssignLoc===null&&(i.shorthandAssignLoc=s):this.raise(S.InvalidCoverInitializedName,s),r.value=this.parseMaybeDefault(t,un(r.key))}else r.value=un(r.key);return r.shorthand=!0,this.finishNode(r,"ObjectProperty")}}parseObjPropValue(r,t,n,i,s,o,a){let l=this.parseObjectMethod(r,n,i,s,o)||this.parseObjectProperty(r,t,s,a);return l||this.unexpected(),l}parsePropertyName(r,t){if(this.eat(0))r.computed=!0,r.key=this.parseMaybeAssignAllowIn(),this.expect(3);else{let{type:n,value:i}=this.state,s;if(gr(n))s=this.parseIdentifier(!0);else switch(n){case 134:s=this.parseNumericLiteral(i);break;case 133:s=this.parseStringLiteral(i);break;case 135:s=this.parseBigIntLiteral(i);break;case 138:{let o=this.state.startLoc;t!=null?t.privateKeyLoc===null&&(t.privateKeyLoc=o):this.raise(S.UnexpectedPrivateField,o),s=this.parsePrivateName();break}default:if(n===136){s=this.parseDecimalLiteral(i);break}this.unexpected()}r.key=s,n!==138&&(r.computed=!1)}}initFunction(r,t){r.id=null,r.generator=!1,r.async=t}parseMethod(r,t,n,i,s,o,a=!1){this.initFunction(r,n),r.generator=t,this.scope.enter(18|(a?64:0)|(s?32:0)),this.prodParam.enter(Aa(n,r.generator)),this.parseFunctionParams(r,i);let l=this.parseFunctionBodyAndFinish(r,o,!0);return this.prodParam.exit(),this.scope.exit(),l}parseArrayLike(r,t,n,i){n&&this.expectPlugin("recordAndTuple");let s=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!1;let o=this.startNode();return this.next(),o.elements=this.parseExprList(r,!n,i,o),this.state.inFSharpPipelineDirectBody=s,this.finishNode(o,n?"TupleExpression":"ArrayExpression")}parseArrowExpression(r,t,n,i){this.scope.enter(6);let s=Aa(n,!1);!this.match(5)&&this.prodParam.hasIn&&(s|=8),this.prodParam.enter(s),this.initFunction(r,n);let o=this.state.maybeInArrowParameters;return t&&(this.state.maybeInArrowParameters=!0,this.setArrowFunctionParameters(r,t,i)),this.state.maybeInArrowParameters=!1,this.parseFunctionBody(r,!0),this.prodParam.exit(),this.scope.exit(),this.state.maybeInArrowParameters=o,this.finishNode(r,"ArrowFunctionExpression")}setArrowFunctionParameters(r,t,n){this.toAssignableList(t,n,!1),r.params=t}parseFunctionBodyAndFinish(r,t,n=!1){return this.parseFunctionBody(r,!1,n),this.finishNode(r,t)}parseFunctionBody(r,t,n=!1){let i=t&&!this.match(5);if(this.expressionScope.enter(Wy()),i)r.body=this.parseMaybeAssign(),this.checkParams(r,!1,t,!1);else{let s=this.state.strict,o=this.state.labels;this.state.labels=[],this.prodParam.enter(this.prodParam.currentFlags()|4),r.body=this.parseBlock(!0,!1,a=>{let l=!this.isSimpleParamList(r.params);a&&l&&this.raise(S.IllegalLanguageModeDirective,(r.kind==="method"||r.kind==="constructor")&&r.key?r.key.loc.end:r);let u=!s&&this.state.strict;this.checkParams(r,!this.state.strict&&!t&&!n&&!l,t,u),this.state.strict&&r.id&&this.checkIdentifier(r.id,65,u)}),this.prodParam.exit(),this.state.labels=o}this.expressionScope.exit()}isSimpleParameter(r){return r.type==="Identifier"}isSimpleParamList(r){for(let t=0,n=r.length;t<n;t++)if(!this.isSimpleParameter(r[t]))return!1;return!0}checkParams(r,t,n,i=!0){let s=!t&&new Set,o={type:"FormalParameters"};for(let a of r.params)this.checkLVal(a,o,5,s,i)}parseExprList(r,t,n,i){let s=[],o=!0;for(;!this.eat(r);){if(o)o=!1;else if(this.expect(12),this.match(r)){i&&this.addTrailingCommaExtraToNode(i),this.next();break}s.push(this.parseExprListItem(t,n))}return s}parseExprListItem(r,t,n){let i;if(this.match(12))r||this.raise(S.UnexpectedToken,this.state.curPosition(),{unexpected:","}),i=null;else if(this.match(21)){let s=this.state.startLoc;i=this.parseParenItem(this.parseSpread(t),s)}else if(this.match(17)){this.expectPlugin("partialApplication"),n||this.raise(S.UnexpectedArgumentPlaceholder,this.state.startLoc);let s=this.startNode();this.next(),i=this.finishNode(s,"ArgumentPlaceholder")}else i=this.parseMaybeAssignAllowIn(t,this.parseParenItem);return i}parseIdentifier(r){let t=this.startNode(),n=this.parseIdentifierName(r);return this.createIdentifier(t,n)}createIdentifier(r,t){return r.name=t,r.loc.identifierName=t,this.finishNode(r,"Identifier")}parseIdentifierName(r){let t,{startLoc:n,type:i}=this.state;gr(i)?t=this.state.value:this.unexpected();let s=cv(i);return r?s&&this.replaceToken(132):this.checkReservedWord(t,n,s,!1),this.next(),t}checkReservedWord(r,t,n,i){if(r.length>10||!Iv(r))return;if(n&&Av(r)){this.raise(S.UnexpectedKeyword,t,{keyword:r});return}if((this.state.strict?i?Ky:Uy:$y)(r,this.inModule)){this.raise(S.UnexpectedReservedWord,t,{reservedWord:r});return}else if(r==="yield"){if(this.prodParam.hasYield){this.raise(S.YieldBindingIdentifier,t);return}}else if(r==="await"){if(this.prodParam.hasAwait){this.raise(S.AwaitBindingIdentifier,t);return}if(this.scope.inStaticBlock){this.raise(S.AwaitBindingIdentifierInStaticBlock,t);return}this.expressionScope.recordAsyncArrowParametersError(t)}else if(r==="arguments"&&this.scope.inClassAndNotInNonArrowFunction){this.raise(S.ArgumentsInClass,t);return}}recordAwaitIfAllowed(){let r=this.prodParam.hasAwait||this.options.allowAwaitOutsideFunction&&!this.scope.inFunction;return r&&!this.scope.inFunction&&(this.state.hasTopLevelAwait=!0),r}parseAwait(r){let t=this.startNodeAt(r);return this.expressionScope.recordParameterInitializerError(S.AwaitExpressionFormalParameter,t),this.eat(55)&&this.raise(S.ObsoleteAwaitStar,t),!this.scope.inFunction&&!this.options.allowAwaitOutsideFunction&&(this.isAmbiguousAwait()?this.ambiguousScriptDifferentAst=!0:this.sawUnambiguousESM=!0),this.state.soloAwait||(t.argument=this.parseMaybeUnary(null,!0)),this.finishNode(t,"AwaitExpression")}isAmbiguousAwait(){if(this.hasPrecedingLineBreak())return!0;let{type:r}=this.state;return r===53||r===10||r===0||Pa(r)||r===102&&!this.state.containsEsc||r===137||r===56||this.hasPlugin("v8intrinsic")&&r===54}parseYield(){let r=this.startNode();this.expressionScope.recordParameterInitializerError(S.YieldInParameter,r),this.next();let t=!1,n=null;if(!this.hasPrecedingLineBreak())switch(t=this.eat(55),this.state.type){case 13:case 139:case 8:case 11:case 3:case 9:case 14:case 12:if(!t)break;default:n=this.parseMaybeAssign()}return r.delegate=t,r.argument=n,this.finishNode(r,"YieldExpression")}parseImportCall(r){return this.next(),r.source=this.parseMaybeAssignAllowIn(),(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))&&(r.options=null),this.eat(12)&&(this.hasPlugin("moduleAttributes")||this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes"),this.match(11)||(r.options=this.parseMaybeAssignAllowIn(),this.eat(12))),this.expect(11),this.finishNode(r,"ImportExpression")}checkPipelineAtInfixOperator(r,t){this.hasPlugin(["pipelineOperator",{proposal:"smart"}])&&r.type==="SequenceExpression"&&this.raise(S.PipelineHeadSequenceExpression,t)}parseSmartPipelineBodyInStyle(r,t){if(this.isSimpleReference(r)){let n=this.startNodeAt(t);return n.callee=r,this.finishNode(n,"PipelineBareFunction")}else{let n=this.startNodeAt(t);return this.checkSmartPipeTopicBodyEarlyErrors(t),n.expression=r,this.finishNode(n,"PipelineTopicExpression")}}isSimpleReference(r){switch(r.type){case"MemberExpression":return!r.computed&&this.isSimpleReference(r.object);case"Identifier":return!0;default:return!1}}checkSmartPipeTopicBodyEarlyErrors(r){if(this.match(19))throw this.raise(S.PipelineBodyNoArrow,this.state.startLoc);this.topicReferenceWasUsedInCurrentContext()||this.raise(S.PipelineTopicUnused,r)}withTopicBindingContext(r){let t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:1,maxTopicIndex:null};try{return r()}finally{this.state.topicContext=t}}withSmartMixTopicForbiddingContext(r){if(this.hasPlugin(["pipelineOperator",{proposal:"smart"}])){let t=this.state.topicContext;this.state.topicContext={maxNumOfResolvableTopics:0,maxTopicIndex:null};try{return r()}finally{this.state.topicContext=t}}else return r()}withSoloAwaitPermittingContext(r){let t=this.state.soloAwait;this.state.soloAwait=!0;try{return r()}finally{this.state.soloAwait=t}}allowInAnd(r){let t=this.prodParam.currentFlags();if(8&~t){this.prodParam.enter(t|8);try{return r()}finally{this.prodParam.exit()}}return r()}disallowInAnd(r){let t=this.prodParam.currentFlags();if(8&t){this.prodParam.enter(t&-9);try{return r()}finally{this.prodParam.exit()}}return r()}registerTopicReference(){this.state.topicContext.maxTopicIndex=0}topicReferenceIsAllowedInCurrentContext(){return this.state.topicContext.maxNumOfResolvableTopics>=1}topicReferenceWasUsedInCurrentContext(){return this.state.topicContext.maxTopicIndex!=null&&this.state.topicContext.maxTopicIndex>=0}parseFSharpPipelineBody(r){let t=this.state.startLoc;this.state.potentialArrowAt=this.state.start;let n=this.state.inFSharpPipelineDirectBody;this.state.inFSharpPipelineDirectBody=!0;let i=this.parseExprOp(this.parseMaybeUnaryOrPrivate(),t,r);return this.state.inFSharpPipelineDirectBody=n,i}parseModuleExpression(){this.expectPlugin("moduleBlocks");let r=this.startNode();this.next(),this.match(5)||this.unexpected(null,5);let t=this.startNodeAt(this.state.endLoc);this.next();let n=this.initializeScopes(!0);this.enterInitialScopes();try{r.body=this.parseProgram(t,8,"module")}finally{n()}return this.finishNode(r,"ModuleExpression")}parsePropertyNamePrefixOperator(r){}},yc={kind:1},lP={kind:2},uP=/[\uD800-\uDFFF]/u,Dc=/in(?:stanceof)?/y;function cP(e,r){for(let t=0;t<e.length;t++){let n=e[t],{type:i}=n;if(typeof i=="number"){{if(i===138){let{loc:s,start:o,value:a,end:l}=n,u=o+1,c=Nt(s.start,1);e.splice(t,1,new Lr({type:sn(27),value:"#",start:o,end:u,startLoc:s.start,endLoc:c}),new Lr({type:sn(132),value:a,start:u,end:l,startLoc:c,endLoc:s.end})),t++;continue}if(Pa(i)){let{loc:s,start:o,value:a,end:l}=n,u=o+1,c=Nt(s.start,1),p;r.charCodeAt(o)===96?p=new Lr({type:sn(22),value:"`",start:o,end:u,startLoc:s.start,endLoc:c}):p=new Lr({type:sn(8),value:"}",start:o,end:u,startLoc:s.start,endLoc:c});let d,f,m,h;i===24?(f=l-1,m=Nt(s.end,-1),d=a===null?null:a.slice(1,-1),h=new Lr({type:sn(22),value:"`",start:f,end:l,startLoc:m,endLoc:s.end})):(f=l-2,m=Nt(s.end,-2),d=a===null?null:a.slice(1,-2),h=new Lr({type:sn(23),value:"${",start:f,end:l,startLoc:m,endLoc:s.end})),e.splice(t,1,p,new Lr({type:sn(20),value:d,start:u,end:f,startLoc:c,endLoc:m}),h),t+=2;continue}}n.type=sn(i)}}return e}var Mc=class extends Bc{parseTopLevel(r,t){return r.program=this.parseProgram(t),r.comments=this.comments,this.options.tokens&&(r.tokens=cP(this.tokens,this.input)),this.finishNode(r,"File")}parseProgram(r,t=139,n=this.options.sourceType){if(r.sourceType=n,r.interpreter=this.parseInterpreterDirective(),this.parseBlockBody(r,!0,!0,t),this.inModule){if(!this.options.allowUndeclaredExports&&this.scope.undefinedExports.size>0)for(let[s,o]of Array.from(this.scope.undefinedExports))this.raise(S.ModuleExportUndefined,o,{localName:s});this.addExtra(r,"topLevelAwait",this.state.hasTopLevelAwait)}let i;return t===139?i=this.finishNode(r,"Program"):i=this.finishNodeAt(r,"Program",Nt(this.state.startLoc,-1)),i}stmtToDirective(r){let t=r;t.type="Directive",t.value=t.expression,delete t.expression;let n=t.value,i=n.value,s=this.input.slice(n.start,n.end),o=n.value=s.slice(1,-1);return this.addExtra(n,"raw",s),this.addExtra(n,"rawValue",o),this.addExtra(n,"expressionValue",i),n.type="DirectiveLiteral",t}parseInterpreterDirective(){if(!this.match(28))return null;let r=this.startNode();return r.value=this.state.value,this.next(),this.finishNode(r,"InterpreterDirective")}isLet(){return this.isContextual(100)?this.hasFollowingBindingAtom():!1}chStartsBindingIdentifier(r,t){if(an(r)){if(Dc.lastIndex=t,Dc.test(this.input)){let n=this.codePointAtPos(Dc.lastIndex);if(!$i(n)&&n!==92)return!1}return!0}else return r===92}chStartsBindingPattern(r){return r===91||r===123}hasFollowingBindingAtom(){let r=this.nextTokenStart(),t=this.codePointAtPos(r);return this.chStartsBindingPattern(t)||this.chStartsBindingIdentifier(t,r)}hasInLineFollowingBindingIdentifierOrBrace(){let r=this.nextTokenInLineStart(),t=this.codePointAtPos(r);return t===123||this.chStartsBindingIdentifier(t,r)}startsUsingForOf(){let{type:r,containsEsc:t}=this.lookahead();if(r===102&&!t)return!1;if(we(r)&&!this.hasFollowingLineBreak())return this.expectPlugin("explicitResourceManagement"),!0}startsAwaitUsing(){let r=this.nextTokenInLineStart();if(this.isUnparsedContextual(r,"using")){r=this.nextTokenInLineStartSince(r+5);let t=this.codePointAtPos(r);if(this.chStartsBindingIdentifier(t,r))return this.expectPlugin("explicitResourceManagement"),!0}return!1}parseModuleItem(){return this.parseStatementLike(15)}parseStatementListItem(){return this.parseStatementLike(6|(!this.options.annexB||this.state.strict?0:8))}parseStatementOrSloppyAnnexBFunctionDeclaration(r=!1){let t=0;return this.options.annexB&&!this.state.strict&&(t|=4,r&&(t|=8)),this.parseStatementLike(t)}parseStatement(){return this.parseStatementLike(0)}parseStatementLike(r){let t=null;return this.match(26)&&(t=this.parseDecorators(!0)),this.parseStatementContent(r,t)}parseStatementContent(r,t){let n=this.state.type,i=this.startNode(),s=!!(r&2),o=!!(r&4),a=r&1;switch(n){case 60:return this.parseBreakContinueStatement(i,!0);case 63:return this.parseBreakContinueStatement(i,!1);case 64:return this.parseDebuggerStatement(i);case 90:return this.parseDoWhileStatement(i);case 91:return this.parseForStatement(i);case 68:if(this.lookaheadCharCode()===46)break;return o||this.raise(this.state.strict?S.StrictFunction:this.options.annexB?S.SloppyFunctionAnnexB:S.SloppyFunction,this.state.startLoc),this.parseFunctionStatement(i,!1,!s&&o);case 80:return s||this.unexpected(),this.parseClass(this.maybeTakeDecorators(t,i),!0);case 69:return this.parseIfStatement(i);case 70:return this.parseReturnStatement(i);case 71:return this.parseSwitchStatement(i);case 72:return this.parseThrowStatement(i);case 73:return this.parseTryStatement(i);case 96:if(!this.state.containsEsc&&this.startsAwaitUsing())return this.recordAwaitIfAllowed()?s||this.raise(S.UnexpectedLexicalDeclaration,i):this.raise(S.AwaitUsingNotInAsyncContext,i),this.next(),this.parseVarStatement(i,"await using");break;case 107:if(this.state.containsEsc||!this.hasInLineFollowingBindingIdentifierOrBrace())break;return this.expectPlugin("explicitResourceManagement"),!this.scope.inModule&&this.scope.inTopLevel?this.raise(S.UnexpectedUsingDeclaration,this.state.startLoc):s||this.raise(S.UnexpectedLexicalDeclaration,this.state.startLoc),this.parseVarStatement(i,"using");case 100:{if(this.state.containsEsc)break;let c=this.nextTokenStart(),p=this.codePointAtPos(c);if(p!==91&&(!s&&this.hasFollowingLineBreak()||!this.chStartsBindingIdentifier(p,c)&&p!==123))break}case 75:s||this.raise(S.UnexpectedLexicalDeclaration,this.state.startLoc);case 74:{let c=this.state.value;return this.parseVarStatement(i,c)}case 92:return this.parseWhileStatement(i);case 76:return this.parseWithStatement(i);case 5:return this.parseBlock();case 13:return this.parseEmptyStatement(i);case 83:{let c=this.lookaheadCharCode();if(c===40||c===46)break}case 82:{!this.options.allowImportExportEverywhere&&!a&&this.raise(S.UnexpectedImportExport,this.state.startLoc),this.next();let c;return n===83?(c=this.parseImport(i),c.type==="ImportDeclaration"&&(!c.importKind||c.importKind==="value")&&(this.sawUnambiguousESM=!0)):(c=this.parseExport(i,t),(c.type==="ExportNamedDeclaration"&&(!c.exportKind||c.exportKind==="value")||c.type==="ExportAllDeclaration"&&(!c.exportKind||c.exportKind==="value")||c.type==="ExportDefaultDeclaration")&&(this.sawUnambiguousESM=!0)),this.assertModuleNodeAllowed(c),c}default:if(this.isAsyncFunction())return s||this.raise(S.AsyncFunctionInSingleStatementContext,this.state.startLoc),this.next(),this.parseFunctionStatement(i,!0,!s&&o)}let l=this.state.value,u=this.parseExpression();return we(n)&&u.type==="Identifier"&&this.eat(14)?this.parseLabeledStatement(i,l,u,r):this.parseExpressionStatement(i,u,t)}assertModuleNodeAllowed(r){!this.options.allowImportExportEverywhere&&!this.inModule&&this.raise(S.ImportOutsideModule,r)}decoratorsEnabledBeforeExport(){return this.hasPlugin("decorators-legacy")?!0:this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")!==!1}maybeTakeDecorators(r,t,n){return r&&(t.decorators&&t.decorators.length>0?(typeof this.getPluginOption("decorators","decoratorsBeforeExport")!="boolean"&&this.raise(S.DecoratorsBeforeAfterExport,t.decorators[0]),t.decorators.unshift(...r)):t.decorators=r,this.resetStartLocationFromNode(t,r[0]),n&&this.resetStartLocationFromNode(n,t)),t}canHaveLeadingDecorator(){return this.match(80)}parseDecorators(r){let t=[];do t.push(this.parseDecorator());while(this.match(26));if(this.match(82))r||this.unexpected(),this.decoratorsEnabledBeforeExport()||this.raise(S.DecoratorExportClass,this.state.startLoc);else if(!this.canHaveLeadingDecorator())throw this.raise(S.UnexpectedLeadingDecorator,this.state.startLoc);return t}parseDecorator(){this.expectOnePlugin(["decorators","decorators-legacy"]);let r=this.startNode();if(this.next(),this.hasPlugin("decorators")){let t=this.state.startLoc,n;if(this.match(10)){let i=this.state.startLoc;this.next(),n=this.parseExpression(),this.expect(11),n=this.wrapParenthesis(i,n);let s=this.state.startLoc;r.expression=this.parseMaybeDecoratorArguments(n),this.getPluginOption("decorators","allowCallParenthesized")===!1&&r.expression!==n&&this.raise(S.DecoratorArgumentsOutsideParentheses,s)}else{for(n=this.parseIdentifier(!1);this.eat(16);){let i=this.startNodeAt(t);i.object=n,this.match(138)?(this.classScope.usePrivateName(this.state.value,this.state.startLoc),i.property=this.parsePrivateName()):i.property=this.parseIdentifier(!0),i.computed=!1,n=this.finishNode(i,"MemberExpression")}r.expression=this.parseMaybeDecoratorArguments(n)}}else r.expression=this.parseExprSubscripts();return this.finishNode(r,"Decorator")}parseMaybeDecoratorArguments(r){if(this.eat(10)){let t=this.startNodeAtNode(r);return t.callee=r,t.arguments=this.parseCallExpressionArguments(11,!1),this.toReferencedList(t.arguments),this.finishNode(t,"CallExpression")}return r}parseBreakContinueStatement(r,t){return this.next(),this.isLineTerminator()?r.label=null:(r.label=this.parseIdentifier(),this.semicolon()),this.verifyBreakContinue(r,t),this.finishNode(r,t?"BreakStatement":"ContinueStatement")}verifyBreakContinue(r,t){let n;for(n=0;n<this.state.labels.length;++n){let i=this.state.labels[n];if((r.label==null||i.name===r.label.name)&&(i.kind!=null&&(t||i.kind===1)||r.label&&t))break}if(n===this.state.labels.length){let i=t?"BreakStatement":"ContinueStatement";this.raise(S.IllegalBreakContinue,r,{type:i})}}parseDebuggerStatement(r){return this.next(),this.semicolon(),this.finishNode(r,"DebuggerStatement")}parseHeaderExpression(){this.expect(10);let r=this.parseExpression();return this.expect(11),r}parseDoWhileStatement(r){return this.next(),this.state.labels.push(yc),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.expect(92),r.test=this.parseHeaderExpression(),this.eat(13),this.finishNode(r,"DoWhileStatement")}parseForStatement(r){this.next(),this.state.labels.push(yc);let t=null;if(this.isContextual(96)&&this.recordAwaitIfAllowed()&&(t=this.state.startLoc,this.next()),this.scope.enter(0),this.expect(10),this.match(13))return t!==null&&this.unexpected(t),this.parseFor(r,null);let n=this.isContextual(100);{let l=this.isContextual(96)&&this.startsAwaitUsing(),u=l||this.isContextual(107)&&this.startsUsingForOf(),c=n&&this.hasFollowingBindingAtom()||u;if(this.match(74)||this.match(75)||c){let p=this.startNode(),d;l?(d="await using",this.recordAwaitIfAllowed()||this.raise(S.AwaitUsingNotInAsyncContext,this.state.startLoc),this.next()):d=this.state.value,this.next(),this.parseVar(p,!0,d);let f=this.finishNode(p,"VariableDeclaration"),m=this.match(58);return m&&u&&this.raise(S.ForInUsing,f),(m||this.isContextual(102))&&f.declarations.length===1?this.parseForIn(r,f,t):(t!==null&&this.unexpected(t),this.parseFor(r,f))}}let i=this.isContextual(95),s=new ji,o=this.parseExpression(!0,s),a=this.isContextual(102);if(a&&(n&&this.raise(S.ForOfLet,o),t===null&&i&&o.type==="Identifier"&&this.raise(S.ForOfAsync,o)),a||this.match(58)){this.checkDestructuringPrivate(s),this.toAssignable(o,!0);let l=a?"ForOfStatement":"ForInStatement";return this.checkLVal(o,{type:l}),this.parseForIn(r,o,t)}else this.checkExpressionErrors(s,!0);return t!==null&&this.unexpected(t),this.parseFor(r,o)}parseFunctionStatement(r,t,n){return this.next(),this.parseFunction(r,1|(n?2:0)|(t?8:0))}parseIfStatement(r){return this.next(),r.test=this.parseHeaderExpression(),r.consequent=this.parseStatementOrSloppyAnnexBFunctionDeclaration(),r.alternate=this.eat(66)?this.parseStatementOrSloppyAnnexBFunctionDeclaration():null,this.finishNode(r,"IfStatement")}parseReturnStatement(r){return!this.prodParam.hasReturn&&!this.options.allowReturnOutsideFunction&&this.raise(S.IllegalReturn,this.state.startLoc),this.next(),this.isLineTerminator()?r.argument=null:(r.argument=this.parseExpression(),this.semicolon()),this.finishNode(r,"ReturnStatement")}parseSwitchStatement(r){this.next(),r.discriminant=this.parseHeaderExpression();let t=r.cases=[];this.expect(5),this.state.labels.push(lP),this.scope.enter(0);let n;for(let i;!this.match(8);)if(this.match(61)||this.match(65)){let s=this.match(61);n&&this.finishNode(n,"SwitchCase"),t.push(n=this.startNode()),n.consequent=[],this.next(),s?n.test=this.parseExpression():(i&&this.raise(S.MultipleDefaultsInSwitch,this.state.lastTokStartLoc),i=!0,n.test=null),this.expect(14)}else n?n.consequent.push(this.parseStatementListItem()):this.unexpected();return this.scope.exit(),n&&this.finishNode(n,"SwitchCase"),this.next(),this.state.labels.pop(),this.finishNode(r,"SwitchStatement")}parseThrowStatement(r){return this.next(),this.hasPrecedingLineBreak()&&this.raise(S.NewlineAfterThrow,this.state.lastTokEndLoc),r.argument=this.parseExpression(),this.semicolon(),this.finishNode(r,"ThrowStatement")}parseCatchClauseParam(){let r=this.parseBindingAtom();return this.scope.enter(this.options.annexB&&r.type==="Identifier"?8:0),this.checkLVal(r,{type:"CatchClause"},9),r}parseTryStatement(r){if(this.next(),r.block=this.parseBlock(),r.handler=null,this.match(62)){let t=this.startNode();this.next(),this.match(10)?(this.expect(10),t.param=this.parseCatchClauseParam(),this.expect(11)):(t.param=null,this.scope.enter(0)),t.body=this.withSmartMixTopicForbiddingContext(()=>this.parseBlock(!1,!1)),this.scope.exit(),r.handler=this.finishNode(t,"CatchClause")}return r.finalizer=this.eat(67)?this.parseBlock():null,!r.handler&&!r.finalizer&&this.raise(S.NoCatchOrFinally,r),this.finishNode(r,"TryStatement")}parseVarStatement(r,t,n=!1){return this.next(),this.parseVar(r,!1,t,n),this.semicolon(),this.finishNode(r,"VariableDeclaration")}parseWhileStatement(r){return this.next(),r.test=this.parseHeaderExpression(),this.state.labels.push(yc),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.state.labels.pop(),this.finishNode(r,"WhileStatement")}parseWithStatement(r){return this.state.strict&&this.raise(S.StrictWith,this.state.startLoc),this.next(),r.object=this.parseHeaderExpression(),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.finishNode(r,"WithStatement")}parseEmptyStatement(r){return this.next(),this.finishNode(r,"EmptyStatement")}parseLabeledStatement(r,t,n,i){for(let o of this.state.labels)o.name===t&&this.raise(S.LabelRedeclaration,n,{labelName:t});let s=fv(this.state.type)?1:this.match(71)?2:null;for(let o=this.state.labels.length-1;o>=0;o--){let a=this.state.labels[o];if(a.statementStart===r.start)a.statementStart=this.state.start,a.kind=s;else break}return this.state.labels.push({name:t,kind:s,statementStart:this.state.start}),r.body=i&8?this.parseStatementOrSloppyAnnexBFunctionDeclaration(!0):this.parseStatement(),this.state.labels.pop(),r.label=n,this.finishNode(r,"LabeledStatement")}parseExpressionStatement(r,t,n){return r.expression=t,this.semicolon(),this.finishNode(r,"ExpressionStatement")}parseBlock(r=!1,t=!0,n){let i=this.startNode();return r&&this.state.strictErrors.clear(),this.expect(5),t&&this.scope.enter(0),this.parseBlockBody(i,r,!1,8,n),t&&this.scope.exit(),this.finishNode(i,"BlockStatement")}isValidDirective(r){return r.type==="ExpressionStatement"&&r.expression.type==="StringLiteral"&&!r.expression.extra.parenthesized}parseBlockBody(r,t,n,i,s){let o=r.body=[],a=r.directives=[];this.parseBlockOrModuleBlockBody(o,t?a:void 0,n,i,s)}parseBlockOrModuleBlockBody(r,t,n,i,s){let o=this.state.strict,a=!1,l=!1;for(;!this.match(i);){let u=n?this.parseModuleItem():this.parseStatementListItem();if(t&&!l){if(this.isValidDirective(u)){let c=this.stmtToDirective(u);t.push(c),!a&&c.value.value==="use strict"&&(a=!0,this.setStrict(!0));continue}l=!0,this.state.strictErrors.clear()}r.push(u)}s?.call(this,a),o||this.setStrict(!1),this.next()}parseFor(r,t){return r.init=t,this.semicolon(!1),r.test=this.match(13)?null:this.parseExpression(),this.semicolon(!1),r.update=this.match(11)?null:this.parseExpression(),this.expect(11),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(r,"ForStatement")}parseForIn(r,t,n){let i=this.match(58);return this.next(),i?n!==null&&this.unexpected(n):r.await=n!==null,t.type==="VariableDeclaration"&&t.declarations[0].init!=null&&(!i||!this.options.annexB||this.state.strict||t.kind!=="var"||t.declarations[0].id.type!=="Identifier")&&this.raise(S.ForInOfLoopInitializer,t,{type:i?"ForInStatement":"ForOfStatement"}),t.type==="AssignmentPattern"&&this.raise(S.InvalidLhs,t,{ancestor:{type:"ForStatement"}}),r.left=t,r.right=i?this.parseExpression():this.parseMaybeAssignAllowIn(),this.expect(11),r.body=this.withSmartMixTopicForbiddingContext(()=>this.parseStatement()),this.scope.exit(),this.state.labels.pop(),this.finishNode(r,i?"ForInStatement":"ForOfStatement")}parseVar(r,t,n,i=!1){let s=r.declarations=[];for(r.kind=n;;){let o=this.startNode();if(this.parseVarId(o,n),o.init=this.eat(29)?t?this.parseMaybeAssignDisallowIn():this.parseMaybeAssignAllowIn():null,o.init===null&&!i&&(o.id.type!=="Identifier"&&!(t&&(this.match(58)||this.isContextual(102)))?this.raise(S.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:"destructuring"}):(n==="const"||n==="using"||n==="await using")&&!(this.match(58)||this.isContextual(102))&&this.raise(S.DeclarationMissingInitializer,this.state.lastTokEndLoc,{kind:n})),s.push(this.finishNode(o,"VariableDeclarator")),!this.eat(12))break}return r}parseVarId(r,t){let n=this.parseBindingAtom();(t==="using"||t==="await using")&&(n.type==="ArrayPattern"||n.type==="ObjectPattern")&&this.raise(S.UsingDeclarationHasBindingPattern,n.loc.start),this.checkLVal(n,{type:"VariableDeclarator"},t==="var"?5:8201),r.id=n}parseAsyncFunctionExpression(r){return this.parseFunction(r,8)}parseFunction(r,t=0){let n=t&2,i=!!(t&1),s=i&&!(t&4),o=!!(t&8);this.initFunction(r,o),this.match(55)&&(n&&this.raise(S.GeneratorInSingleStatementContext,this.state.startLoc),this.next(),r.generator=!0),i&&(r.id=this.parseFunctionId(s));let a=this.state.maybeInArrowParameters;return this.state.maybeInArrowParameters=!1,this.scope.enter(2),this.prodParam.enter(Aa(o,r.generator)),i||(r.id=this.parseFunctionId()),this.parseFunctionParams(r,!1),this.withSmartMixTopicForbiddingContext(()=>{this.parseFunctionBodyAndFinish(r,i?"FunctionDeclaration":"FunctionExpression")}),this.prodParam.exit(),this.scope.exit(),i&&!n&&this.registerFunctionStatementId(r),this.state.maybeInArrowParameters=a,r}parseFunctionId(r){return r||we(this.state.type)?this.parseIdentifier():null}parseFunctionParams(r,t){this.expect(10),this.expressionScope.enter(Bv()),r.params=this.parseBindingList(11,41,2|(t?4:0)),this.expressionScope.exit()}registerFunctionStatementId(r){r.id&&this.scope.declareName(r.id.name,!this.options.annexB||this.state.strict||r.generator||r.async?this.scope.treatFunctionsAsVar?5:8201:17,r.id.loc.start)}parseClass(r,t,n){this.next();let i=this.state.strict;return this.state.strict=!0,this.parseClassId(r,t,n),this.parseClassSuper(r),r.body=this.parseClassBody(!!r.superClass,i),this.finishNode(r,t?"ClassDeclaration":"ClassExpression")}isClassProperty(){return this.match(29)||this.match(13)||this.match(8)}isClassMethod(){return this.match(10)}nameIsConstructor(r){return r.type==="Identifier"&&r.name==="constructor"||r.type==="StringLiteral"&&r.value==="constructor"}isNonstaticConstructor(r){return!r.computed&&!r.static&&this.nameIsConstructor(r.key)}parseClassBody(r,t){this.classScope.enter();let n={hadConstructor:!1,hadSuperClass:r},i=[],s=this.startNode();if(s.body=[],this.expect(5),this.withSmartMixTopicForbiddingContext(()=>{for(;!this.match(8);){if(this.eat(13)){if(i.length>0)throw this.raise(S.DecoratorSemicolon,this.state.lastTokEndLoc);continue}if(this.match(26)){i.push(this.parseDecorator());continue}let o=this.startNode();i.length&&(o.decorators=i,this.resetStartLocationFromNode(o,i[0]),i=[]),this.parseClassMember(s,o,n),o.kind==="constructor"&&o.decorators&&o.decorators.length>0&&this.raise(S.DecoratorConstructor,o)}}),this.state.strict=t,this.next(),i.length)throw this.raise(S.TrailingDecorator,this.state.startLoc);return this.classScope.exit(),this.finishNode(s,"ClassBody")}parseClassMemberFromModifier(r,t){let n=this.parseIdentifier(!0);if(this.isClassMethod()){let i=t;return i.kind="method",i.computed=!1,i.key=n,i.static=!1,this.pushClassMethod(r,i,!1,!1,!1,!1),!0}else if(this.isClassProperty()){let i=t;return i.computed=!1,i.key=n,i.static=!1,r.body.push(this.parseClassProperty(i)),!0}return this.resetPreviousNodeTrailingComments(n),!1}parseClassMember(r,t,n){let i=this.isContextual(106);if(i){if(this.parseClassMemberFromModifier(r,t))return;if(this.eat(5)){this.parseClassStaticBlock(r,t);return}}this.parseClassMemberWithIsStatic(r,t,n,i)}parseClassMemberWithIsStatic(r,t,n,i){let s=t,o=t,a=t,l=t,u=t,c=s,p=s;if(t.static=i,this.parsePropertyNamePrefixOperator(t),this.eat(55)){c.kind="method";let y=this.match(138);if(this.parseClassElementName(c),y){this.pushClassPrivateMethod(r,o,!0,!1);return}this.isNonstaticConstructor(s)&&this.raise(S.ConstructorIsGenerator,s.key),this.pushClassMethod(r,s,!0,!1,!1,!1);return}let d=!this.state.containsEsc&&we(this.state.type),f=this.parseClassElementName(t),m=d?f.name:null,h=this.isPrivateName(f),g=this.state.startLoc;if(this.parsePostMemberNameModifiers(p),this.isClassMethod()){if(c.kind="method",h){this.pushClassPrivateMethod(r,o,!1,!1);return}let y=this.isNonstaticConstructor(s),D=!1;y&&(s.kind="constructor",n.hadConstructor&&!this.hasPlugin("typescript")&&this.raise(S.DuplicateConstructor,f),y&&this.hasPlugin("typescript")&&t.override&&this.raise(S.OverrideOnConstructor,f),n.hadConstructor=!0,D=n.hadSuperClass),this.pushClassMethod(r,s,!1,!1,y,D)}else if(this.isClassProperty())h?this.pushClassPrivateProperty(r,l):this.pushClassProperty(r,a);else if(m==="async"&&!this.isLineTerminator()){this.resetPreviousNodeTrailingComments(f);let y=this.eat(55);p.optional&&this.unexpected(g),c.kind="method";let D=this.match(138);this.parseClassElementName(c),this.parsePostMemberNameModifiers(p),D?this.pushClassPrivateMethod(r,o,y,!0):(this.isNonstaticConstructor(s)&&this.raise(S.ConstructorIsAsync,s.key),this.pushClassMethod(r,s,y,!0,!1,!1))}else if((m==="get"||m==="set")&&!(this.match(55)&&this.isLineTerminator())){this.resetPreviousNodeTrailingComments(f),c.kind=m;let y=this.match(138);this.parseClassElementName(s),y?this.pushClassPrivateMethod(r,o,!1,!1):(this.isNonstaticConstructor(s)&&this.raise(S.ConstructorIsAccessor,s.key),this.pushClassMethod(r,s,!1,!1,!1,!1)),this.checkGetterSetterParams(s)}else if(m==="accessor"&&!this.isLineTerminator()){this.expectPlugin("decoratorAutoAccessors"),this.resetPreviousNodeTrailingComments(f);let y=this.match(138);this.parseClassElementName(a),this.pushClassAccessorProperty(r,u,y)}else this.isLineTerminator()?h?this.pushClassPrivateProperty(r,l):this.pushClassProperty(r,a):this.unexpected()}parseClassElementName(r){let{type:t,value:n}=this.state;if((t===132||t===133)&&r.static&&n==="prototype"&&this.raise(S.StaticPrototype,this.state.startLoc),t===138){n==="constructor"&&this.raise(S.ConstructorClassPrivateField,this.state.startLoc);let i=this.parsePrivateName();return r.key=i,i}return this.parsePropertyName(r),r.key}parseClassStaticBlock(r,t){var n;this.scope.enter(208);let i=this.state.labels;this.state.labels=[],this.prodParam.enter(0);let s=t.body=[];this.parseBlockOrModuleBlockBody(s,void 0,!1,8),this.prodParam.exit(),this.scope.exit(),this.state.labels=i,r.body.push(this.finishNode(t,"StaticBlock")),(n=t.decorators)!=null&&n.length&&this.raise(S.DecoratorStaticBlock,t)}pushClassProperty(r,t){!t.computed&&this.nameIsConstructor(t.key)&&this.raise(S.ConstructorClassField,t.key),r.body.push(this.parseClassProperty(t))}pushClassPrivateProperty(r,t){let n=this.parseClassPrivateProperty(t);r.body.push(n),this.classScope.declarePrivateName(this.getPrivateNameSV(n.key),0,n.key.loc.start)}pushClassAccessorProperty(r,t,n){!n&&!t.computed&&this.nameIsConstructor(t.key)&&this.raise(S.ConstructorClassField,t.key);let i=this.parseClassAccessorProperty(t);r.body.push(i),n&&this.classScope.declarePrivateName(this.getPrivateNameSV(i.key),0,i.key.loc.start)}pushClassMethod(r,t,n,i,s,o){r.body.push(this.parseMethod(t,n,i,s,o,"ClassMethod",!0))}pushClassPrivateMethod(r,t,n,i){let s=this.parseMethod(t,n,i,!1,!1,"ClassPrivateMethod",!0);r.body.push(s);let o=s.kind==="get"?s.static?6:2:s.kind==="set"?s.static?5:1:0;this.declareClassPrivateMethodInScope(s,o)}declareClassPrivateMethodInScope(r,t){this.classScope.declarePrivateName(this.getPrivateNameSV(r.key),t,r.key.loc.start)}parsePostMemberNameModifiers(r){}parseClassPrivateProperty(r){return this.parseInitializer(r),this.semicolon(),this.finishNode(r,"ClassPrivateProperty")}parseClassProperty(r){return this.parseInitializer(r),this.semicolon(),this.finishNode(r,"ClassProperty")}parseClassAccessorProperty(r){return this.parseInitializer(r),this.semicolon(),this.finishNode(r,"ClassAccessorProperty")}parseInitializer(r){this.scope.enter(80),this.expressionScope.enter(Wy()),this.prodParam.enter(0),r.value=this.eat(29)?this.parseMaybeAssignAllowIn():null,this.expressionScope.exit(),this.prodParam.exit(),this.scope.exit()}parseClassId(r,t,n,i=8331){if(we(this.state.type))r.id=this.parseIdentifier(),t&&this.declareNameFromIdentifier(r.id,i);else if(n||!t)r.id=null;else throw this.raise(S.MissingClassName,this.state.startLoc)}parseClassSuper(r){r.superClass=this.eat(81)?this.parseExprSubscripts():null}parseExport(r,t){let n=this.parseMaybeImportPhase(r,!0),i=this.maybeParseExportDefaultSpecifier(r,n),s=!i||this.eat(12),o=s&&this.eatExportStar(r),a=o&&this.maybeParseExportNamespaceSpecifier(r),l=s&&(!a||this.eat(12)),u=i||o;if(o&&!a){if(i&&this.unexpected(),t)throw this.raise(S.UnsupportedDecoratorExport,r);return this.parseExportFrom(r,!0),this.finishNode(r,"ExportAllDeclaration")}let c=this.maybeParseExportNamedSpecifiers(r);i&&s&&!o&&!c&&this.unexpected(null,5),a&&l&&this.unexpected(null,98);let p;if(u||c){if(p=!1,t)throw this.raise(S.UnsupportedDecoratorExport,r);this.parseExportFrom(r,u)}else p=this.maybeParseExportDeclaration(r);if(u||c||p){var d;let f=r;if(this.checkExport(f,!0,!1,!!f.source),((d=f.declaration)==null?void 0:d.type)==="ClassDeclaration")this.maybeTakeDecorators(t,f.declaration,f);else if(t)throw this.raise(S.UnsupportedDecoratorExport,r);return this.finishNode(f,"ExportNamedDeclaration")}if(this.eat(65)){let f=r,m=this.parseExportDefaultExpression();if(f.declaration=m,m.type==="ClassDeclaration")this.maybeTakeDecorators(t,m,f);else if(t)throw this.raise(S.UnsupportedDecoratorExport,r);return this.checkExport(f,!0,!0),this.finishNode(f,"ExportDefaultDeclaration")}this.unexpected(null,5)}eatExportStar(r){return this.eat(55)}maybeParseExportDefaultSpecifier(r,t){if(t||this.isExportDefaultSpecifier()){this.expectPlugin("exportDefaultFrom",t?.loc.start);let n=t||this.parseIdentifier(!0),i=this.startNodeAtNode(n);return i.exported=n,r.specifiers=[this.finishNode(i,"ExportDefaultSpecifier")],!0}return!1}maybeParseExportNamespaceSpecifier(r){if(this.isContextual(93)){var t,n;(n=(t=r).specifiers)!=null||(t.specifiers=[]);let i=this.startNodeAt(this.state.lastTokStartLoc);return this.next(),i.exported=this.parseModuleExportName(),r.specifiers.push(this.finishNode(i,"ExportNamespaceSpecifier")),!0}return!1}maybeParseExportNamedSpecifiers(r){if(this.match(5)){let t=r;t.specifiers||(t.specifiers=[]);let n=t.exportKind==="type";return t.specifiers.push(...this.parseExportSpecifiers(n)),t.source=null,t.declaration=null,this.hasPlugin("importAssertions")&&(t.assertions=[]),!0}return!1}maybeParseExportDeclaration(r){return this.shouldParseExportDeclaration()?(r.specifiers=[],r.source=null,this.hasPlugin("importAssertions")&&(r.assertions=[]),r.declaration=this.parseExportDeclaration(r),!0):!1}isAsyncFunction(){if(!this.isContextual(95))return!1;let r=this.nextTokenInLineStart();return this.isUnparsedContextual(r,"function")}parseExportDefaultExpression(){let r=this.startNode();if(this.match(68))return this.next(),this.parseFunction(r,5);if(this.isAsyncFunction())return this.next(),this.next(),this.parseFunction(r,13);if(this.match(80))return this.parseClass(r,!0,!0);if(this.match(26))return this.hasPlugin("decorators")&&this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(S.DecoratorBeforeExport,this.state.startLoc),this.parseClass(this.maybeTakeDecorators(this.parseDecorators(!1),this.startNode()),!0,!0);if(this.match(75)||this.match(74)||this.isLet())throw this.raise(S.UnsupportedDefaultExport,this.state.startLoc);let t=this.parseMaybeAssignAllowIn();return this.semicolon(),t}parseExportDeclaration(r){return this.match(80)?this.parseClass(this.startNode(),!0,!1):this.parseStatementListItem()}isExportDefaultSpecifier(){let{type:r}=this.state;if(we(r)){if(r===95&&!this.state.containsEsc||r===100)return!1;if((r===130||r===129)&&!this.state.containsEsc){let{type:i}=this.lookahead();if(we(i)&&i!==98||i===5)return this.expectOnePlugin(["flow","typescript"]),!1}}else if(!this.match(65))return!1;let t=this.nextTokenStart(),n=this.isUnparsedContextual(t,"from");if(this.input.charCodeAt(t)===44||we(this.state.type)&&n)return!0;if(this.match(65)&&n){let i=this.input.charCodeAt(this.nextTokenStartSince(t+4));return i===34||i===39}return!1}parseExportFrom(r,t){this.eatContextual(98)?(r.source=this.parseImportSource(),this.checkExport(r),this.maybeParseImportAttributes(r),this.checkJSONModuleImport(r)):t&&this.unexpected(),this.semicolon()}shouldParseExportDeclaration(){let{type:r}=this.state;return r===26&&(this.expectOnePlugin(["decorators","decorators-legacy"]),this.hasPlugin("decorators"))?(this.getPluginOption("decorators","decoratorsBeforeExport")===!0&&this.raise(S.DecoratorBeforeExport,this.state.startLoc),!0):this.isContextual(107)?(this.raise(S.UsingDeclarationExport,this.state.startLoc),!0):this.isContextual(96)&&this.startsAwaitUsing()?(this.raise(S.UsingDeclarationExport,this.state.startLoc),!0):r===74||r===75||r===68||r===80||this.isLet()||this.isAsyncFunction()}checkExport(r,t,n,i){if(t){var s;if(n){if(this.checkDuplicateExports(r,"default"),this.hasPlugin("exportDefaultFrom")){var o;let a=r.declaration;a.type==="Identifier"&&a.name==="from"&&a.end-a.start===4&&!((o=a.extra)!=null&&o.parenthesized)&&this.raise(S.ExportDefaultFromAsIdentifier,a)}}else if((s=r.specifiers)!=null&&s.length)for(let a of r.specifiers){let{exported:l}=a,u=l.type==="Identifier"?l.name:l.value;if(this.checkDuplicateExports(a,u),!i&&a.local){let{local:c}=a;c.type!=="Identifier"?this.raise(S.ExportBindingIsString,a,{localName:c.value,exportName:u}):(this.checkReservedWord(c.name,c.loc.start,!0,!1),this.scope.checkLocalExport(c))}}else if(r.declaration){let a=r.declaration;if(a.type==="FunctionDeclaration"||a.type==="ClassDeclaration"){let{id:l}=a;if(!l)throw new Error("Assertion failure");this.checkDuplicateExports(r,l.name)}else if(a.type==="VariableDeclaration")for(let l of a.declarations)this.checkDeclaration(l.id)}}}checkDeclaration(r){if(r.type==="Identifier")this.checkDuplicateExports(r,r.name);else if(r.type==="ObjectPattern")for(let t of r.properties)this.checkDeclaration(t);else if(r.type==="ArrayPattern")for(let t of r.elements)t&&this.checkDeclaration(t);else r.type==="ObjectProperty"?this.checkDeclaration(r.value):r.type==="RestElement"?this.checkDeclaration(r.argument):r.type==="AssignmentPattern"&&this.checkDeclaration(r.left)}checkDuplicateExports(r,t){this.exportedIdentifiers.has(t)&&(t==="default"?this.raise(S.DuplicateDefaultExport,r):this.raise(S.DuplicateExport,r,{exportName:t})),this.exportedIdentifiers.add(t)}parseExportSpecifiers(r){let t=[],n=!0;for(this.expect(5);!this.eat(8);){if(n)n=!1;else if(this.expect(12),this.eat(8))break;let i=this.isContextual(130),s=this.match(133),o=this.startNode();o.local=this.parseModuleExportName(),t.push(this.parseExportSpecifier(o,s,r,i))}return t}parseExportSpecifier(r,t,n,i){return this.eatContextual(93)?r.exported=this.parseModuleExportName():t?r.exported=jv(r.local):r.exported||(r.exported=un(r.local)),this.finishNode(r,"ExportSpecifier")}parseModuleExportName(){if(this.match(133)){let r=this.parseStringLiteral(this.state.value),t=uP.exec(r.value);return t&&this.raise(S.ModuleExportNameHasLoneSurrogate,r,{surrogateCharCode:t[0].charCodeAt(0)}),r}return this.parseIdentifier(!0)}isJSONModuleImport(r){return r.assertions!=null?r.assertions.some(({key:t,value:n})=>n.value==="json"&&(t.type==="Identifier"?t.name==="type":t.value==="type")):!1}checkImportReflection(r){let{specifiers:t}=r,n=t.length===1?t[0].type:null;if(r.phase==="source")n!=="ImportDefaultSpecifier"&&this.raise(S.SourcePhaseImportRequiresDefault,t[0].loc.start);else if(r.phase==="defer")n!=="ImportNamespaceSpecifier"&&this.raise(S.DeferImportRequiresNamespace,t[0].loc.start);else if(r.module){var i;n!=="ImportDefaultSpecifier"&&this.raise(S.ImportReflectionNotBinding,t[0].loc.start),((i=r.assertions)==null?void 0:i.length)>0&&this.raise(S.ImportReflectionHasAssertion,t[0].loc.start)}}checkJSONModuleImport(r){if(this.isJSONModuleImport(r)&&r.type!=="ExportAllDeclaration"){let{specifiers:t}=r;if(t!=null){let n=t.find(i=>{let s;if(i.type==="ExportSpecifier"?s=i.local:i.type==="ImportSpecifier"&&(s=i.imported),s!==void 0)return s.type==="Identifier"?s.name!=="default":s.value!=="default"});n!==void 0&&this.raise(S.ImportJSONBindingNotDefault,n.loc.start)}}}isPotentialImportPhase(r){return r?!1:this.isContextual(105)||this.isContextual(97)||this.isContextual(127)}applyImportPhase(r,t,n,i){t||(n==="module"?(this.expectPlugin("importReflection",i),r.module=!0):this.hasPlugin("importReflection")&&(r.module=!1),n==="source"?(this.expectPlugin("sourcePhaseImports",i),r.phase="source"):n==="defer"?(this.expectPlugin("deferredImportEvaluation",i),r.phase="defer"):this.hasPlugin("sourcePhaseImports")&&(r.phase=null))}parseMaybeImportPhase(r,t){if(!this.isPotentialImportPhase(t))return this.applyImportPhase(r,t,null),null;let n=this.parseIdentifier(!0),{type:i}=this.state;return(gr(i)?i!==98||this.lookaheadCharCode()===102:i!==12)?(this.resetPreviousIdentifierLeadingComments(n),this.applyImportPhase(r,t,n.name,n.loc.start),null):(this.applyImportPhase(r,t,null),n)}isPrecedingIdImportPhase(r){let{type:t}=this.state;return we(t)?t!==98||this.lookaheadCharCode()===102:t!==12}parseImport(r){return this.match(133)?this.parseImportSourceAndAttributes(r):this.parseImportSpecifiersAndAfter(r,this.parseMaybeImportPhase(r,!1))}parseImportSpecifiersAndAfter(r,t){r.specifiers=[];let i=!this.maybeParseDefaultImportSpecifier(r,t)||this.eat(12),s=i&&this.maybeParseStarImportSpecifier(r);return i&&!s&&this.parseNamedImportSpecifiers(r),this.expectContextual(98),this.parseImportSourceAndAttributes(r)}parseImportSourceAndAttributes(r){var t;return(t=r.specifiers)!=null||(r.specifiers=[]),r.source=this.parseImportSource(),this.maybeParseImportAttributes(r),this.checkImportReflection(r),this.checkJSONModuleImport(r),this.semicolon(),this.finishNode(r,"ImportDeclaration")}parseImportSource(){return this.match(133)||this.unexpected(),this.parseExprAtom()}parseImportSpecifierLocal(r,t,n){t.local=this.parseIdentifier(),r.specifiers.push(this.finishImportSpecifier(t,n))}finishImportSpecifier(r,t,n=8201){return this.checkLVal(r.local,{type:t},n),this.finishNode(r,t)}parseImportAttributes(){this.expect(5);let r=[],t=new Set;do{if(this.match(8))break;let n=this.startNode(),i=this.state.value;if(t.has(i)&&this.raise(S.ModuleAttributesWithDuplicateKeys,this.state.startLoc,{key:i}),t.add(i),this.match(133)?n.key=this.parseStringLiteral(i):n.key=this.parseIdentifier(!0),this.expect(14),!this.match(133))throw this.raise(S.ModuleAttributeInvalidValue,this.state.startLoc);n.value=this.parseStringLiteral(this.state.value),r.push(this.finishNode(n,"ImportAttribute"))}while(this.eat(12));return this.expect(8),r}parseModuleAttributes(){let r=[],t=new Set;do{let n=this.startNode();if(n.key=this.parseIdentifier(!0),n.key.name!=="type"&&this.raise(S.ModuleAttributeDifferentFromType,n.key),t.has(n.key.name)&&this.raise(S.ModuleAttributesWithDuplicateKeys,n.key,{key:n.key.name}),t.add(n.key.name),this.expect(14),!this.match(133))throw this.raise(S.ModuleAttributeInvalidValue,this.state.startLoc);n.value=this.parseStringLiteral(this.state.value),r.push(this.finishNode(n,"ImportAttribute"))}while(this.eat(12));return r}maybeParseImportAttributes(r){let t;var n=!1;if(this.match(76)){if(this.hasPrecedingLineBreak()&&this.lookaheadCharCode()===40)return;this.next(),this.hasPlugin("moduleAttributes")?t=this.parseModuleAttributes():(this.hasPlugin("importAssertions")||this.expectPlugin("importAttributes"),t=this.parseImportAttributes()),n=!0}else if(this.isContextual(94)&&!this.hasPrecedingLineBreak())this.hasPlugin("importAttributes")?(this.getPluginOption("importAttributes","deprecatedAssertSyntax")!==!0&&this.raise(S.ImportAttributesUseAssert,this.state.startLoc),this.addExtra(r,"deprecatedAssertSyntax",!0)):this.expectOnePlugin(["importAttributes","importAssertions"]),this.next(),t=this.parseImportAttributes();else if(this.hasPlugin("importAttributes")||this.hasPlugin("importAssertions"))t=[];else if(this.hasPlugin("moduleAttributes"))t=[];else return;!n&&this.hasPlugin("importAssertions")?r.assertions=t:r.attributes=t}maybeParseDefaultImportSpecifier(r,t){if(t){let n=this.startNodeAtNode(t);return n.local=t,r.specifiers.push(this.finishImportSpecifier(n,"ImportDefaultSpecifier")),!0}else if(gr(this.state.type))return this.parseImportSpecifierLocal(r,this.startNode(),"ImportDefaultSpecifier"),!0;return!1}maybeParseStarImportSpecifier(r){if(this.match(55)){let t=this.startNode();return this.next(),this.expectContextual(93),this.parseImportSpecifierLocal(r,t,"ImportNamespaceSpecifier"),!0}return!1}parseNamedImportSpecifiers(r){let t=!0;for(this.expect(5);!this.eat(8);){if(t)t=!1;else{if(this.eat(14))throw this.raise(S.DestructureNamedImport,this.state.startLoc);if(this.expect(12),this.eat(8))break}let n=this.startNode(),i=this.match(133),s=this.isContextual(130);n.imported=this.parseModuleExportName();let o=this.parseImportSpecifier(n,i,r.importKind==="type"||r.importKind==="typeof",s,void 0);r.specifiers.push(o)}}parseImportSpecifier(r,t,n,i,s){if(this.eatContextual(93))r.local=this.parseIdentifier();else{let{imported:o}=r;if(t)throw this.raise(S.ImportBindingIsString,r,{importName:o.value});this.checkReservedWord(o.name,r.loc.start,!0,!0),r.local||(r.local=un(o))}return this.finishImportSpecifier(r,"ImportSpecifier",s)}isThisParam(r){return r.type==="Identifier"&&r.name==="this"}},Na=class extends Mc{constructor(r,t,n){r=aP(r),super(r,t),this.options=r,this.initializeScopes(),this.plugins=n,this.filename=r.sourceFilename}getScopeHandler(){return Gs}parse(){this.enterInitialScopes();let r=this.startNode(),t=this.startNode();return this.nextToken(),r.errors=null,this.parseTopLevel(r,t),r.errors=this.state.errors,r.comments.length=this.state.commentsLen,r}};function pP(e,r){var t;if(((t=r)==null?void 0:t.sourceType)==="unambiguous"){r=Object.assign({},r);try{r.sourceType="module";let n=zs(r,e),i=n.parse();if(n.sawUnambiguousESM)return i;if(n.ambiguousScriptDifferentAst)try{return r.sourceType="script",zs(r,e).parse()}catch{}else i.program.sourceType="script";return i}catch(n){try{return r.sourceType="script",zs(r,e).parse()}catch{}throw n}}else return zs(r,e).parse()}function dP(e,r){let t=zs(r,e);return t.options.strictMode&&(t.state.strict=!0),t.getExpression()}function fP(e){let r={};for(let t of Object.keys(e))r[t]=sn(e[t]);return r}var mP=fP(uv);function zs(e,r){let t=Na,n=new Map;if(e!=null&&e.plugins){for(let i of e.plugins){let s,o;typeof i=="string"?s=i:[s,o]=i,n.has(s)||n.set(s,o||{})}sP(n),t=hP(n)}return new t(e,r,n)}var Ry=new Map;function hP(e){let r=[];for(let i of oP)e.has(i)&&r.push(i);let t=r.join("|"),n=Ry.get(t);if(!n){n=Na;for(let i of r)n=Yy[i](n);Ry.set(t,n)}return n}Js.parse=pP;Js.parseExpression=dP;Js.tokTypes=mP});var sx=se((s9,ix)=>{ix.exports=nx;nx.sync=OI;var tx=require("fs");function kI(e,r){var t=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function rx(e,r,t){return!e.isSymbolicLink()&&!e.isFile()?!1:kI(r,t)}function nx(e,r,t){tx.stat(e,function(n,i){t(n,n?!1:rx(i,e,r))})}function OI(e,r){return rx(tx.statSync(e),e,r)}});var cx=se((o9,ux)=>{ux.exports=ax;ax.sync=RI;var ox=require("fs");function ax(e,r,t){ox.stat(e,function(n,i){t(n,n?!1:lx(i,r))})}function RI(e,r){return lx(ox.statSync(e),r)}function lx(e,r){return e.isFile()&&LI(e,r)}function LI(e,r){var t=e.mode,n=e.uid,i=e.gid,s=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),o=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8),u=parseInt("001",8),c=a|l,p=t&u||t&l&&i===o||t&a&&n===s||t&c&&s===0;return p}});var dx=se((l9,px)=>{var a9=require("fs"),cl;process.platform==="win32"||global.TESTING_WINDOWS?cl=sx():cl=cx();px.exports=Lp;Lp.sync=BI;function Lp(e,r,t){if(typeof r=="function"&&(t=r,r={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){Lp(e,r||{},function(s,o){s?i(s):n(o)})})}cl(e,r||{},function(n,i){n&&(n.code==="EACCES"||r&&r.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function BI(e,r){try{return cl.sync(e,r||{})}catch(t){if(r&&r.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var bx=se((u9,Dx)=>{var is=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",fx=require("path"),MI=is?";":":",mx=dx(),hx=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),gx=(e,r)=>{let t=r.colon||MI,n=e.match(/\//)||is&&e.match(/\\/)?[""]:[...is?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(t)],i=is?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=is?i.split(t):[""];return is&&e.indexOf(".")!==-1&&s[0]!==""&&s.unshift(""),{pathEnv:n,pathExt:s,pathExtExe:i}},yx=(e,r,t)=>{typeof r=="function"&&(t=r,r={}),r||(r={});let{pathEnv:n,pathExt:i,pathExtExe:s}=gx(e,r),o=[],a=u=>new Promise((c,p)=>{if(u===n.length)return r.all&&o.length?c(o):p(hx(e));let d=n[u],f=/^".*"$/.test(d)?d.slice(1,-1):d,m=fx.join(f,e),h=!f&&/^\.[\\\/]/.test(e)?e.slice(0,2)+m:m;c(l(h,u,0))}),l=(u,c,p)=>new Promise((d,f)=>{if(p===i.length)return d(a(c+1));let m=i[p];mx(u+m,{pathExt:s},(h,g)=>{if(!h&&g)if(r.all)o.push(u+m);else return d(u+m);return d(l(u,c,p+1))})});return t?a(0).then(u=>t(null,u),t):a(0)},$I=(e,r)=>{r=r||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=gx(e,r),s=[];for(let o=0;o<t.length;o++){let a=t[o],l=/^".*"$/.test(a)?a.slice(1,-1):a,u=fx.join(l,e),c=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let p=0;p<n.length;p++){let d=c+n[p];try{if(mx.sync(d,{pathExt:i}))if(r.all)s.push(d);else return d}catch{}}}if(r.all&&s.length)return s;if(r.nothrow)return null;throw hx(e)};Dx.exports=yx;yx.sync=$I});var Ex=se((c9,Bp)=>{"use strict";var xx=(e={})=>{let r=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Bp.exports=xx;Bp.exports.default=xx});var Tx=se((p9,wx)=>{"use strict";var Cx=require("path"),UI=bx(),jI=Ex();function Sx(e,r){let t=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,s=i&&process.chdir!==void 0&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let o;try{o=UI.sync(e.command,{path:t[jI({env:t})],pathExt:r?Cx.delimiter:void 0})}catch{}finally{s&&process.chdir(n)}return o&&(o=Cx.resolve(i?e.options.cwd:"",o)),o}function KI(e){return Sx(e)||Sx(e,!0)}wx.exports=KI});var Ax=se((d9,$p)=>{"use strict";var Mp=/([()\][%!^"`<>&|;, *?])/g;function VI(e){return e=e.replace(Mp,"^$1"),e}function zI(e,r){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(Mp,"^$1"),r&&(e=e.replace(Mp,"^$1")),e}$p.exports.command=VI;$p.exports.argument=zI});var Px=se((f9,vx)=>{"use strict";vx.exports=/^#!(.*)/});var Nx=se((m9,Ix)=>{"use strict";var qI=Px();Ix.exports=(e="")=>{let r=e.match(qI);if(!r)return null;let[t,n]=r[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var _x=se((h9,Fx)=>{"use strict";var Up=require("fs"),WI=Nx();function GI(e){let t=Buffer.alloc(150),n;try{n=Up.openSync(e,"r"),Up.readSync(n,t,0,150,0),Up.closeSync(n)}catch{}return WI(t.toString())}Fx.exports=GI});var Lx=se((g9,Rx)=>{"use strict";var HI=require("path"),kx=Tx(),Ox=Ax(),JI=_x(),YI=process.platform==="win32",XI=/\.(?:com|exe)$/i,QI=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function ZI(e){e.file=kx(e);let r=e.file&&JI(e.file);return r?(e.args.unshift(e.file),e.command=r,kx(e)):e.file}function eN(e){if(!YI)return e;let r=ZI(e),t=!XI.test(r);if(e.options.forceShell||t){let n=QI.test(r);e.command=HI.normalize(e.command),e.command=Ox.command(e.command),e.args=e.args.map(s=>Ox.argument(s,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function tN(e,r,t){r&&!Array.isArray(r)&&(t=r,r=null),r=r?r.slice(0):[],t=Object.assign({},t);let n={command:e,args:r,options:t,file:void 0,original:{command:e,args:r}};return t.shell?n:eN(n)}Rx.exports=tN});var $x=se((y9,Mx)=>{"use strict";var jp=process.platform==="win32";function Kp(e,r){return Object.assign(new Error(`${r} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${e.command}`,path:e.command,spawnargs:e.args})}function rN(e,r){if(!jp)return;let t=e.emit;e.emit=function(n,i){if(n==="exit"){let s=Bx(i,r,"spawn");if(s)return t.call(e,"error",s)}return t.apply(e,arguments)}}function Bx(e,r){return jp&&e===1&&!r.file?Kp(r.original,"spawn"):null}function nN(e,r){return jp&&e===1&&!r.file?Kp(r.original,"spawnSync"):null}Mx.exports={hookChildProcess:rN,verifyENOENT:Bx,verifyENOENTSync:nN,notFoundError:Kp}});var Kx=se((D9,ss)=>{"use strict";var Ux=require("child_process"),Vp=Lx(),zp=$x();function jx(e,r,t){let n=Vp(e,r,t),i=Ux.spawn(n.command,n.args,n.options);return zp.hookChildProcess(i,n),i}function iN(e,r,t){let n=Vp(e,r,t),i=Ux.spawnSync(n.command,n.args,n.options);return i.error=i.error||zp.verifyENOENTSync(i.status,n),i}ss.exports=jx;ss.exports.spawn=jx;ss.exports.sync=iN;ss.exports._parse=Vp;ss.exports._enoent=zp});var TE=se(as=>{"use strict";as.__esModule=!0;as.distance=as.closest=void 0;var hn=new Uint32Array(65536),CF=function(e,r){for(var t=e.length,n=r.length,i=1<<t-1,s=-1,o=0,a=t,l=t;l--;)hn[e.charCodeAt(l)]|=1<<l;for(l=0;l<n;l++){var u=hn[r.charCodeAt(l)],c=u|o;u|=(u&s)+s^s,o|=~(u|s),s&=u,o&i&&a++,s&i&&a--,o=o<<1|1,s=s<<1|~(c|o),o&=c}for(l=t;l--;)hn[e.charCodeAt(l)]=0;return a},SF=function(e,r){for(var t=r.length,n=e.length,i=[],s=[],o=Math.ceil(t/32),a=Math.ceil(n/32),l=0;l<o;l++)s[l]=-1,i[l]=0;for(var u=0;u<a-1;u++){for(var c=0,p=-1,d=u*32,f=Math.min(32,n)+d,m=d;m<f;m++)hn[e.charCodeAt(m)]|=1<<m;for(var l=0;l<t;l++){var h=hn[r.charCodeAt(l)],g=s[l/32|0]>>>l&1,y=i[l/32|0]>>>l&1,D=h|c,C=((h|y)&p)+p^p|h|y,x=c|~(C|p),b=p&C;x>>>31^g&&(s[l/32|0]^=1<<l),b>>>31^y&&(i[l/32|0]^=1<<l),x=x<<1|g,b=b<<1|y,p=b|~(D|x),c=x&D}for(var m=d;m<f;m++)hn[e.charCodeAt(m)]=0}for(var E=0,T=-1,R=u*32,B=Math.min(32,n-R)+R,m=R;m<B;m++)hn[e.charCodeAt(m)]|=1<<m;for(var I=n,l=0;l<t;l++){var h=hn[r.charCodeAt(l)],g=s[l/32|0]>>>l&1,y=i[l/32|0]>>>l&1,D=h|E,C=((h|y)&T)+T^T|h|y,x=E|~(C|T),b=T&C;I+=x>>>n-1&1,I-=b>>>n-1&1,x>>>31^g&&(s[l/32|0]^=1<<l),b>>>31^y&&(i[l/32|0]^=1<<l),x=x<<1|g,b=b<<1|y,T=b|~(D|x),E=x&D}for(var m=R;m<B;m++)hn[e.charCodeAt(m)]=0;return I},wE=function(e,r){if(e.length<r.length){var t=r;r=e,e=t}return r.length===0?e.length:e.length<=32?CF(e,r):SF(e,r)};as.distance=wE;var wF=function(e,r){for(var t=1/0,n=0,i=0;i<r.length;i++){var s=wE(e,r[i]);s<t&&(t=s,n=i)}return r[n]};as.closest=wF});var RF={};module.exports=YE(RF);var _E=require("../core/index.cjs"),kE=require("../node/index.cjs"),OE=require("../server/index.cjs"),RE=K(xd(),1);var wl=require("fs/promises");var pi=K(require("prettier"),1);async function or(e,r,t){try{if(t){let i=await pi.default.getFileInfo(t);if(i.ignored||i.inferredParser==null)return e}let n=await pi.default.resolveConfigFile(process.cwd());if(n){let i=await pi.default.resolveConfig(n);return await pi.default.format(e,{...i,filepath:t,parser:r})}else return await pi.default.format(e,{filepath:t,parser:r})}catch(n){return console.warn("Error formatting code",n),e}}var DE=require("http");var Nl="preview-url";var di="framework",So="platform",wo="node",Ed="/~khulnasoft-connect",$n="/~khulnasoft-connected",Fl="/~khulnasoft-dev-tools",_l="/~khulnasoft-dev-tools.js",Un="/~khulnasoft-dev-tools-close",Cd="/mappings";var bE=require("os"),Sl=require("path"),Kr=require("fs");var Et=K(To(),1),mi=require("node:process"),yn=K(require("node:readline"),1),Ml=K(require("node:readline"),1),Rd=require("node:tty"),Io=K(Ze(),1);function iC({onlyFirst:e=!1}={}){let r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(r,e?void 0:"g")}var sC=iC();function Ld(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(sC,"")}function Bd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Md={exports:{}};(function(e){var r={};e.exports=r,r.eastAsianWidth=function(n){var i=n.charCodeAt(0),s=n.length==2?n.charCodeAt(1):0,o=i;return 55296<=i&&i<=56319&&56320<=s&&s<=57343&&(i&=1023,s&=1023,o=i<<10|s,o+=65536),o==12288||65281<=o&&o<=65376||65504<=o&&o<=65510?"F":o==8361||65377<=o&&o<=65470||65474<=o&&o<=65479||65482<=o&&o<=65487||65490<=o&&o<=65495||65498<=o&&o<=65500||65512<=o&&o<=65518?"H":4352<=o&&o<=4447||4515<=o&&o<=4519||4602<=o&&o<=4607||9001<=o&&o<=9002||11904<=o&&o<=11929||11931<=o&&o<=12019||12032<=o&&o<=12245||12272<=o&&o<=12283||12289<=o&&o<=12350||12353<=o&&o<=12438||12441<=o&&o<=12543||12549<=o&&o<=12589||12593<=o&&o<=12686||12688<=o&&o<=12730||12736<=o&&o<=12771||12784<=o&&o<=12830||12832<=o&&o<=12871||12880<=o&&o<=13054||13056<=o&&o<=19903||19968<=o&&o<=42124||42128<=o&&o<=42182||43360<=o&&o<=43388||44032<=o&&o<=55203||55216<=o&&o<=55238||55243<=o&&o<=55291||63744<=o&&o<=64255||65040<=o&&o<=65049||65072<=o&&o<=65106||65108<=o&&o<=65126||65128<=o&&o<=65131||110592<=o&&o<=110593||127488<=o&&o<=127490||127504<=o&&o<=127546||127552<=o&&o<=127560||127568<=o&&o<=127569||131072<=o&&o<=194367||177984<=o&&o<=196605||196608<=o&&o<=262141?"W":32<=o&&o<=126||162<=o&&o<=163||165<=o&&o<=166||o==172||o==175||10214<=o&&o<=10221||10629<=o&&o<=10630?"Na":o==161||o==164||167<=o&&o<=168||o==170||173<=o&&o<=174||176<=o&&o<=180||182<=o&&o<=186||188<=o&&o<=191||o==198||o==208||215<=o&&o<=216||222<=o&&o<=225||o==230||232<=o&&o<=234||236<=o&&o<=237||o==240||242<=o&&o<=243||247<=o&&o<=250||o==252||o==254||o==257||o==273||o==275||o==283||294<=o&&o<=295||o==299||305<=o&&o<=307||o==312||319<=o&&o<=322||o==324||328<=o&&o<=331||o==333||338<=o&&o<=339||358<=o&&o<=359||o==363||o==462||o==464||o==466||o==468||o==470||o==472||o==474||o==476||o==593||o==609||o==708||o==711||713<=o&&o<=715||o==717||o==720||728<=o&&o<=731||o==733||o==735||768<=o&&o<=879||913<=o&&o<=929||931<=o&&o<=937||945<=o&&o<=961||963<=o&&o<=969||o==1025||1040<=o&&o<=1103||o==1105||o==8208||8211<=o&&o<=8214||8216<=o&&o<=8217||8220<=o&&o<=8221||8224<=o&&o<=8226||8228<=o&&o<=8231||o==8240||8242<=o&&o<=8243||o==8245||o==8251||o==8254||o==8308||o==8319||8321<=o&&o<=8324||o==8364||o==8451||o==8453||o==8457||o==8467||o==8470||8481<=o&&o<=8482||o==8486||o==8491||8531<=o&&o<=8532||8539<=o&&o<=8542||8544<=o&&o<=8555||8560<=o&&o<=8569||o==8585||8592<=o&&o<=8601||8632<=o&&o<=8633||o==8658||o==8660||o==8679||o==8704||8706<=o&&o<=8707||8711<=o&&o<=8712||o==8715||o==8719||o==8721||o==8725||o==8730||8733<=o&&o<=8736||o==8739||o==8741||8743<=o&&o<=8748||o==8750||8756<=o&&o<=8759||8764<=o&&o<=8765||o==8776||o==8780||o==8786||8800<=o&&o<=8801||8804<=o&&o<=8807||8810<=o&&o<=8811||8814<=o&&o<=8815||8834<=o&&o<=8835||8838<=o&&o<=8839||o==8853||o==8857||o==8869||o==8895||o==8978||9312<=o&&o<=9449||9451<=o&&o<=9547||9552<=o&&o<=9587||9600<=o&&o<=9615||9618<=o&&o<=9621||9632<=o&&o<=9633||9635<=o&&o<=9641||9650<=o&&o<=9651||9654<=o&&o<=9655||9660<=o&&o<=9661||9664<=o&&o<=9665||9670<=o&&o<=9672||o==9675||9678<=o&&o<=9681||9698<=o&&o<=9701||o==9711||9733<=o&&o<=9734||o==9737||9742<=o&&o<=9743||9748<=o&&o<=9749||o==9756||o==9758||o==9792||o==9794||9824<=o&&o<=9825||9827<=o&&o<=9829||9831<=o&&o<=9834||9836<=o&&o<=9837||o==9839||9886<=o&&o<=9887||9918<=o&&o<=9919||9924<=o&&o<=9933||9935<=o&&o<=9953||o==9955||9960<=o&&o<=9983||o==10045||o==10071||10102<=o&&o<=10111||11093<=o&&o<=11097||12872<=o&&o<=12879||57344<=o&&o<=63743||65024<=o&&o<=65039||o==65533||127232<=o&&o<=127242||127248<=o&&o<=127277||127280<=o&&o<=127337||127344<=o&&o<=127386||917760<=o&&o<=917999||983040<=o&&o<=1048573||1048576<=o&&o<=1114109?"A":"N"},r.characterLength=function(n){var i=this.eastAsianWidth(n);return i=="F"||i=="W"||i=="A"?2:1};function t(n){return n.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]|[^\uD800-\uDFFF]/g)||[]}r.length=function(n){for(var i=t(n),s=0,o=0;o<i.length;o++)s=s+this.characterLength(i[o]);return s},r.slice=function(n,i,s){textLen=r.length(n),i=i||0,s=s||1,i<0&&(i=textLen+i),s<0&&(s=textLen+s);for(var o="",a=0,l=t(n),u=0;u<l.length;u++){var c=l[u],p=r.length(c);if(a>=i-(p==2?1:0))if(a+p<=s)o+=c;else break;a+=p}return o}})(Md);var oC=Md.exports,aC=Bd(oC),lC=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g},uC=Bd(lC);function fs(e,r={}){if(typeof e!="string"||e.length===0||(r={ambiguousIsNarrow:!0,...r},e=Ld(e),e.length===0))return 0;e=e.replace(uC(),"  ");let t=r.ambiguousIsNarrow?1:2,n=0;for(let i of e){let s=i.codePointAt(0);if(!(s<=31||s>=127&&s<=159||s>=768&&s<=879))switch(aC.eastAsianWidth(i)){case"F":case"W":n+=2;break;case"A":n+=t;break;default:n+=1}}return n}var Ll=10,Ad=(e=0)=>r=>`\x1B[${r+e}m`,vd=(e=0)=>r=>`\x1B[${38+e};5;${r}m`,Pd=(e=0)=>(r,t,n)=>`\x1B[${38+e};2;${r};${t};${n}m`,ze={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(ze.modifier);var cC=Object.keys(ze.color),pC=Object.keys(ze.bgColor);[...cC,...pC];function dC(){let e=new Map;for(let[r,t]of Object.entries(ze)){for(let[n,i]of Object.entries(t))ze[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},t[n]=ze[n],e.set(i[0],i[1]);Object.defineProperty(ze,r,{value:t,enumerable:!1})}return Object.defineProperty(ze,"codes",{value:e,enumerable:!1}),ze.color.close="\x1B[39m",ze.bgColor.close="\x1B[49m",ze.color.ansi=Ad(),ze.color.ansi256=vd(),ze.color.ansi16m=Pd(),ze.bgColor.ansi=Ad(Ll),ze.bgColor.ansi256=vd(Ll),ze.bgColor.ansi16m=Pd(Ll),Object.defineProperties(ze,{rgbToAnsi256:{value:(r,t,n)=>r===t&&t===n?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:r=>{let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(r.toString(16));if(!t)return[0,0,0];let[n]=t;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:r=>ze.rgbToAnsi256(...ze.hexToRgb(r)),enumerable:!1},ansi256ToAnsi:{value:r=>{if(r<8)return 30+r;if(r<16)return 90+(r-8);let t,n,i;if(r>=232)t=((r-232)*10+8)/255,n=t,i=t;else{r-=16;let a=r%36;t=Math.floor(r/36)/5,n=Math.floor(a/6)/5,i=a%6/5}let s=Math.max(t,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(t));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(r,t,n)=>ze.ansi256ToAnsi(ze.rgbToAnsi256(r,t,n)),enumerable:!1},hexToAnsi:{value:r=>ze.ansi256ToAnsi(ze.hexToAnsi256(r)),enumerable:!1}}),ze}var fC=dC(),_o=new Set(["\x1B","\x9B"]),mC=39,$l="\x07",$d="[",hC="]",Ud="m",Ul=`${hC}8;;`,Id=e=>`${_o.values().next().value}${$d}${e}${Ud}`,Nd=e=>`${_o.values().next().value}${Ul}${e}${$l}`,gC=e=>e.split(" ").map(r=>fs(r)),Bl=(e,r,t)=>{let n=[...r],i=!1,s=!1,o=fs(Ld(e[e.length-1]));for(let[a,l]of n.entries()){let u=fs(l);if(o+u<=t?e[e.length-1]+=l:(e.push(l),o=0),_o.has(l)&&(i=!0,s=n.slice(a+1).join("").startsWith(Ul)),i){s?l===$l&&(i=!1,s=!1):l===Ud&&(i=!1);continue}o+=u,o===t&&a<n.length-1&&(e.push(""),o=0)}!o&&e[e.length-1].length>0&&e.length>1&&(e[e.length-2]+=e.pop())},yC=e=>{let r=e.split(" "),t=r.length;for(;t>0&&!(fs(r[t-1])>0);)t--;return t===r.length?e:r.slice(0,t).join(" ")+r.slice(t).join("")},DC=(e,r,t={})=>{if(t.trim!==!1&&e.trim()==="")return"";let n="",i,s,o=gC(e),a=[""];for(let[u,c]of e.split(" ").entries()){t.trim!==!1&&(a[a.length-1]=a[a.length-1].trimStart());let p=fs(a[a.length-1]);if(u!==0&&(p>=r&&(t.wordWrap===!1||t.trim===!1)&&(a.push(""),p=0),(p>0||t.trim===!1)&&(a[a.length-1]+=" ",p++)),t.hard&&o[u]>r){let d=r-p,f=1+Math.floor((o[u]-d-1)/r);Math.floor((o[u]-1)/r)<f&&a.push(""),Bl(a,c,r);continue}if(p+o[u]>r&&p>0&&o[u]>0){if(t.wordWrap===!1&&p<r){Bl(a,c,r);continue}a.push("")}if(p+o[u]>r&&t.wordWrap===!1){Bl(a,c,r);continue}a[a.length-1]+=c}t.trim!==!1&&(a=a.map(u=>yC(u)));let l=[...a.join(`
`)];for(let[u,c]of l.entries()){if(n+=c,_o.has(c)){let{groups:d}=new RegExp(`(?:\\${$d}(?<code>\\d+)m|\\${Ul}(?<uri>.*)${$l})`).exec(l.slice(u).join(""))||{groups:{}};if(d.code!==void 0){let f=Number.parseFloat(d.code);i=f===mC?void 0:f}else d.uri!==void 0&&(s=d.uri.length===0?void 0:d.uri)}let p=fC.codes.get(Number(i));l[u+1]===`
`?(s&&(n+=Nd("")),i&&p&&(n+=Id(p))):c===`
`&&(i&&p&&(n+=Id(i)),s&&(n+=Nd(s)))}return n};function Fd(e,r,t){return String(e).normalize().replace(/\r\n/g,`
`).split(`
`).map(n=>DC(n,r,t)).join(`
`)}var bC=Object.defineProperty,xC=(e,r,t)=>r in e?bC(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Yt=(e,r,t)=>(xC(e,typeof r!="symbol"?r+"":r,t),t);function EC(e,r){if(e===r)return;let t=e.split(`
`),n=r.split(`
`),i=[];for(let s=0;s<Math.max(t.length,n.length);s++)t[s]!==n[s]&&i.push(s);return i}var jd=Symbol("clack:cancel");function Re(e){return e===jd}function Po(e,r){e.isTTY&&e.setRawMode(r)}var _d=new Map([["k","up"],["j","down"],["h","left"],["l","right"]]),CC=new Set(["up","down","left","right","space","enter"]),fi=class{constructor({render:r,input:t=mi.stdin,output:n=mi.stdout,...i},s=!0){Yt(this,"input"),Yt(this,"output"),Yt(this,"rl"),Yt(this,"opts"),Yt(this,"_track",!1),Yt(this,"_render"),Yt(this,"_cursor",0),Yt(this,"state","initial"),Yt(this,"value"),Yt(this,"error",""),Yt(this,"subscribers",new Map),Yt(this,"_prevFrame",""),this.opts=i,this.onKeypress=this.onKeypress.bind(this),this.close=this.close.bind(this),this.render=this.render.bind(this),this._render=r.bind(this),this._track=s,this.input=t,this.output=n}prompt(){let r=new Rd.WriteStream(0);return r._write=(t,n,i)=>{this._track&&(this.value=this.rl.line.replace(/\t/g,""),this._cursor=this.rl.cursor,this.emit("value",this.value)),i()},this.input.pipe(r),this.rl=Ml.default.createInterface({input:this.input,output:r,tabSize:2,prompt:"",escapeCodeTimeout:50}),Ml.default.emitKeypressEvents(this.input,this.rl),this.rl.prompt(),this.opts.initialValue!==void 0&&this._track&&this.rl.write(this.opts.initialValue),this.input.on("keypress",this.onKeypress),Po(this.input,!0),this.output.on("resize",this.render),this.render(),new Promise((t,n)=>{this.once("submit",()=>{this.output.write(Et.cursor.show),this.output.off("resize",this.render),Po(this.input,!1),t(this.value)}),this.once("cancel",()=>{this.output.write(Et.cursor.show),this.output.off("resize",this.render),Po(this.input,!1),t(jd)})})}on(r,t){let n=this.subscribers.get(r)??[];n.push({cb:t}),this.subscribers.set(r,n)}once(r,t){let n=this.subscribers.get(r)??[];n.push({cb:t,once:!0}),this.subscribers.set(r,n)}emit(r,...t){let n=this.subscribers.get(r)??[],i=[];for(let s of n)s.cb(...t),s.once&&i.push(()=>n.splice(n.indexOf(s),1));for(let s of i)s()}unsubscribe(){this.subscribers.clear()}onKeypress(r,t){if(this.state==="error"&&(this.state="active"),t?.name&&!this._track&&_d.has(t.name)&&this.emit("cursor",_d.get(t.name)),t?.name&&CC.has(t.name)&&this.emit("cursor",t.name),r&&(r.toLowerCase()==="y"||r.toLowerCase()==="n")&&this.emit("confirm",r.toLowerCase()==="y"),r==="	"&&this.opts.placeholder&&(this.value||(this.rl.write(this.opts.placeholder),this.emit("value",this.opts.placeholder))),r&&this.emit("key",r.toLowerCase()),t?.name==="return"){if(this.opts.validate){let n=this.opts.validate(this.value);n&&(this.error=n,this.state="error",this.rl.write(this.value))}this.state!=="error"&&(this.state="submit")}r===""&&(this.state="cancel"),(this.state==="submit"||this.state==="cancel")&&this.emit("finalize"),this.render(),(this.state==="submit"||this.state==="cancel")&&this.close()}close(){this.input.unpipe(),this.input.removeListener("keypress",this.onKeypress),this.output.write(`
`),Po(this.input,!1),this.rl.close(),this.emit(`${this.state}`,this.value),this.unsubscribe()}restoreCursor(){let r=Fd(this._prevFrame,process.stdout.columns,{hard:!0}).split(`
`).length-1;this.output.write(Et.cursor.move(-999,r*-1))}render(){let r=Fd(this._render(this)??"",process.stdout.columns,{hard:!0});if(r!==this._prevFrame){if(this.state==="initial")this.output.write(Et.cursor.hide);else{let t=EC(this._prevFrame,r);if(this.restoreCursor(),t&&t?.length===1){let n=t[0];this.output.write(Et.cursor.move(0,n)),this.output.write(Et.erase.lines(1));let i=r.split(`
`);this.output.write(i[n]),this._prevFrame=r,this.output.write(Et.cursor.move(0,i.length-n-1));return}else if(t&&t?.length>1){let n=t[0];this.output.write(Et.cursor.move(0,n)),this.output.write(Et.erase.down());let i=r.split(`
`).slice(n);this.output.write(i.join(`
`)),this._prevFrame=r;return}this.output.write(Et.erase.down())}this.output.write(r),this.state==="initial"&&(this.state="active"),this._prevFrame=r}}},No=class extends fi{get cursor(){return this.value?0:1}get _value(){return this.cursor===0}constructor(r){super(r,!1),this.value=!!r.initialValue,this.on("value",()=>{this.value=this._value}),this.on("confirm",t=>{this.output.write(Et.cursor.move(0,-1)),this.value=t,this.state="submit",this.close()}),this.on("cursor",()=>{this.value=!this.value})}};var SC=Object.defineProperty,wC=(e,r,t)=>r in e?SC(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,kd=(e,r,t)=>(wC(e,typeof r!="symbol"?r+"":r,t),t),Kd=class extends fi{constructor(e){super(e,!1),kd(this,"options"),kd(this,"cursor",0),this.options=e.options,this.value=[...e.initialValues??[]],this.cursor=Math.max(this.options.findIndex(({value:r})=>r===e.cursorAt),0),this.on("key",r=>{r==="a"&&this.toggleAll()}),this.on("cursor",r=>{switch(r){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break;case"space":this.toggleValue();break}})}get _value(){return this.options[this.cursor].value}toggleAll(){let e=this.value.length===this.options.length;this.value=e?[]:this.options.map(r=>r.value)}toggleValue(){let e=this.value.includes(this._value);this.value=e?this.value.filter(r=>r!==this._value):[...this.value,this._value]}};var TC=Object.defineProperty,AC=(e,r,t)=>r in e?TC(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Od=(e,r,t)=>(AC(e,typeof r!="symbol"?r+"":r,t),t),Vd=class extends fi{constructor(e){super(e,!1),Od(this,"options"),Od(this,"cursor",0),this.options=e.options,this.cursor=this.options.findIndex(({value:r})=>r===e.initialValue),this.cursor===-1&&(this.cursor=0),this.changeValue(),this.on("cursor",r=>{switch(r){case"left":case"up":this.cursor=this.cursor===0?this.options.length-1:this.cursor-1;break;case"down":case"right":this.cursor=this.cursor===this.options.length-1?0:this.cursor+1;break}this.changeValue()})}get _value(){return this.options[this.cursor]}changeValue(){this.value=this._value.value}};var vC=Object.defineProperty,PC=(e,r,t)=>r in e?vC(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,IC=(e,r,t)=>(PC(e,typeof r!="symbol"?r+"":r,t),t),Fo=class extends fi{constructor(r){super(r),IC(this,"valueWithCursor",""),this.on("finalize",()=>{this.value||(this.value=r.defaultValue),this.valueWithCursor=this.value}),this.on("value",()=>{if(this.cursor>=this.value.length)this.valueWithCursor=`${this.value}${Io.default.inverse(Io.default.hidden("_"))}`;else{let t=this.value.slice(0,this.cursor),n=this.value.slice(this.cursor);this.valueWithCursor=`${t}${Io.default.inverse(n[0])}${n.slice(1)}`}})}get cursor(){return this._cursor}},NC=globalThis.process.platform.startsWith("win");function zd({input:e=mi.stdin,output:r=mi.stdout,overwrite:t=!0,hideCursor:n=!0}={}){let i=yn.createInterface({input:e,output:r,prompt:"",tabSize:1});yn.emitKeypressEvents(e,i),e.isTTY&&e.setRawMode(!0);let s=(o,{name:a})=>{if(String(o)===""){n&&r.write(Et.cursor.show),process.exit(0);return}if(!t)return;yn.moveCursor(r,a==="return"?0:-1,a==="return"?-1:0,()=>{yn.clearLine(r,1,()=>{e.once("keypress",s)})})};return n&&r.write(Et.cursor.hide),e.once("keypress",s),()=>{e.off("keypress",s),n&&r.write(Et.cursor.show),e.isTTY&&!NC&&e.setRawMode(!1),i.terminal=!1,i.close()}}var Xt=K(require("node:process"),1),k=K(Ze(),1),hi=K(To(),1);function FC(){return Xt.default.platform!=="win32"?Xt.default.env.TERM!=="linux":!!Xt.default.env.CI||!!Xt.default.env.WT_SESSION||!!Xt.default.env.TERMINUS_SUBLIME||Xt.default.env.ConEmuTask==="{cmd::Cmder}"||Xt.default.env.TERM_PROGRAM==="Terminus-Sublime"||Xt.default.env.TERM_PROGRAM==="vscode"||Xt.default.env.TERM==="xterm-256color"||Xt.default.env.TERM==="alacritty"||Xt.default.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var jl=FC(),et=(e,r)=>jl?e:r,_C=et("\u25C6","*"),Wd=et("\u25A0","x"),Gd=et("\u25B2","x"),ql=et("\u25C7","o"),kC=et("\u250C","T"),Pe=et("\u2502","|"),Dn=et("\u2514","\u2014"),Kl=et("\u25CF",">"),Vl=et("\u25CB"," "),OC=et("\u25FB","[\u2022]"),qd=et("\u25FC","[+]"),RC=et("\u25FB","[ ]"),JF=et("\u25AA","\u2022"),YF=et("\u2500","-"),XF=et("\u256E","+"),QF=et("\u251C","+"),ZF=et("\u256F","+"),LC=et("\u25CF","\u2022"),BC=et("\u25C6","*"),MC=et("\u25B2","!"),$C=et("\u25A0","x"),ko=e=>{switch(e){case"initial":case"active":return k.default.cyan(_C);case"cancel":return k.default.red(Wd);case"error":return k.default.yellow(Gd);case"submit":return k.default.green(ql)}},zl=e=>{let{cursor:r,options:t,style:n}=e,i=e.maxItems??1/0,s=Math.max(process.stdout.rows-4,0),o=Math.min(s,Math.max(i,5)),a=0;r>=a+o-3?a=Math.max(Math.min(r-o+3,t.length-o),0):r<a+2&&(a=Math.max(r-2,0));let l=o<t.length&&a>0,u=o<t.length&&a+o<t.length;return t.slice(a,a+o).map((c,p,d)=>{let f=p===0&&l,m=p===d.length-1&&u;return f||m?k.default.dim("..."):n(c,p+a===r)})},jt=e=>new Fo({validate:e.validate,placeholder:e.placeholder,defaultValue:e.defaultValue,initialValue:e.initialValue,render(){let r=`${k.default.gray(Pe)}
${ko(this.state)}  ${e.message}
`,t=e.placeholder?k.default.inverse(e.placeholder[0])+k.default.dim(e.placeholder.slice(1)):k.default.inverse(k.default.hidden("_")),n=this.value?this.valueWithCursor:t;switch(this.state){case"error":return`${r.trim()}
${k.default.yellow(Pe)}  ${n}
${k.default.yellow(Dn)}  ${k.default.yellow(this.error)}
`;case"submit":return`${r}${k.default.gray(Pe)}  ${k.default.dim(this.value||e.placeholder)}`;case"cancel":return`${r}${k.default.gray(Pe)}  ${k.default.strikethrough(k.default.dim(this.value??""))}${this.value?.trim()?`
`+k.default.gray(Pe):""}`;default:return`${r}${k.default.cyan(Pe)}  ${n}
${k.default.cyan(Dn)}
`}}}).prompt();var Ct=e=>{let r=e.active??"Yes",t=e.inactive??"No";return new No({active:r,inactive:t,initialValue:e.initialValue??!0,render(){let n=`${k.default.gray(Pe)}
${ko(this.state)}  ${e.message}
`,i=this.value?r:t;switch(this.state){case"submit":return`${n}${k.default.gray(Pe)}  ${k.default.dim(i)}`;case"cancel":return`${n}${k.default.gray(Pe)}  ${k.default.strikethrough(k.default.dim(i))}
${k.default.gray(Pe)}`;default:return`${n}${k.default.cyan(Pe)}  ${this.value?`${k.default.green(Kl)} ${r}`:`${k.default.dim(Vl)} ${k.default.dim(r)}`} ${k.default.dim("/")} ${this.value?`${k.default.dim(Vl)} ${k.default.dim(t)}`:`${k.default.green(Kl)} ${t}`}
${k.default.cyan(Dn)}
`}}}).prompt()},Hd=e=>{let r=(t,n)=>{let i=t.label??String(t.value);switch(n){case"selected":return`${k.default.dim(i)}`;case"active":return`${k.default.green(Kl)} ${i} ${t.hint?k.default.dim(`(${t.hint})`):""}`;case"cancelled":return`${k.default.strikethrough(k.default.dim(i))}`;default:return`${k.default.dim(Vl)} ${k.default.dim(i)}`}};return new Vd({options:e.options,initialValue:e.initialValue,render(){let t=`${k.default.gray(Pe)}
${ko(this.state)}  ${e.message}
`;switch(this.state){case"submit":return`${t}${k.default.gray(Pe)}  ${r(this.options[this.cursor],"selected")}`;case"cancel":return`${t}${k.default.gray(Pe)}  ${r(this.options[this.cursor],"cancelled")}
${k.default.gray(Pe)}`;default:return`${t}${k.default.cyan(Pe)}  ${zl({cursor:this.cursor,options:this.options,maxItems:e.maxItems,style:(n,i)=>r(n,i?"active":"inactive")}).join(`
${k.default.cyan(Pe)}  `)}
${k.default.cyan(Dn)}
`}}}).prompt()};var Jd=e=>{let r=(t,n)=>{let i=t.label??String(t.value);return n==="active"?`${k.default.cyan(OC)} ${i} ${t.hint?k.default.dim(`(${t.hint})`):""}`:n==="selected"?`${k.default.green(qd)} ${k.default.dim(i)}`:n==="cancelled"?`${k.default.strikethrough(k.default.dim(i))}`:n==="active-selected"?`${k.default.green(qd)} ${i} ${t.hint?k.default.dim(`(${t.hint})`):""}`:n==="submitted"?`${k.default.dim(i)}`:`${k.default.dim(RC)} ${k.default.dim(i)}`};return new Kd({options:e.options,initialValues:e.initialValues,required:e.required??!0,cursorAt:e.cursorAt,validate(t){if(this.required&&t.length===0)return`Please select at least one option.
${k.default.reset(k.default.dim(`Press ${k.default.gray(k.default.bgWhite(k.default.inverse(" space ")))} to select, ${k.default.gray(k.default.bgWhite(k.default.inverse(" enter ")))} to submit`))}`},render(){let t=`${k.default.gray(Pe)}
${ko(this.state)}  ${e.message}
`,n=(i,s)=>{let o=this.value.includes(i.value);return s&&o?r(i,"active-selected"):o?r(i,"selected"):r(i,s?"active":"inactive")};switch(this.state){case"submit":return`${t}${k.default.gray(Pe)}  ${this.options.filter(({value:i})=>this.value.includes(i)).map(i=>r(i,"submitted")).join(k.default.dim(", "))||k.default.dim("none")}`;case"cancel":{let i=this.options.filter(({value:s})=>this.value.includes(s)).map(s=>r(s,"cancelled")).join(k.default.dim(", "));return`${t}${k.default.gray(Pe)}  ${i.trim()?`${i}
${k.default.gray(Pe)}`:""}`}case"error":{let i=this.error.split(`
`).map((s,o)=>o===0?`${k.default.yellow(Dn)}  ${k.default.yellow(s)}`:`   ${s}`).join(`
`);return t+k.default.yellow(Pe)+"  "+zl({options:this.options,cursor:this.cursor,maxItems:e.maxItems,style:n}).join(`
${k.default.yellow(Pe)}  `)+`
`+i+`
`}default:return`${t}${k.default.cyan(Pe)}  ${zl({options:this.options,cursor:this.cursor,maxItems:e.maxItems,style:n}).join(`
${k.default.cyan(Pe)}  `)}
${k.default.cyan(Dn)}
`}}}).prompt()};var de=(e="")=>{process.stdout.write(`${k.default.gray(Dn)}  ${k.default.red(e)}

`)},ot=(e="")=>{process.stdout.write(`${k.default.gray(kC)}  ${e}
`)},ct=(e="")=>{process.stdout.write(`${k.default.gray(Pe)}
${k.default.gray(Dn)}  ${e}

`)},j={message:(e="",{symbol:r=k.default.gray(Pe)}={})=>{let t=[`${k.default.gray(Pe)}`];if(e){let[n,...i]=e.split(`
`);t.push(`${r}  ${n}`,...i.map(s=>`${k.default.gray(Pe)}  ${s}`))}process.stdout.write(`${t.join(`
`)}
`)},info:e=>{j.message(e,{symbol:k.default.blue(LC)})},success:e=>{j.message(e,{symbol:k.default.green(BC)})},step:e=>{j.message(e,{symbol:k.default.green(ql)})},warn:e=>{j.message(e,{symbol:k.default.yellow(MC)})},warning:e=>{j.warn(e)},error:e=>{j.message(e,{symbol:k.default.red($C)})}},ar=()=>{let e=jl?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],r=jl?80:120,t,n,i=!1,s="",o=f=>{let m=f>1?"Something went wrong":"Canceled";i&&d(m,f)},a=()=>o(2),l=()=>o(1),u=()=>{process.on("uncaughtExceptionMonitor",a),process.on("unhandledRejection",a),process.on("SIGINT",l),process.on("SIGTERM",l),process.on("exit",o)},c=()=>{process.removeListener("uncaughtExceptionMonitor",a),process.removeListener("unhandledRejection",a),process.removeListener("SIGINT",l),process.removeListener("SIGTERM",l),process.removeListener("exit",o)},p=(f="")=>{i=!0,t=zd(),s=f.replace(/\.+$/,""),process.stdout.write(`${k.default.gray(Pe)}
`);let m=0,h=0;u(),n=setInterval(()=>{let g=k.default.magenta(e[m]),y=".".repeat(Math.floor(h)).slice(0,3);process.stdout.write(hi.cursor.move(-999,0)),process.stdout.write(hi.erase.down(1)),process.stdout.write(`${g}  ${s}${y}`),m=m+1<e.length?m+1:0,h=h<e.length?h+.125:0},r)},d=(f="",m=0)=>{s=f??s,i=!1,clearInterval(n);let h=m===0?k.default.green(ql):m===1?k.default.red(Wd):k.default.red(Gd);process.stdout.write(hi.cursor.move(-999,0)),process.stdout.write(hi.erase.down(1)),process.stdout.write(`${h}  ${s}
`),c(),t()};return{start:p,stop:d,message:(f="")=>{s=f??s}}};var Bn=K(Ze(),1),mn=K(require("@sentry/node"),1);var Xe=K(require("typescript"),1);var dd=K(require("@sentry/node"),1);var ge=K(Ze(),1);function Ee(e,r=""){return e.ts.createSourceFile("module.tsx",typeof r=="string"?r:"",e.ts.ScriptTarget.Latest,void 0)}function Oo(e,r=""){let t=Ee(e,r?.trim());if(t.statements.length===0)throw new Error(`No statements found in code: ${r}`);return t.statements[0]}function pt(e,r,t){if(r){let n=e.ts.createPrinter({newLine:e.ts.NewLineKind.LineFeed,removeComments:t});return e.ts.isSourceFile(r)?n.printFile(r).trim()+`
`:n.printNode(e.ts.EmitHint.Unspecified,r,e.ts.createSourceFile("module.tsx","",e.ts.ScriptTarget.Latest)).trim()+`
`}return""}var Qd=K(Wl(),1);function Qt(e){return e.endsWith(".mapper.tsx")||e.endsWith(".mapper.jsx")}function Se(e,r,t){r=lr(r),t=lr(t),r=e.dirname(r);let n=e.basename(t,e.extname(t));t=e.dirname(t);let i;return n==="index"?i=e.relative(r,t):i=e.relative(r,e.join(t,n)),i=lr(e.normalize(i)),i.startsWith(".")||(i="./"+i),i}function lr(e){return e.startsWith("\\\\?\\")?e:e.replace(/\\/g,"/")}function jn(e,r){let t=e.extname(r),n=e.basename(r,t).split(/[\/\\]/),i=n[n.length-1];return Xd(i==="index"?e.basename(e.dirname(r)):i)}function Xd(e){return $e(e).replace(/ /g,"")}function Zt(e,r){let t=e.extname(r),n=lr(e.basename(r,t)).split("/").pop();return $e(n==="index"?e.basename(e.dirname(r)):n)}function Le(e,r){let t=lr(e.relative(e.getAppRootDir(),r));t=t.split("/").filter(i=>i!=="."&&i!==".."&&i!=="").join("/"),t.endsWith(".tsx")||t.endsWith(".jsx")?t=t.slice(0,-4):(t.endsWith(".ts")||t.endsWith(".js"))&&(t=t.slice(0,-3));let n=e.getFrameworks();return t.startsWith("src/")&&(t=t.slice(4)),n.some(i=>i.name.includes("next"))?"@/"+t:"~/"+t}function Ie(e,r){let t=r,n=[];for(let i=0;i<2;i++){let s=e.basename(t);if(!s||s==="components")break;n.unshift(s),t=e.dirname(t)}return n.join("/")}function $e(e){for(e=e.replace(/([A-Z])/g," $1").replace(/\./g," ").replace(/_/g," ").replace(/-/g," ").replace(/\s/g," ").trim();e.includes("  ");)e=e.replace(/  /g," ");return e.split(" ").map(r=>r.length>2?r[0].toUpperCase()+r.slice(1):r).join("").trim()}function Lt(e){return e.sort((r,t)=>r.name.toLocaleLowerCase().localeCompare(t.name.toLocaleLowerCase()))}async function Be(e,r,t,n){if(typeof t!="string"||t==="")throw new Error(`getComponentId(), exportName must be a non-empty string, received: ${t}, ${r}`);return n&&(r=n),r=e.normalize(r),(await e.hash(r+"#"+t)).substring(0,8)}async function Zd(e){return(await e.hash(e.getAppRootDir())).substring(0,8)}function ms(e){return typeof e=="number"}function gi(e){return typeof e=="boolean"}function vt(e){return typeof e=="string"}function yi(e){return typeof e=="string"?/^[A-Z][A-Za-z0-9]*$/.test(e):!1}function Kt(e){return JSON.parse(JSON.stringify(e))}function Ro(e,r,t){for(let n of r)if(e.dirname(t).includes(n))return!0;return!1}function ef(){try{let e=(0,Qd.default)();if(e?.name)return e.name}catch{}return"npm"}function Vt(e){let r=e.join(e.getAppRootDir(),"tsconfig.json");return e.exists(r)}var jC=["node_modules","dist","build","public"];async function er(e,r){async function t(i,s){if(s>10)return;let o=await e.readdir(i);for(let a of o){if(jC.includes(a))continue;let l=e.join(i,a),u=await e.stat(l);if(u){if(u.isFile()&&a.startsWith("khulnasoft-registry."))return l;if(u.isDirectory()){let c=await t(l,s+1);if(c)return c}}}}let n=await t(e.getAppRootDir(),0);if(!n){let s=`khulnasoft-registry.${await Vt(e)?"ts":"js"}`;return e.join(r,s)}return n}async function Gr(e,r){let t=e.resolve("/");for(let n=0;n<20;n++){let i=e.join(r,"package.json"),s=await e.readFile(i);if(s)return JSON.parse(s);if(r===t)break;r=e.dirname(r)}return null}async function tf(e,r){for(let t=0;t<20;t++){let n=e.dirname(r),i=e.join(n,"node_modules");if(await e.exists(i))return i;if(r===e.getAppRootDir())break;r=e.dirname(r)}return e.join(e.getAppRootDir(),"node_modules")}async function hs(e,r,t){let n=await e.readdir(r);return n.includes(t)?e.join(r,t):(await Promise.all(n.map(async s=>{if(s.startsWith(".")||s==="node_modules")return;let o=e.join(r,s);if((await e.stat(o)).isDirectory()){let l=await hs(e,o,t);if(l)return l}}))).find(s=>typeof s=="string")}async function at(e,r,t){if(!Array.isArray(r)||r.length===0)throw new Error(`createTsProgram() Invalid filePaths: ${r}`);let n=await tf(e,r[0]),i=e.join(n,"typescript","lib"),s=new Map,o={fileExists:a=>{if(a=e.normalize(a),a.includes("node_modules")){let l=gs.get(a);if(!l){try{e.statSync(a).isFile()?l={exists:!0,content:e.readFileSync(a)}:l={exists:!1}}catch{l={exists:!1}}gs.set(a,l)}return l.exists}return s.has(a)||s.set(a,e.existsSync(a)),s.get(a)},getCanonicalFileName:a=>e.normalize(a),getCurrentDirectory:()=>e.cwd(),getDefaultLibFileName:()=>e.join(i,"lib.d.ts"),getDefaultLibLocation:()=>i,getNewLine:()=>`
`,getSourceFile:a=>{if(a=e.normalize(a),a.includes("node_modules")){let u=gs.get(a);if(u)return Ee(e,u.content)}let l=e.readFileSync(a);if(l==null){let u=e.basename(a),c=e.extname(u).toLowerCase();if(a.startsWith(i)&&c===".ts"&&(l=nf.get(u),l==null&&typeof self<"u"&&typeof fetch=="function"))throw new Bo(u)}return a.includes("node_modules")&&(l?gs.set(a,{exists:!0,content:l}):gs.set(a,{exists:!1})),Ee(e,l)},readFile:a=>{let l=e.readFileSync(a);return typeof l=="string"?l:void 0},useCaseSensitiveFileNames:()=>!1,writeFile:()=>{}};for(;;)try{return KC(e,o,r,t)}catch(a){if(a instanceof Bo){await VC(e,a.libName);continue}throw console.error("createTsProgram",a),new Error(`createTsProgram() Could not create program for: ${r[0]}`)}}function KC(e,r,t,n){let i={rootNames:[...t],options:{},host:r},s=e.ts.findConfigFile(e.dirname(t[0]),o=>e.existsSync(o));if(s){let o=rf.get(s);if(!o){let a=e.ts.readConfigFile(s,l=>{let u=e.readFileSync(l);return typeof u=="string"?u:void 0});a.error?console.error("error reading tsconfig for createTsProgram"):(o=e.ts.parseJsonConfigFileContent(a.config,e.ts.sys||{useCaseSensitiveFileNames:!1,readDirectory:(u,c)=>e.readdirSync(u),fileExists:u=>e.existsSync(u),readFile:u=>e.readFileSync(u)||void 0},e.dirname(s),void 0,s).options,rf.set(s,o))}o&&(i.options=Kt(o))}return i.options.noEmit=!0,i.options.isolatedModules=!1,i.options.strict=!1,i.options.jsx=e.ts.JsxEmit.Preserve,i.options.allowJs=!0,Object.assign(i.options,n),e.ts.createProgram(i)}async function Di(e,r,t){t||(t=await at(e,[r]));let n=t.getSourceFile(r);if(!n)throw new Error(`getTypeChecker() Could not find source file: ${r}`);return{typeChecker:t.getTypeChecker(),sourceFile:n}}var Bo=class{constructor(r){this.libName=r}};async function VC(e,r){let t=`https://cdn.jsdelivr.net/npm/typescript@${e.ts.version}/lib/${r}`;Lo.has(r)||Lo.set(r,fetch(t).then(n=>n.text()).then(n=>{nf.set(r,n)})),await Lo.get(r),Lo.delete(r)}var nf=new Map,Lo=new Map,gs=new Map,rf=new Map;async function sf(e,r){let t=await e.readFile(r.filePath);return t==null?{diagnostics:[{messageText:`Error reading: ${r.filePath}`}],code:null,output:null}:Gl(e,{code:t,filePath:r.filePath,compilerOptions:r.compilerOptions})}function Gl(e,r){let t={diagnostics:[],code:r.code,output:null};try{let n=e.ts.transpileModule(r.code,{compilerOptions:r.compilerOptions,fileName:r.filePath??"module.tsx",reportDiagnostics:!0});n.diagnostics?.forEach(i=>{t.diagnostics.push({messageText:String(i.messageText)})}),t.output=n.outputText}catch(n){console.error("transpileModule",n),t.diagnostics.push({messageText:String(n)})}return t}async function Kn(e){let r=[],t=await Gr(e,e.getRepoRootDir());if(t){let n=await af(t,e);r.push(...n)}return r}async function af(e,r){let t=[];if(e&&typeof e=="object"){let n=new Set(Object.keys({...e.dependencies,...e.devDependencies}));for(let i of zC)if(n.has(i)&&!t.some(s=>s.name===i)){let s={name:i};of.has(i)&&(s.version=await of.get(i)(r)),t.push(s)}}return t}function Hl(e){let r=parseInt(e);return Number.isNaN(r)?void 0:r}var of=new Map([["next",async e=>{if(!e.spawnSync)return;let r=ef(),t=r==="npm"?"npx":r,{stdout:n}=e.spawnSync(t,["next","-v"],{encoding:"utf8"});if(!n)return;let i=n.match(/(Next.js v)([\d.]+)/g);if(!i)return;let s=i[0].split("Next.js v")[1],[o,a,l]=s.split(".");return{major:Hl(o),minor:Hl(a),patch:Hl(l)}}]]),zC=["@shopify/remix-oxygen","@shopify/hydrogen","@khulnasoft.com/qwik-city","@remix-run/react","@sveltejs/kit","astro","gatsby","next","nuxt","@khulnasoft.com/qwik","@angular/core","react","solid-js","svelte","vue"];async function Cr(e){let r=lf(e),t=await e.readFile(r);return typeof t=="string"?JSON.parse(t):{}}async function Sr(e,r){r=typeof r=="object"&&r!=null?r:{};let t=lf(e);await e.writeFile(t,JSON.stringify(r??{},null,2))}function lf(e){let r=e.getAppRootDir();return e.join(r,"node_modules",".khulnasoft","khulnasoft-cache.json")}async function bn(e,r,t){let n={envKey:t,envValue:null,file:""};for(let i of r){let s=e.join(e.getAppRootDir(),i),o=await qC(e,s);if(o){let a=o[t];if(typeof a=="string"&&a.length>0&&a!=="YOUR_API_KEY")return n.envValue=a,n.file=s,n}}return n.file=e.join(e.getAppRootDir(),r[r.length-1]),n}async function qC(e,r){let t=await e.readFile(r);return typeof t=="string"?uf(t):null}function uf(e){let r={},t=e.replace(/\r\n?/gm,`
`),n;for(;(n=WC.exec(t))!=null;){let i=n[1],s=n[2]||"";s=s.trim();let o=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),o==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),r[i]=s}return r}var WC=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;async function xn(e,r,t,n){let i="# https://www.khulnasoft.com/c/docs/using-your-api-key",s=await e.readFile(r);if(s)if(s.includes(t))if(s.includes(n))e.debug(`"${t}" with "${n}" already set in ${r}`);else return e.debug(`Replace "${t}" in ${r}`),s=s.replace(new RegExp(`${t}=.*`),`${t}=${n}`),await e.writeFile(r,s),"update";else return e.debug(`Append "${t}" to ${r}`),s+=`

${i}
${t}=${n}

`,await e.writeFile(r,s),"update";else return e.debug(`Creating new .env file with "${t}" at ${r}`),s=[i,`${t}=${n}`,""].join(`
`),await e.writeFile(r,s),"create";return null}async function ys(e){return await bn(e,[".env.local",".env.development.local",".env.production.local",".env.development",".env.production",".env"],wr)}async function cf(e,r){let t=await ys(e),n=await xn(e,t.file,t.envKey,r);return{...t,modifiedType:n}}var wr="NEXT_PUBLIC_KHULNASOFT_API_KEY";var re={gen1:"Gen 1",gen2:"Gen 2"},Ds={CMS:"cms",VCP:"vcp",HYBRID:"hybrid"};function bi(e,r,t,n,i=!0){let s=r.properties.filter(a=>e.ts.isPropertyAssignment(a)),o=GC(e,r,t);return o>-1?n==null&&i?e.ts.factory.updateObjectLiteralExpression(r,s.filter((a,l)=>l!==o)):(s[o]=e.ts.factory.updatePropertyAssignment(s[o],s[o].name,bs(e,n)),e.ts.factory.updateObjectLiteralExpression(r,s)):(n!=null&&s.push(e.ts.factory.createPropertyAssignment(t,bs(e,n))),e.ts.factory.updateObjectLiteralExpression(r,s))}function GC(e,r,t){return r.properties.findIndex(n=>Ne(e,n)===t)}function xs(e,r){switch(r.kind){case e.ts.SyntaxKind.ArrayLiteralExpression:return JC(e,r);case e.ts.SyntaxKind.ObjectLiteralExpression:return HC(e,r);case e.ts.SyntaxKind.StringLiteral:return r.text;case e.ts.SyntaxKind.NumericLiteral:return Number(r.text);case e.ts.SyntaxKind.NoSubstitutionTemplateLiteral:return r.text;case e.ts.SyntaxKind.TrueKeyword:return!0;case e.ts.SyntaxKind.FalseKeyword:return!1;case e.ts.SyntaxKind.Identifier:switch(r.escapedText){case"undefined":return;case"null":return null;case"String":return String;case"Number":return Number;case"Boolean":return Boolean;case"NaN":return NaN}}}function HC(e,r){let t={};if(r&&e.ts.isObjectLiteralExpression(r)){for(let n of r.properties)if(e.ts.isPropertyAssignment(n)){let i=Ne(e,n);i&&(t[i]=xs(e,n.initializer))}}return t}function JC(e,r){return r&&e.ts.isArrayLiteralExpression(r)?r.elements.map(t=>xs(e,t)):[]}function Ne(e,r){if(r&&e.ts.isPropertyAssignment(r)){let t=r.name;switch(t.kind){case e.ts.SyntaxKind.Identifier:return t.text;case e.ts.SyntaxKind.StringLiteral:case e.ts.SyntaxKind.NumericLiteral:return t.text;case e.ts.SyntaxKind.ComputedPropertyName:let n=t.expression;if(e.ts.isStringLiteral(n)||e.ts.isNumericLiteral(n))return t.expression.text}}}function bs(e,r){return Jl(e,r,new WeakSet)}function Jl(e,r,t){return r===void 0?e.ts.factory.createIdentifier("undefined"):r===null?e.ts.factory.createIdentifier("null"):typeof r=="string"?e.ts.factory.createStringLiteral(r):typeof r=="number"?isNaN(r)?e.ts.factory.createIdentifier("NaN"):e.ts.factory.createNumericLiteral(r):r===!0?e.ts.factory.createTrue():r===!1?e.ts.factory.createFalse():r===String?e.ts.factory.createIdentifier("String"):r===Number?e.ts.factory.createIdentifier("Number"):r===Boolean?e.ts.factory.createIdentifier("Boolean"):Array.isArray(r)?YC(e,r,t):typeof r=="object"?XC(e,r,t):e.ts.factory.createIdentifier(r)}function YC(e,r,t){let n=r.map(i=>Jl(e,i,t));return e.ts.factory.createArrayLiteralExpression(n,!0)}function XC(e,r,t){if(t.has(r))return e.ts.factory.createIdentifier("undefined");t.add(r);let n=Object.keys(r).map(i=>e.ts.factory.createPropertyAssignment(i,Jl(e,r[i],t)));return e.ts.factory.createObjectLiteralExpression(n,!0)}function Vn(e,r,t){let n=[];if(!t)return n;let i=null;if(e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t)||e.ts.isFunctionDeclaration(t)){let s=t.parameters;if(s.length>0){let o=s[0],a=r.getTypeAtLocation(o);a.aliasTypeArguments&&a.aliasTypeArguments.length>0?i=a.aliasTypeArguments[0].getProperties():i=a.getProperties()}}else if(e.ts.isIdentifier(t)){let s=r.getTypeAtLocation(t),o=s.symbol?.valueDeclaration;if(o&&e.ts.isClassDeclaration(o)){let l=o.heritageClauses?.find(u=>u.token===e.ts.SyntaxKind.ExtendsKeyword)?.types;if(l){for(let u of l)if(r.getSymbolAtLocation(u.expression)?.name==="Component"){if(e.ts.isExpressionWithTypeArguments(u)){let p=u.typeArguments;if(p){let d=p[0];i=r.getTypeFromTypeNode(d).getProperties()}}break}}}if(!i){let a=s.getCallSignatures();if(a.length>0){let l=a[0].getParameters();l.length>0&&(i=r.getTypeOfSymbolAtLocation(l[0],t).getProperties())}}}else if(e.ts.isExportSpecifier(t)){let s=r.getSymbolAtLocation(t.name);if(s){let a=r.getTypeOfSymbolAtLocation(s,t).getCallSignatures();if(a.length>0){let l=a[0].getParameters();l.length>0&&(i=r.getTypeOfSymbolAtLocation(l[0],t).getProperties())}}}if(i)for(let s of i){let o=QC(e,r,s);o&&n.push(o)}return n=n.filter(df),n.length>0?n:ZC(e,t)}function QC(e,r,t){let n=t.valueDeclaration,i=t.getName();if(n||(n=t.getDeclarations()?.[0]),n&&e.ts.isPropertySignature(n)){if(i!=="children"&&n.getSourceFile().fileName.includes("node_modules/@types/"))return null;let s="string",o;if(n?.type){let l=r.getTypeFromTypeNode(n.type),u=r.typeToString(l),c=Yl(u);c.knownType?s=c.khulnasoftType:t0(u)||l.flags&e.ts.TypeFlags.StringLike?s="string":l.flags&e.ts.TypeFlags.NumberLike?s="number":l.flags&e.ts.TypeFlags.IndexedAccess?s="list":l.flags&e.ts.TypeFlags.Object||l.isUnion()&&l.types.every(p=>p.flags&e.ts.TypeFlags.Object)||l.isIntersection()&&l.types.some(p=>p.flags&e.ts.TypeFlags.Object)?s="object":s="string",u!==s&&(o=u)}let a={name:i,type:s,isRegistered:!1};if(o&&n.type){let l=s0(e,r,r.getTypeFromTypeNode(n.type));a.meta=a.meta||{},l&&l.length>0&&a.type==="string"&&l.every(n0)?a.enum=l.map(i0):a.meta.ts=o}return n.questionToken||(a.required=!0),a}return null}function ZC(e,r){let t=[],n=e.ts.getJSDocCommentsAndTags(r);for(let i of n)if(!(!e.ts.isJSDoc(i)||!i.tags))for(let s of i.tags){if(!e.ts.isJSDocParameterTag(s)||s.tagName.text!=="param")continue;let a=s.typeExpression?.type;if(!a||!e.ts.isJSDocTypeLiteral(a))continue;let l=a.jsDocPropertyTags;if(l)for(let u of l){if(!e.ts.isJSDocPropertyLikeTag(u))continue;let c=u.name;if(!e.ts.isQualifiedName(c))continue;let p=u.typeExpression;if(!p)continue;let d="";switch(p.type.kind){case e.ts.SyntaxKind.StringKeyword:{d="string";break}case e.ts.SyntaxKind.NumberKeyword:{d="number";break}case e.ts.SyntaxKind.BooleanKeyword:{d="boolean";break}default:continue}let m={name:c.right.text,type:d,isRegistered:!1};t.push(m)}}return t.filter(df)}var e0=["ClassicComponent","FunctionComponent","IntrinsicElements","JSX","ReactNode","ReactElement","ReactPortal"];function t0(e){return typeof e!="string"?!1:!!e0.some(r=>e.includes(r))}function Yl(e){return typeof e=="string"&&(e=e.trim(),r0.some(r=>r.value===e))?{khulnasoftType:e,knownType:!0}:{khulnasoftType:"string",knownType:!1}}var r0=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}];function n0(e){return/^['"].*['"]$/.test(e)}function i0(e){return(e.startsWith('"')||e.startsWith("'"))&&(e.endsWith('"')||e.endsWith("'"))?e.slice(1,-1):e}var s0=(e,r,t)=>{let n=new Set;pf(e,r,t,n);let i=n.delete("true"),s=n.delete("false");(i||s)&&n.add("boolean");let o=Array.from(n.keys()).sort();if(o.length>1&&(o=o.map(a=>a.indexOf("=>")>=0?`(${a})`:a)),!(o.length>20))return o},o0=(e,r,t)=>{let n=e.ts.TypeFormatFlags.InElementType|e.ts.TypeFormatFlags.NoTruncation;return r.typeToString(t,void 0,n)},pf=(e,r,t,n)=>{if(t.isUnion())t.types.forEach(i=>{pf(e,r,i,n)});else if(t.isLiteral()){let i=o0(e,r,t);n.add(i)}};function df(e){let r=e?.name;if(typeof r!="string"||r===""||r.startsWith("aria")||r.startsWith("data-"))return!1;if(r.startsWith("on")&&r.length>2){let t=r.charAt(2);if(t.toUpperCase()===t)return!1}return!a0.has(r.toLowerCase())}var a0=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(e=>e.toLowerCase()));function Bt(e,r,t){for(let n of t.properties){if(!e.ts.isPropertyAssignment(n))continue;let i=Ne(e,n);if(i==="name"&&e.ts.isStringLiteral(n.initializer)){r.name=n.initializer.text;continue}if(i==="description"&&e.ts.isStringLiteral(n.initializer)){r.description=n.initializer.text;continue}if(i==="image"&&e.ts.isStringLiteral(n.initializer)){r.image=n.initializer.text;continue}if(i==="inputs"&&e.ts.isArrayLiteralExpression(n.initializer)){let s=l0(e,n.initializer);zt(r,s);continue}if(i==="meta"&&e.ts.isObjectLiteralExpression(n.initializer)){let s=xs(e,n.initializer);s&&typeof s=="object"&&(r.meta=s);continue}}return r}function l0(e,r){let t=[];for(let n of r.elements)e.ts.isObjectLiteralExpression(n)&&t.push(u0(e,n));return t}function u0(e,r){let t=xs(e,r),n=g0(t);return n.isRegistered=!0,n}function lt(e,r,t){let n=p0(t);return r=bi(e,r,"name",n.name,!1),r=bi(e,r,"description",n.description),r=bi(e,r,"image",n.image),r=bi(e,r,"meta",n.meta),r=c0(e,r,n),y0(e,r)}function c0(e,r,t){let n=null,i=r.properties.filter(a=>e.ts.isPropertyAssignment(a)&&e.ts.isIdentifier(a.name)),s=i.findIndex(a=>e.ts.isIdentifier(a.name)&&a.name.text==="inputs"),o=[...t.inputs??[]];if(s>-1){if(o.length===0)return bi(e,r,"inputs",null);let a=i[s];e.ts.isPropertyAssignment(a)&&e.ts.isArrayLiteralExpression(a.initializer)&&(n=a.initializer)}return o.length===0?r:(n=f0(e,n||e.ts.factory.createArrayLiteralExpression(),o),s>-1?i[s]=e.ts.factory.updatePropertyAssignment(i[s],i[s].name,n):i.push(e.ts.factory.createPropertyAssignment("inputs",n)),e.ts.factory.updateObjectLiteralExpression(r,i))}function p0(e){return{name:e.name,description:e.description,image:e.image,inputs:(e.inputs||[]).filter(t=>t.isRegistered).map(d0),...e.meta?{meta:{...e.meta}}:{}}}function d0(e){let r={name:e.name,type:e.type};return(vt(e.defaultValue)||ms(e.defaultValue)||gi(e.defaultValue))&&(r.defaultValue=e.defaultValue),vt(e.friendlyName)&&(r.friendlyName=e.friendlyName),vt(e.helperText)&&(r.helperText=e.helperText),e.required===!0&&(r.required=!0),Array.isArray(e.enum)&&(r.enum=e.enum),e.hideFromUI===!0&&(r.hideFromUI=!0),typeof e.meta=="object"&&e.meta!=null&&Object.keys(e.meta).length>0&&(r.meta=e.meta),r}function f0(e,r,t){let n=r.elements.filter(i=>{if(!e.ts.isObjectLiteralExpression(i))return!1;let s=i.properties.find(a=>Ne(e,a)==="name");if(!s)return!1;let o=s.initializer;return e.ts.isStringLiteral(o)?t.some(a=>a.name===o.text):!1});for(let i of t)n=m0(e,n,i);return n.sort((i,s)=>{let o=i.properties.find(d=>Ne(e,d)==="name"),a=s.properties.find(d=>Ne(e,d)==="name"),l=o?.initializer,u=a?.initializer,c=l&&e.ts.isStringLiteral(l)?l.text:"zz",p=u&&e.ts.isStringLiteral(u)?u.text:"zz";return c.toLowerCase().localeCompare(p.toLowerCase())}),e.ts.factory.updateArrayLiteralExpression(r,n)}function m0(e,r,t){let n=r.findIndex(i=>i.properties.some(s=>{let o=Ne(e,s);return e.ts.isPropertyAssignment(s)&&o==="name"&&e.ts.isStringLiteral(s.initializer)&&s.initializer.text===t.name}));if(n>-1)r[n]=ff(e,r[n],t);else{let i=ff(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("name",e.ts.factory.createStringLiteral(t.name))],!0),t);r.push(i)}return r}function ff(e,r,t){let n=r.properties.filter(s=>e.ts.isPropertyAssignment(s)),i=Object.keys(t).filter(s=>s!=="isRegistered");for(let s of i)n=h0(e,n,t,s);return n=D0(e,n.filter(s=>{let o=Ne(e,s);return i.includes(o)})),e.ts.factory.updateObjectLiteralExpression(r,n)}function h0(e,r,t,n){let i=r.findIndex(s=>e.ts.isIdentifier(s.name)&&s.name.text===n);return i>-1?r[i]=e.ts.factory.updatePropertyAssignment(r[i],r[i].name,bs(e,t[n])):r.push(e.ts.factory.createPropertyAssignment(n,bs(e,t[n]))),r}function zt(e,r){for(let t of r){let n=e.inputs.findIndex(i=>i.name===t.name);n>-1?(t.isRegistered||!e.inputs[n].isRegistered)&&(e.inputs[n]=t):e.inputs.push(t)}e.acceptsChildren=Xl(e)}function g0(e){let r=Yl(e.type),t={name:e.name.trim(),type:r.khulnasoftType};return vt(e.friendlyName)&&e.friendlyName.trim()!==e.name.trim()&&(t.friendlyName=e.friendlyName),(vt(e.defaultValue)||ms(e.defaultValue)||gi(e.defaultValue))&&(t.defaultValue=e.defaultValue),vt(e.helperText)&&(t.helperText=e.helperText),gi(e.required)&&(t.required=e.required),typeof e.meta=="object"&&e.meta!=null&&Object.keys(e.meta).length>0&&(t.meta=e.meta),Array.isArray(e.enum)&&e.enum.length>0&&(t.enum=e.enum),e.hideFromUI===!0&&(t.hideFromUI=!0),Ql(t)}function Xl(e){let r=e.inputs.some(n=>n.name==="children"),t=e.inputs.some(n=>n.meta?.ts==="ReactNode");return!!(r||t||e.acceptsChildren===!0)}function Ql(e){if(e.name==="children"&&(e.hideFromUI=!0,delete e.required),e.type==="object"&&e.defaultValue==null&&(e.hideFromUI=!0),e.type==="list"&&e.defaultValue==null&&(e.hideFromUI=!0),e.meta){let r=e.meta.ts;typeof r=="string"&&(r=r.trim(),r.endsWith("ReactNode")&&(r="ReactNode"),e.meta.ts=r,r==="ReactNode"&&(e.hideFromUI=!0))}return e}function y0(e,r){let t=[...r.properties].sort((n,i)=>{let s=Ne(e,n)||"zz",o=Ne(e,i)||"zz";if(s==="inputs")return 1;let a=mf.indexOf(s),l=mf.indexOf(o);return a>-1?l>-1&&a>l?1:-1:l>-1?a>-1&&l<a?-1:1:s.localeCompare(o)});return e.ts.factory.updateObjectLiteralExpression(r,t)}var mf=["component","name","description"];function D0(e,r){return[...r].sort((n,i)=>{let s=Ne(e,n)||"zz",o=Ne(e,i)||"zz",a=hf.indexOf(s),l=hf.indexOf(o);return a>-1?l>-1&&a>l?1:-1:l>-1?a>-1&&l<a?-1:1:s.localeCompare(o)})}var hf=["name","type"];function xi(e,r){for(let t of r.properties){if(!e.ts.isPropertyAssignment(t)||!e.ts.isIdentifier(t.name))continue;if(Ne(e,t)==="canHaveChildren"){let{initializer:i}=t;return i.kind===e.ts.SyntaxKind.TrueKeyword}}return!1}function gf(e,r){let t=`Khulnasoft.registerComponent(
`;if(e.appDir)r.acceptsChildren?t+=`  withChildren(${r.importName}),
`:t+=`  ${r.importName},
`;else{let i=r.externalImportPath?r.externalImportPath:Se(e,e.registryPath,r.filePath);r.exportName==="default"?r.acceptsChildren?t+=`  withChildren(dynamic(() => import(${JSON.stringify(i)}))),
`:t+=`  dynamic(() => import(${JSON.stringify(i)})),
`:r.acceptsChildren?t+=`  withChildren(dynamic(async () => (await import(${JSON.stringify(i)})).${r.exportName})),
`:t+=`  dynamic(async () => (await import(${JSON.stringify(i)})).${r.exportName}),
`}t+=`  {
    name: "${r.name}",
  }
`,t+=");";let n=Oo(e,t);return Zl(e,n,r)}function Zl(e,r,t){if(!e.ts.isExpressionStatement(r))return r;let n=r.expression;if(!e.ts.isCallExpression(n))return r;let i=[...n.arguments];if(i.length<2)return r;t.acceptsChildren?e.ts.isCallExpression(i[0])&&e.ts.isIdentifier(i[0].expression)&&i[0].expression.text==="withChildren"||(i[0]=e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("withChildren"),void 0,[i[0]])):e.ts.isCallExpression(i[0])&&e.ts.isIdentifier(i[0].expression)&&i[0].expression.text==="withChildren"&&(i[0]=i[0].arguments[0]);let s=i[1];return e.ts.isObjectLiteralExpression(s)?(i[1]=lt(e,s,t),e.ts.factory.updateExpressionStatement(r,e.ts.factory.updateCallExpression(n,n.expression,n.typeArguments,i))):r}function Ce(e,r,t,n="esm"){return Array.isArray(t.namedImports)&&t.namedImports.forEach(i=>{r=b0(e,r,i,t.importPath,!!t.isTypeOnly,n)}),typeof t.defaultImport=="string"&&(r=x0(e,r,t.defaultImport,t.importPath,n)),r}function b0(e,r,t,n,i,s){return s==="cjs"?Df(e,r,null,t,n):yf(e,r,null,t,n,i)}function x0(e,r,t,n,i){return i==="cjs"?Df(e,r,t,null,n):yf(e,r,t,null,n,!1)}function yf(e,r,t,n,i,s){let o=[...r.statements],a=0,l=!1,u=!1;for(let f=0;f<o.length;f++){let m=o[f];if(!e.ts.isImportDeclaration(m)||(a=f,!m.moduleSpecifier||!e.ts.isStringLiteral(m.moduleSpecifier))||m.moduleSpecifier.text!==i||!!m.importClause?.isTypeOnly!==s)continue;let h=[],g=m.importClause?.namedBindings;if(g&&e.ts.isNamedImports(g)&&g.elements&&h.push(...g.elements),typeof n=="string"){if(h.some(D=>D.name.text===n))return r;h.push(e.ts.factory.createImportSpecifier(!1,void 0,e.ts.factory.createIdentifier(n))),h.sort((D,C)=>D.name.text.localeCompare(C.name.text)),l=!0}let y=m.importClause?m.importClause.name:void 0;if(typeof t=="string"){if(y&&y.text===t)return r;y=e.ts.factory.createIdentifier(t),u=!0}if(l||u)return o[f]=e.ts.factory.updateImportDeclaration(m,void 0,e.ts.factory.createImportClause(s,y,e.ts.factory.createNamedImports(h)),m.moduleSpecifier,void 0),e.ts.factory.updateSourceFile(r,o)}let c,p;typeof t=="string"&&(c=e.ts.factory.createIdentifier(t)),typeof n=="string"&&(p=e.ts.factory.createNamedImports([e.ts.factory.createImportSpecifier(!1,void 0,e.ts.factory.createIdentifier(n))]));let d=e.ts.factory.createImportDeclaration(void 0,e.ts.factory.createImportClause(s,c,p),e.ts.factory.createStringLiteral(i));return o.splice(a,0,d),e.ts.factory.updateSourceFile(r,o)}function Df(e,r,t,n,i){let s=[...r.statements],o=0;for(let a=0;a<s.length;a++){let l=s[a];if(e.ts.isVariableStatement(l))for(let u=0;u<l.declarationList.declarations.length;u++){let c=[...l.declarationList.declarations],p=c[u],d=p.initializer;if(!d||!e.ts.isCallExpression(d))continue;let f=d.expression;if(!e.ts.isIdentifier(f)||f.text!=="require"||d.arguments.length!==1)continue;let m=d.arguments[0];if(e.ts.isStringLiteral(m)&&(o=a,m.text===i)){if(e.ts.isIdentifier(p.name)&&typeof t=="string")return p.name.text===t?r:(c[u]=e.ts.factory.updateVariableDeclaration(p,e.ts.factory.createIdentifier(t),p.exclamationToken,p.type,p.initializer),s[a]=e.ts.factory.updateVariableStatement(l,l.modifiers,e.ts.factory.updateVariableDeclarationList(l.declarationList,c)),e.ts.factory.updateSourceFile(r,s));if(e.ts.isObjectBindingPattern(p.name)&&typeof n=="string"){let h=[...p.name.elements];return h.some(y=>!e.ts.isBindingElement(y)||!e.ts.isIdentifier(y.name)?!1:y.name.text===n)?r:(h.push(e.ts.factory.createBindingElement(void 0,void 0,n)),h.sort((y,D)=>!e.ts.isBindingElement(y)||!e.ts.isIdentifier(y.name)||!e.ts.isBindingElement(D)||!e.ts.isIdentifier(D.name)?0:y.name.text.localeCompare(D.name.text)),c[u]=e.ts.factory.updateVariableDeclaration(p,e.ts.factory.createObjectBindingPattern(h),p.exclamationToken,p.type,p.initializer),s[a]=e.ts.factory.updateVariableStatement(l,l.modifiers,e.ts.factory.updateVariableDeclarationList(l.declarationList,c)),e.ts.factory.updateSourceFile(r,s))}}}}if(typeof t=="string"){let a=e.ts.factory.createVariableStatement(void 0,e.ts.factory.createVariableDeclarationList([e.ts.factory.createVariableDeclaration(t,void 0,void 0,e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("require"),void 0,[e.ts.factory.createStringLiteral(i)]))],e.ts.NodeFlags.Const));return s.splice(o,0,a),e.ts.factory.updateSourceFile(r,s)}if(typeof n=="string"){let a=e.ts.factory.createVariableStatement(void 0,e.ts.factory.createVariableDeclarationList([e.ts.factory.createVariableDeclaration(e.ts.factory.createObjectBindingPattern([e.ts.factory.createBindingElement(void 0,void 0,n)]),void 0,void 0,e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("require"),void 0,[e.ts.factory.createStringLiteral(i)]))],e.ts.NodeFlags.Const));return s.splice(o,0,a),e.ts.factory.updateSourceFile(r,s)}return r}function zn(e,r,t="esm"){return t==="cjs"?C0(e,r):E0(e,r)}function E0(e,r){let t=[];for(let n of r.statements){if(e.ts.isExportDeclaration(n)){if(n.exportClause&&e.ts.isNamedExports(n.exportClause)){for(let i of n.exportClause.elements)if(n.moduleSpecifier&&t.push({isDefaultExport:!1,statement:n,node:i}),e.ts.isIdentifier(i.name)){let s=i.name.text;for(let o of r.statements)if(e.ts.isVariableStatement(o))for(let a of o.declarationList.declarations)e.ts.isIdentifier(a.name)&&a.name.text===s&&t.push({isDefaultExport:!1,statement:o,node:o});else e.ts.isFunctionDeclaration(o)&&o.name&&o.name.text===s&&t.push({isDefaultExport:!1,statement:o,node:o})}}else!n.exportClause&&n.moduleSpecifier&&t.push({isDefaultExport:!1,statement:n,node:n});continue}if(e.ts.isExportAssignment(n)){let i=n.flags===e.ts.NodeFlags.None,s=n.expression;if(e.ts.isIdentifier(s)){let o=s.text;for(let a of r.statements){if(e.ts.isVariableStatement(a))for(let l of a.declarationList.declarations)e.ts.isIdentifier(l.name)&&l.name.text===o&&t.push({isDefaultExport:i,statement:a,node:a});e.ts.isFunctionDeclaration(a)&&a.name?.text===o&&t.push({isDefaultExport:i,statement:a,node:a})}}else(e.ts.isArrowFunction(s)||e.ts.isCallExpression(s)||e.ts.isFunctionDeclaration(s)||e.ts.isObjectLiteralExpression(s))&&t.push({isDefaultExport:i,statement:n,node:s});continue}if((e.ts.isVariableStatement(n)||e.ts.isFunctionDeclaration(n))&&n.modifiers&&n.modifiers.some(i=>i.kind===e.ts.SyntaxKind.ExportKeyword)){t.push({isDefaultExport:n.modifiers.some(i=>i.kind===e.ts.SyntaxKind.DefaultKeyword),statement:n,node:n});continue}}return t}function C0(e,r){let t=[];for(let n of r.statements)if(e.ts.isExpressionStatement(n)&&e.ts.isBinaryExpression(n.expression)&&e.ts.isPropertyAccessExpression(n.expression.left)){let i=n.expression.left,s=n.expression.right;if(!e.ts.isIdentifier(i.expression))continue;if(i.expression.text==="module"&&i.name.text==="exports"){if(e.ts.isIdentifier(s)){let o=s.text;for(let a of r.statements)if(e.ts.isVariableStatement(a))for(let l of a.declarationList.declarations)e.ts.isIdentifier(l.name)&&l.name.text===o&&t.push({isDefaultExport:!0,statement:a,node:a});else e.ts.isFunctionDeclaration(a)&&a.name&&a.name.text===o&&t.push({isDefaultExport:!0,statement:a,node:a})}else t.push({isDefaultExport:!0,statement:n,node:s});continue}}return t}function S0(e,r,t){for(let n of r.statements)if(e.ts.isImportDeclaration(n)&&n.importClause){if(n.importClause.namedBindings&&e.ts.isNamedImports(n.importClause.namedBindings)){for(let i of n.importClause.namedBindings.elements)if(e.ts.isIdentifier(i.name)&&i.name.text===t&&e.ts.isStringLiteral(n.moduleSpecifier))return{importPath:n.moduleSpecifier.text,exportType:"named"}}if(n.importClause.name&&n.importClause.name.text===t&&e.ts.isStringLiteral(n.moduleSpecifier))return{importPath:n.moduleSpecifier.text,exportType:"default"}}return null}async function Tr(e,r,t,n){let i=S0(e,t,n);if(i){let s=await Es(e,e.normalize(e.resolve(e.dirname(r),i.importPath))),o=e.relative(e.getAppRootDir(),s);return{displayFilePath:Ie(e,s),filePath:s,relFilePath:o,importPath:i.importPath,exportType:i.exportType}}return null}function Ei(e,r,t){for(let n=0;n<r.statements.length;n++){let i=r.statements[n];if(e.ts.isVariableStatement(i)){for(let s of i.declarationList.declarations)if(e.ts.isIdentifier(s.name)&&s.name.text===t)return{statement:i,statementIndex:n}}}return null}function it(e,r,t){let n=Ei(e,r,t);if(n&&n.statement.declarationList.declarations.length>0){let i=n.statement.declarationList.declarations[0];if(i.initializer&&e.ts.isArrayLiteralExpression(i.initializer))return{statement:n.statement,statementIndex:n.statementIndex,variableDeclaration:i,arrayLiteralExp:i.initializer}}return null}function Mo(e,r){if(r){if(w0(e,r))return!0;let t=!1;if(r.forEachChild(n=>{Mo(e,n)&&(t=!0)}),t)return!0}return!1}function w0(e,r){return e.ts.isJsxElement(r)||e.ts.isJsxOpeningElement(r)||e.ts.isJsxOpeningFragment(r)||e.ts.isJsxSelfClosingElement(r)||e.ts.isJsxFragment(r)||e.ts.isJsxChild(r)}async function Es(e,r){let t=e.extname(r).toLowerCase();if(t===""||!eu.includes(t)){for(let n of eu){let i=r+n;if(await e.exists(i))return i}for(let n of eu){let i=e.join(r,"index"+n);if(await e.exists(i))return i}}return r}var eu=[".tsx",".jsx",".ts",".js"];function Ci(e,r,t){if(!t||!r)return;let n=r.getSymbolAtLocation(t);if(!n)return;let i=n.valueDeclaration;if(!i)return;let s=i.getSourceFile().fileName,o=T0(e,s);return o?[{name:o}]:void 0}function T0(e,r){if(typeof r=="string"){r=e.normalize(lr(r));let t=r.split("/"),n=t.lastIndexOf("node_modules");if(n>-1){let i=t.slice(n+1),s=i[0];if(s)return s.startsWith("@")&&i[1]&&(s+="/"+i[1]),s}}}function Ar(e){let r=[];for(let t of e)if(t.dependencies)for(let n of t.dependencies)r.some(i=>i.name===n.name)||r.push({...n});return r.sort((t,n)=>t.name.localeCompare(n.name))}function bf(e,r,t="esm"){return t==="cjs"?P0(e,r):v0(e,r)}var A0=/^(@\w|\w)/;function v0(e,r){let t=[];for(let n of r.statements)if(e.ts.isImportDeclaration(n)&&e.ts.isLiteralExpression(n.moduleSpecifier)){if(!A0.test(n.moduleSpecifier.text)||n.importClause?.isTypeOnly)continue;if(n.importClause&&n.importClause.namedBindings&&e.ts.isNamedImports(n.importClause.namedBindings))for(let i of n.importClause.namedBindings.elements)i.isTypeOnly||t.push({isDefaultExport:!1,statement:n,node:i.name});n.importClause&&n.importClause.name&&t.push({isDefaultExport:!0,statement:n,node:n.importClause.name})}return t}function P0(e,r){return[]}async function Si(e,r){if(!r.some(o=>!o.isRegistered))return r;let n=await at(e,r.map(o=>o.filePath)),i=n.getTypeChecker();return await Promise.all(r.map(async o=>{let a=n.getSourceFile(o.filePath);if(a){let u=(await En(e,i,o.filePath,a,!1)).find(c=>c.cmpInfo.id===o.id);u&&(o.inputs=Vn(e,i,u.node.fnNode))}return o}))}async function wi(e,r,t,n){if(r.node.fnNode){let{sourceFile:i,typeChecker:s}=await Di(e,r.cmpInfo.filePath,t),a=(await En(e,s,r.cmpInfo.filePath,i,n)).find(l=>l.cmpInfo.id===r.cmpInfo.id);if(!a)throw new Error(`createComponentInputs() Could not find component ${r.cmpInfo.name} in ${r.cmpInfo.filePath}`);return Vn(e,s,a.node.fnNode)}return[]}async function Ef(e,r,t){let n=e.extname(r).toLowerCase();if(n===".tsx"||n===".jsx"||n===".ts"||n===".js"){let i=await e.readFile(r);if(i)return I0(e,r,i,t)}return null}function I0(e,r,t,n=!1){let i=Ee(e,t);return En(e,null,r,i,n)}async function En(e,r,t,n,i){let s=[];for(let a of n.statements)if(e.ts.isExpressionStatement(a)&&e.ts.isStringLiteral(a.expression)&&a.expression.text==="use server")return s;let o=zn(e,n);return i&&o.push(...bf(e,n)),t=e.normalize(t),await Promise.all(o.map(async a=>{let l=await N0(e,r,t,a);s.push(...l)})),s}async function N0(e,r,t,n){let i=[],s=e.relative(e.getAppRootDir(),t),o=Le(e,t);if(e.ts.isVariableStatement(n.node)){for(let a of n.node.declarationList.declarations){if(!e.ts.isIdentifier(a.name)||!yi(a.name.text))continue;let l=Hr(e,r,a.initializer);if(l){let u=l.name||a.name.text,c=n.isDefaultExport?"default":u,p=n.isDefaultExport?"default":"named";i.push({cmpInfo:{id:await Be(e,t,c),displayFilePath:Ie(e,t),name:$e(u),inputs:[],exportName:c,exportType:p,importName:u,filePath:t,relFilePath:s,importPath:o,dependencies:l.deps},node:l})}}return i}if(e.ts.isArrowFunction(n.node)){let a=Hr(e,r,n.node);if(a){let l=Zt(e,t),u=n.isDefaultExport?"default":l,c=n.isDefaultExport?"default":"named";i.push({cmpInfo:{id:await Be(e,t,u),displayFilePath:Ie(e,t),name:l,inputs:[],exportName:u,exportType:c,importName:jn(e,t),filePath:t,relFilePath:s,importPath:o,dependencies:a.deps},node:a})}return i}if(e.ts.isFunctionExpression(n.node)||e.ts.isFunctionDeclaration(n.node)){let a=n.node.name?.text;if(a&&!yi(a))return i;let l=Hr(e,r,n.node);if(l){let u=l.name||Zt(e,t),c=n.isDefaultExport||!l.name?"default":l.name,p=n.isDefaultExport?"default":"named";i.push({cmpInfo:{id:await Be(e,t,c),displayFilePath:Ie(e,t),name:u,inputs:[],exportName:c,exportType:p,importName:l.name||jn(e,t),filePath:t,relFilePath:s,importPath:o,dependencies:l.deps},node:l})}return i}if((e.ts.isExportSpecifier(n.node)||e.ts.isIdentifier(n.node))&&yi(n.node.getText())){let a,l=Hr(e,r,n.node);if(l){let u=l.name||Zt(e,t),c=n.isDefaultExport||!l.name?"default":l.name,p=n.isDefaultExport?"default":"named",d=F0(e,n.node)?.moduleSpecifier??_0(e,n.node)?.moduleSpecifier;if(d&&e.ts.isStringLiteral(d)){let f=r?.getSymbolAtLocation(d);if(f&&f.declarations&&f.declarations.length>0){let m=f.declarations[0];(!e.ts.isSourceFile(m)||e.ts.isSourceFile(m)&&m.fileName.includes("node_modules"))&&(a=d.text)}}i.push({cmpInfo:{id:await Be(e,t,c,a),displayFilePath:Ie(e,t),name:u,inputs:[],exportName:c,exportType:p,importName:l.name||jn(e,t),filePath:t,relFilePath:s,importPath:a||o,externalImportPath:a,dependencies:l.deps},node:l})}return i}if(e.ts.isExportDeclaration(n.node)&&n.node.exportClause===void 0){let a=n.node.moduleSpecifier;if(a&&e.ts.isStringLiteral(a)){let l=await O0(e,r,t,a);i.push(...l)}return i}return i}function F0(e,r){for(;r;){if(e.ts.isExportDeclaration(r))return r;r=r.parent}return null}function _0(e,r){for(;r;){if(e.ts.isImportDeclaration(r))return r;r=r.parent}return null}function Hr(e,r,t){if(!t)return null;if(e.ts.isArrowFunction(t))return Mo(e,t.body)?{name:"",fnNode:t,deps:Ci(e,r,t)}:null;if(e.ts.isFunctionExpression(t)||e.ts.isFunctionDeclaration(t))return Mo(e,t.body)?{name:t.name?.text||"",fnNode:t,deps:Ci(e,r,t)}:null;if(e.ts.isCallExpression(t)){let n=t.expression;if(e.ts.isPropertyAccessExpression(n)){let i=t.arguments;if(i.length===0)return null;let s=n.expression;if(!e.ts.isIdentifier(s)||s.text!=="React")return null;let o=n.name;return!e.ts.isIdentifier(o)||o.text!=="forwardRef"?null:Hr(e,r,i[0])}else if(e.ts.isIdentifier(n)&&n.text==="observer"){let i=t.arguments;return i.length===0?null:Hr(e,r,i[0])}return null}if(!r)return null;if(e.ts.isPropertyAccessExpression(t)){let n=t.expression,i=t.name;if(!e.ts.isIdentifier(n)||!e.ts.isIdentifier(i)||!yi(i.text))return null;let o=r.getTypeAtLocation(i).getCallSignatures();if(o.length>0&&o[0].getParameters().length>0)return{name:"",fnNode:i,deps:Ci(e,r,i)}}if(e.ts.isExportSpecifier(t)){let n=t.name;return{name:n.text||"",fnNode:n,deps:Ci(e,r,n)}}if(e.ts.isIdentifier(t))return{name:t.text||"",fnNode:t,deps:Ci(e,r,t)};if(e.ts.isExpressionStatement(t)){let n=t.expression;if(e.ts.isAsExpression(n)&&e.ts.isIdentifier(n.type)&&n.type.text==="default")return Hr(e,r,n.expression)}if(e.ts.isVariableStatement(t)){for(let n of t.declarationList.declarations)if(n.initializer&&e.ts.isAsExpression(n.initializer)){let i=n.initializer;if(e.ts.isIdentifier(i.type)&&i.type.text==="default"){let s=Hr(e,r,i.expression);if(s&&e.ts.isIdentifier(n.name))return{name:n.name.text,fnNode:s.fnNode,deps:s.deps}}}}return null}async function Cf(e,r){let t=[],n=r.getSourceFiles(),i=r.getTypeChecker();return await Promise.all(n.map(async s=>{let o=e.normalize(s.fileName);if(Ro(e,k0,s.fileName)||o===e.reactConfigPath||o===e.khulnasoftComponentPath)return;let a=await En(e,i,o,s,o===e.registryPath);t.push(...a)})),t.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var k0=new Set(["node_modules","dist"]);async function O0(e,r,t,n){let i=[],s=n.text;if(!r)return i;try{let o=r.getSymbolAtLocation(n);if(!o)return i;let a=r.getExportsOfModule(o);for(let l of a){let u=l.valueDeclaration||l.declarations?.[0];if(!u)continue;let c=l.name;if(!yi(c)&&c!=="default"||!Sf(e,r,u))continue;let p=Hr(e,r,u);if(p){let d=l.name,f=d==="default"?"default":"named",m=$e(d),h=d==="default"?jn(e,t):d;i.push({cmpInfo:{id:await Be(e,t,d,s),displayFilePath:Ie(e,t),name:m,inputs:[],exportName:d,exportType:f,importName:h,filePath:t,relFilePath:e.relative(e.getAppRootDir(),t),importPath:s,externalImportPath:s,dependencies:p.deps},node:p})}}}catch(o){console.error(`Error processing module ${s}:`,o)}return i}function Sf(e,r,t){if(e.ts.isInterfaceDeclaration(t)||e.ts.isTypeAliasDeclaration(t))return!1;if(e.ts.isExportSpecifier(t)){let n=r.getSymbolAtLocation(t.name);if(n){let s=r.getAliasedSymbol(n).declarations?.[0];if(s)return Sf(e,r,s)}return!1}if(e.ts.isFunctionDeclaration(t)||e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t)){let n=r.getSignatureFromDeclaration(t);if(n){let i=r.getReturnTypeOfSignature(n);return xf(i,r)}}return e.ts.isClassDeclaration(t)?t.heritageClauses?.some(i=>i.types.some(s=>s.expression.getText()==="React.Component"||s.expression.getText()==="Component"))??!1:e.ts.isVariableDeclaration(t)?r.getTypeAtLocation(t).getCallSignatures().some(s=>xf(r.getReturnTypeOfSignature(s),r)):!1}function xf(e,r){let t=r.typeToString(e);return t==="JSX.Element"||t==="Element"||t.includes("ReactElement")||t.includes("React.ReactElement")||t.includes("ReactNode")}async function wf(e,r){let t=[],n=r.getSourceFiles(),i=r.getTypeChecker();return await Promise.all(n.map(async s=>{let o=e.basename(s.fileName);if(e.appDir&&R0.has(o)||e.dirname(s.fileName).includes("node_modules"))return;let a=e.normalize(s.fileName);if(a===e.nextConfigPath||a===e.khulnasoftComponentPath)return;let l=await En(e,i,a,s,a===e.registryPath||Qt(a));t.push(...l)})),t.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var R0=new Set(["default.tsx","default.ts","default.jsx","default.js","error.tsx","error.ts","error.jsx","error.js","layout.tsx","layout.ts","layout.jsx","layout.js","loading.tsx","loading.ts","loading.jsx","loading.js","not-found.tsx","not-found.ts","not-found.jsx","not-found.js","page.tsx","page.ts","page.jsx","page.js","route.tsx","route.ts","route.jsx","route.js","template.tsx","template.ts","template.jsx","template.js"]);function vr(e,r){let t=[],n=[],i=[],s=[];for(let o of r.statements){if(e.ts.isImportDeclaration(o)){if(e.ts.isStringLiteral(o.moduleSpecifier)){let l=o.moduleSpecifier.text;if(!l.startsWith(".")&&!l.startsWith("/")){t.push(o);continue}}let a=o.importClause;if(a){if(a.namedBindings){n.push(o);continue}if(a.name){n.push(o);continue}}i.push(o);continue}s.push(o)}return e.ts.factory.updateSourceFile(r,[...tu(e,t),...tu(e,n),...tu(e,i),...s])}function ur(e){let r=e.split(`
`).map(n=>n.trimEnd());e="";let t=!1;for(let n=r.length-1;n>=0;n--){let i=r[n];!t&&i.startsWith("import ")&&(t=!0,i=i+`
`),/^khulnasoft.init(.*)$/.test(i)&&(i=i+`
`),r[n-1]&&!r[n-1].includes("*/")&&(i.trim().startsWith("Khulnasoft.registerComponent")&&(i=`
`+i),i.trim().startsWith("/**")&&(i=`
`+i),i.trim().startsWith("module.exports")&&(i=`
`+i),i.trim().startsWith("export ")&&(i=`
`+i)),e=i+`
`+e}return e.trim()+`
`}function tu(e,r){return r.sort((t,n)=>{let i=Tf(e,t),s=Tf(e,n);return i.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())})}function Tf(e,r){let t=r.importClause;if(t){let n=t.namedBindings;if(n&&e.ts.isNamedImports(n)&&n.elements.length>0)return n.elements[0].name.text;if(t.name)return t.name.text}return r.moduleSpecifier&&e.ts.isStringLiteral(r.moduleSpecifier)?r.moduleSpecifier.text:""}function vf(e){return typeof e=="string"&&!e.includes("'use client'")&&!e.includes(`"use client"'`)&&(e=`"use client"
${e}`),e}function Pf(e,r){let t=r.statements.filter(n=>!(e.ts.isExpressionStatement(n)&&e.ts.isStringLiteral(n.expression)&&e.ts.isStringLiteral(n.expression)&&n.expression.text==="use client"));return e.ts.factory.updateSourceFile(r,t)}function Pr(e,r){return r.sort((t,n)=>{if(e.ts.isObjectLiteralExpression(t)&&e.ts.isObjectLiteralExpression(n)){let i=Af(e,t),s=Af(e,n);return i.toLocaleLowerCase().localeCompare(s.toLocaleLowerCase())}return 1})}function Af(e,r){let t=r.properties.find(n=>Ne(e,n)==="name");return t&&e.ts.isPropertyAssignment(t)&&e.ts.isStringLiteral(t.initializer)?t.initializer.text:"zzzz"}async function If(e){let r=await e.readFile(e.registryPath);return r?L0(e,r):{components:[],sourceFile:Ee(e,"")}}async function L0(e,r){let t=Ee(e,r);return e.sdkVersion===re.gen2?M0(e,t):B0(e,t)}async function B0(e,r){let t=[];for(let n=0;n<r.statements.length;n++){let i=r.statements[n];if(!e.ts.isExpressionStatement(i))continue;let s=i.expression;if(!e.ts.isCallExpression(s))continue;let o=s.expression;if(!e.ts.isPropertyAccessExpression(o))continue;let a=o.expression;if(!e.ts.isIdentifier(a)||a.text!=="Khulnasoft"||o.name.text!=="registerComponent")continue;let u=s.arguments;if(u.length<2)continue;let c=u[1];if(!e.ts.isObjectLiteralExpression(c))continue;let p=u[0];if(e.ts.isCallExpression(p)){let d=e.ts.isIdentifier(p.expression)&&p.expression.text;if(d==="withChildren"){let m=iu(e,p.arguments[0]);if(e.ts.isCallExpression(m)){let h=await ru(e,n,m,c,!0);h&&t.push(h)}else{let h=m;if(e.ts.isIdentifier(h)){let g=await nu(e,r,n,h,c,!0);g&&t.push(g)}}continue}if(d==="dynamic"){let m=await ru(e,n,p,c,!1);m&&t.push(m);continue}let f=iu(e,p.arguments[0]);if(e.ts.isCallExpression(f)&&e.ts.isIdentifier(f.expression)&&f.expression.text==="dynamic"){let m=await ru(e,n,f,c,!1);m&&t.push(m);continue}if(e.ts.isIdentifier(f)){let m=await nu(e,r,n,f,c,!1);m&&t.push(m);continue}continue}if(e.ts.isIdentifier(p)){let d=await nu(e,r,n,p,c,!1);d&&t.push(d);continue}}return{sourceFile:r,components:Lt(t)}}function iu(e,r){return e.ts.isCallExpression(r)?(e.ts.isIdentifier(r.expression)&&r.expression.text)==="dynamic"?r:iu(e,r.arguments[0]):r}async function ru(e,r,t,n,i){let s={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:r,acceptsChildren:i},o=t.arguments;if(o.length===0)return null;let a=o[0];if(!e.ts.isArrowFunction(a))return null;let l=a.body;if(e.ts.isCallExpression(l)){if(l.expression.kind!==e.ts.SyntaxKind.ImportKeyword||l.arguments.length!==1)return null;let c=l.arguments[0];if(!e.ts.isStringLiteral(c))return null;let p=c.text,d=await Ti(e,p);s.filePath=d,s.relFilePath=e.relative(e.getAppRootDir(),s.filePath),await e.exists(d)?s.importPath=Le(e,s.filePath):(s.externalImportPath=p,s.importPath=s.externalImportPath),s.name=Zt(e,s.filePath),s.importName="default",s.exportName="default",s.exportType="default"}else if(e.ts.isPropertyAccessExpression(l)){let u=l.expression;if(!e.ts.isParenthesizedExpression(u))return null;let c=u.expression;if(!e.ts.isAwaitExpression(c))return null;let p=c.expression;if(!e.ts.isCallExpression(p)||p.expression.kind!==e.ts.SyntaxKind.ImportKeyword||p.arguments.length!==1)return null;let f=p.arguments[0];if(!e.ts.isStringLiteral(f)||!e.ts.isIdentifier(l.name))return null;let m=f.text,h=await Ti(e,m);s.filePath=h,s.relFilePath=e.relative(e.getAppRootDir(),s.filePath),await e.exists(h)?s.importPath=Le(e,s.filePath):(s.externalImportPath=m,s.importPath=s.externalImportPath),s.name=$e(l.name.text),s.importName=l.name.text,s.exportName=l.name.text,s.exportType="named"}else return null;return s=Bt(e,s,n),s.displayFilePath=Ie(e,s.filePath),s.filePath&&s.exportName&&(s.id=await Be(e,s.filePath,s.exportName,s.externalImportPath)),s}async function nu(e,r,t,n,i,s){let o={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:t,acceptsChildren:s},a=r.statements.filter(u=>e.ts.isImportDeclaration(u)),l=a.find(u=>u.importClause&&u.importClause.name?.text===n.text);if(l){let u=l.moduleSpecifier;if(!e.ts.isStringLiteral(u))return null;let c=await Ti(e,u.text);o.filePath=c,o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),await e.exists(c)?o.importPath=Le(e,o.filePath):(o.externalImportPath=u.text,o.importPath=o.externalImportPath),o.name=Zt(e,o.filePath),o.importName=n.text,o.exportName="default",o.exportType="default"}else{let u=a.find(d=>!d.importClause||!d.importClause.namedBindings||!e.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(f=>f.name.text===n.text));if(!u)return null;let c=u.moduleSpecifier;if(!e.ts.isStringLiteral(c))return null;let p=await Ti(e,c.text);o.filePath=p,o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),await e.exists(p)?o.importPath=Le(e,o.filePath):(o.externalImportPath=c.text,o.importPath=o.externalImportPath),o.name=$e(n.text),o.importName=n.text,o.exportName=n.text,o.exportType="named"}return o=Bt(e,o,i),o.displayFilePath=Ie(e,o.filePath),o.filePath&&o.exportName&&(o.id=await Be(e,o.filePath,o.exportName,o.externalImportPath)),o}function Ti(e,r){return Es(e,e.normalize(e.resolve(e.dirname(e.registryPath),r)))}function Nf(e,r,t){let n=!1,i=0,s=[...r.statements];for(let u=0;u<s.length;u++){let c=s[u];if(e.ts.isImportDeclaration(c)){i=u;continue}if(!e.ts.isExpressionStatement(c))continue;let p=c.expression;if(!e.ts.isCallExpression(p))continue;let d=p.expression;if(!e.ts.isPropertyAccessExpression(d))continue;let f=d.expression;if(!e.ts.isIdentifier(f)||f.text!=="khulnasoft")continue;if(d.name.text=="init"){n=!0;break}else continue}if(n)return r;let o=e.ts.factory.createPropertyAccessExpression(e.ts.factory.createPropertyAccessExpression(e.ts.factory.createIdentifier("process"),e.ts.factory.createIdentifier("env")),e.ts.factory.createIdentifier(wr)),a=t?e.ts.factory.createNonNullExpression(o):o,l=e.ts.factory.createExpressionStatement(e.ts.factory.createCallExpression(e.ts.factory.createPropertyAccessExpression(e.ts.factory.createIdentifier("khulnasoft"),e.ts.factory.createIdentifier("init")),void 0,[a]));return s.splice(i+1,0,l),e.ts.factory.updateSourceFile(r,s)}async function M0(e,r){let t=[],n=it(e,r,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await su(e,r,i);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:Lt(t)}}async function su(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1};xi(e,t)&&(n.acceptsChildren=!0);for(let s of t.properties){if(!e.ts.isPropertyAssignment(s)||!e.ts.isIdentifier(s.name))continue;if(Ne(e,s)==="component"){let a,{initializer:l}=s;if(e.ts.isCallExpression(l)&&(e.ts.isIdentifier(l.expression)&&l.expression.text)==="dynamic"){let f=l.arguments;if(f.length===0)return null;let m=f[0];if(!e.ts.isArrowFunction(m))return null;let h=m.body;if(e.ts.isCallExpression(h)){if(h.expression.kind!==e.ts.SyntaxKind.ImportKeyword||h.arguments.length!==1)return null;let y=h.arguments[0];if(!e.ts.isStringLiteral(y))return null;let D=y.text,C=await Ti(e,D);n.filePath=C,n.relFilePath=e.relative(e.getAppRootDir(),n.filePath),await e.exists(C)?n.importPath=Le(e,n.filePath):(n.externalImportPath=D,n.importPath=n.externalImportPath),n.name=Zt(e,n.filePath),n.importName="default",n.exportName="default",n.exportType="default"}else if(e.ts.isPropertyAccessExpression(h)){let g=h.expression;if(!e.ts.isParenthesizedExpression(g))return null;let y=g.expression;if(!e.ts.isAwaitExpression(y))return null;let D=y.expression;if(!e.ts.isCallExpression(D)||D.expression.kind!==e.ts.SyntaxKind.ImportKeyword||D.arguments.length!==1)return null;let x=D.arguments[0];if(!e.ts.isStringLiteral(x)||!e.ts.isIdentifier(h.name))return null;let b=x.text,E=await Ti(e,b);n.filePath=E,n.relFilePath=e.relative(e.getAppRootDir(),n.filePath),await e.exists(E)?n.importPath=Le(e,n.filePath):(n.externalImportPath=b,n.importPath=n.externalImportPath),n.name=$e(h.name.text),n.importName=h.name.text,n.exportName=h.name.text,n.exportType="named"}else return null;return n=Bt(e,n,t),n.displayFilePath=Ie(e,n.filePath),n.filePath&&n.exportName&&(n.id=await Be(e,n.filePath,n.exportName,n.externalImportPath)),n}if(e.ts.isIdentifier(l)&&(a=l.text),!a)continue;n.name===""&&(n.name=$e(a)),n.importName=a;let u=await Tr(e,e.registryPath,r,a);if(!u)continue;n.filePath=u.filePath,n.relFilePath=u.relFilePath,await e.exists(u.filePath)?n.importPath=Le(e,u.filePath):(n.externalImportPath=u.importPath,n.importPath=n.externalImportPath),n.importPath=Le(e,u.filePath),n.displayFilePath=u.displayFilePath,n.exportType=u.exportType;let c=r.statements.filter(d=>e.ts.isImportDeclaration(d)),p=c.find(d=>d.importClause&&d.importClause.name?.text===a);if(p){let d=p.moduleSpecifier;if(!e.ts.isStringLiteral(d))return null;n.exportName="default"}else{let d=c.find(m=>!m.importClause||!m.importClause.namedBindings||!e.ts.isNamedImports(m.importClause.namedBindings)?!1:m.importClause.namedBindings.elements.some(h=>h.name.text===a));if(!d)return null;let f=d.moduleSpecifier;if(!e.ts.isStringLiteral(f))return null;n.exportName=a}continue}}return n=Bt(e,n,t),n.filePath&&n.exportName&&(n.id=await Be(e,n.filePath,n.exportName,n.externalImportPath)),n}function Ir(e,r){let t=[...r.statements],n=!1;for(let i=r.statements.length-1;i>=0;i--){let s=r.statements[i];if(e.ts.isImportDeclaration(s)&&s.importClause){let o=!1,a=s.importClause.namedBindings;if(a&&e.ts.isNamedImports(a)&&a.elements){let l=[...a.elements];for(let u=l.length-1;u>=0;u--){let c=l[u];if(e.ts.isImportSpecifier(c)){let p=c.name;if(p&&e.ts.isIdentifier(p)){let d=p.text;Ff(e,r,d)||l.splice(u,1)}}}if(l.length===0)o=!0;else if(a.elements.length!==l.length){let u=e.ts.factory.updateImportClause(s.importClause,!1,s.importClause.name,e.ts.factory.createNamedImports(l)),c=e.ts.factory.updateImportDeclaration(s,void 0,u,s.moduleSpecifier,void 0);t[i]=c,n=!0}}else if(s.importClause.name&&e.ts.isIdentifier(s.importClause.name)){let l=s.importClause.name.text;Ff(e,r,l)||(o=!0)}o&&(t.splice(i,1),n=!0)}}return n?e.ts.factory.updateSourceFile(r,t):r}function Ff(e,r,t){let n=!1;function i(s){if(!e.ts.isImportDeclaration(s)){if(e.ts.isIdentifier(s)&&s.text===t){n=!0;return}e.ts.forEachChild(s,i)}}return e.ts.forEachChild(r,i),n}function Nr(e,r,t,n,i,s,o){let a=null,l=null,u=null,c=-1;r=Kt(r),t=Kt(t);let p=r.find(f=>f.id===e),d=t.find(f=>f.id===e);if(n)d||(a={...Kt(p),inputs:Kt(p.inputs).map(f=>(f.isRegistered=!0,f))},c=t.length,t.push(a));else if(typeof d?.nodeIndex=="number"&&d.nodeIndex>-1){if(i)c=d.nodeIndex,l=Kt(d),t=t.filter(f=>f.id!==e);else if(s!=null)$0(d,s),c=d.nodeIndex,u=d;else if(o!=null){let f=d.inputs.find(m=>m.name===o.name);f&&(o.registerInput===!1?f.isRegistered=!1:(U0(f,o),f.isRegistered=!0),u=d,c=d.nodeIndex)}}return{addCmpToRegistry:a,removeCmpFromRegistry:l,updateRegisteredCmp:u,nodeIndex:c,components:cr(r,t)}}function cr(e,r){let t=Lt([...r.map(n=>(n.isRegistered=!0,n)),...e.filter(n=>!r.some(i=>i.id===n.id)).map(n=>(n.isRegistered=!1,n))]);return t.forEach(n=>{n.inputs=n.inputs.map(Ql),n.inputs.sort((o,a)=>o.name.toLowerCase().localeCompare(a.name.toLowerCase()));let i=r.find(o=>o.id===n.id);i&&(i.acceptsChildren=Xl(n));let s=e.find(o=>o.id===n.id&&o.externalImportPath);s&&(n.filePath=s.filePath,n.relFilePath=s.relFilePath)}),t}function $0(e,r){vt(r.name)?e.name=r.name:r.name===null&&(e.name=e.importName),vt(r.description)?e.description=r.description:r.description===null&&delete e.description,vt(r.image)?e.image=r.image:r.image===null&&delete e.image}function U0(e,r){vt(r.type)&&(e.type=r.type),vt(r.friendlyName)?e.friendlyName=r.friendlyName:r.friendlyName===null&&delete e.friendlyName,vt(r.defaultValue)||ms(r.defaultValue)||gi(r.defaultValue)?e.defaultValue=r.defaultValue:r.defaultValue===null&&delete e.defaultValue,vt(r.helperText)?e.helperText=r.helperText:r.helperText===null&&delete e.helperText,r.required===!0?e.required=r.required:(r.required===null||r.required===!1)&&delete e.required}async function Cn(e){let r=new Set,t=async i=>{let s=await e.readdir(i);await Promise.all(s.map(async o=>{if(o.startsWith(".")||o==="node_modules")return;let a=e.join(i,o),l=e.extname(o).toLowerCase();if(l===".tsx"||l===".jsx"||l===".ts"||l===".js"){r.add(a);return}(await e.stat(a)).isDirectory()&&await t(a)}))};return await t(e.getAppRootDir()),await at(e,[...r])}function Fr(e,r,t){return Ei(e,r,t.variableName)?r:j0(e,r,t)}function j0(e,r,t){let n=typeof t.arrayType=="string"?e.ts.factory.createArrayTypeNode(e.ts.factory.createTypeReferenceNode(t.arrayType,void 0)):void 0,i=e.ts.factory.createArrayLiteralExpression([]),s=e.ts.factory.createVariableDeclaration(t.variableName,void 0,n,i),o=e.ts.factory.createVariableDeclarationList([s],e.ts.NodeFlags.Const),a=e.ts.factory.createModifier(e.ts.SyntaxKind.ExportKeyword),l=e.ts.factory.createVariableStatement([a],o),u=[...r.statements,l];return e.ts.factory.updateSourceFile(r,u)}async function _r(e,r,t,n,i,s,o,a){let l=await Cn(e),[u,c,p,d]=await Promise.all([wf(e,l),If(e),Vt(e),ys(e)]),f=u.map(C=>C.cmpInfo),m=c.components,h={components:cr(f,m),registryPath:e.registryPath,registryDisplayPath:Ie(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:Ar(f),publicApiKey:d.envValue??void 0,devToolsVersion:e.version};if(a)return h.components=await Si(e,h.components),h;let g=!1,y=c.sourceFile,D=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(D.length>0){let C=D.map(E=>{let T=u.find(R=>R.cmpInfo.id===E);if(!T)throw new Error(`Component ${E} not found`);return T}),x=Array.from(new Set(C.map(E=>E.cmpInfo.filePath))),b=await at(e,x);for(let E of C){let T=h.components.find(O=>O.id===E.cmpInfo.id),R=await wi(e,E,b,e.registryPath===E.cmpInfo.filePath||Qt(E.cmpInfo.filePath));zt(T,R);let B=f.findIndex(O=>O.id===E.cmpInfo.id);f[B].inputs=R;let I=Nr(E.cmpInfo.id,f,m,t,n,i,s);if(e.sdkVersion===re.gen2){let{elements:O,elmIndex:Z,statementIndex:ie,statement:N,variableDeclaration:z}=await z0(e,y,E);if(I.addCmpToRegistry)O.push(V0(e,I.addCmpToRegistry)),g=!0;else if(I.removeCmpFromRegistry)O.splice(Z,1),g=!0;else if(I.updateRegisteredCmp){let oe=lt(e,O[Z],I.updateRegisteredCmp);O[Z]=e.ts.factory.updateObjectLiteralExpression(oe,[kf(e,I.updateRegisteredCmp),...oe.properties.slice(1)]),g=!0}if(g&&o){let oe=[...y.statements];oe[ie]=e.ts.factory.updateVariableStatement(N,N.modifiers,e.ts.factory.updateVariableDeclarationList(N.declarationList,[e.ts.factory.updateVariableDeclaration(z,z.name,z.exclamationToken,z.type,e.ts.factory.createArrayLiteralExpression(Pr(e,O)))])),y=e.ts.factory.updateSourceFile(y,oe),y=_f(e,I,y),y=Ce(e,y,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-react",isTypeOnly:!0}),y=Fr(e,y,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),h.components=I.components,m=I.components.filter(F=>F.isRegistered)}}else{let O=[...y.statements];I.addCmpToRegistry?(O.push(gf(e,I.addCmpToRegistry)),g=!0):I.removeCmpFromRegistry?(O.splice(I.nodeIndex,1),g=!0):I.updateRegisteredCmp&&(O[I.nodeIndex]=Zl(e,O[I.nodeIndex],I.updateRegisteredCmp),g=!0),g&&o&&(y=e.ts.factory.updateSourceFile(y,O),y=Ce(e,y,{namedImports:["Khulnasoft","khulnasoft"],importPath:"@khulnasoft.com/react"}),y=Nf(e,y,p),y=_f(e,I,y),T?.acceptsChildren&&(y=Ce(e,y,{namedImports:["withChildren"],importPath:"@khulnasoft.com/react"})),h.components=I.components,m=I.components.filter(Z=>Z.isRegistered))}}}if(g&&o){y=Ir(e,y),y=vr(e,y),e.appDir&&(y=Pf(e,y));let C=pt(e,y);C=ur(C),e.appDir&&(C=vf(C)),C=await e.formatCode(e.registryPath,C),await e.writeFile(e.registryPath,C)}return h}function kf(e,r){let t=e.ts.factory.createIdentifier(r.importName);return e.appDir?e.ts.factory.createPropertyAssignment("component",t):e.ts.factory.createPropertyAssignment("component",q0(e,r))}function K0(e){return e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())}function V0(e,r){return lt(e,e.ts.factory.createObjectLiteralExpression([kf(e,r),...r.acceptsChildren?[K0(e)]:[]],!0),r)}async function z0(e,r,t){let n=it(e,r,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${e.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await su(e,r,i[o]))?.id===t.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}function _f(e,r,t){if(e.appDir){let n=r.addCmpToRegistry||r.updateRegisteredCmp;if(n){let i=n.externalImportPath?n.externalImportPath:Se(e,e.registryPath,n.filePath);n.exportType==="default"?t=Ce(e,t,{defaultImport:n.importName,importPath:i}):n.exportType==="named"&&(t=Ce(e,t,{namedImports:[n.importName],importPath:i}))}}else t=Ce(e,t,{defaultImport:"dynamic",importPath:"next/dynamic"});return t}function q0(e,r){let t=r.externalImportPath?r.externalImportPath:Se(e,e.registryPath,r.filePath),n=r.exportName!=="default",i;n?i=e.ts.factory.createPropertyAccessExpression(e.ts.factory.createAwaitExpression(e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("import"),void 0,[e.ts.factory.createStringLiteral(t)])),e.ts.factory.createIdentifier(r.exportName)):i=e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("import"),void 0,[e.ts.factory.createStringLiteral(t)]);let s=e.ts.factory.createArrowFunction(n?[e.ts.factory.createModifier(e.ts.SyntaxKind.AsyncKeyword)]:void 0,void 0,[],void 0,e.ts.factory.createToken(e.ts.SyntaxKind.EqualsGreaterThanToken),i);return e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("dynamic"),void 0,[s])}async function Rf(e){let r=[],t=await Y0(e,r);return await Uf(e,r,t),e.appDir?(e.debug(`ensure khulnasoft setup for next.js app ${e.appDir}`),await G0(e,e.appDir,r)):e.pagesDir&&(e.debug(`ensure khulnasoft setup for next.js pages ${e.pagesDir}`),await H0(e,e.pagesDir,r)),r}async function Lf(e){let r=[];return await Uf(e,r),e.appDir?(e.debug(`ensure figma-imports setup for next.js app ${e.appDir}`),await W0(e,e.appDir,r)):e.pagesDir&&(e.debug(`ensure figma-imports setup for next.js pages ${e.pagesDir}`),await J0(e,e.pagesDir,r)),r}async function W0(e,r,t){let n=`page.${e.typescriptEnabled?"tsx":"jsx"}`,i=e.join(r,"figma-imports",n);if(!await e.exists(i)){let s=await e.formatCode(i,Mf({sys:e,routePath:i,modelName:"figma-imports"}));await e.writeFile(i,s),t.push({filePath:i,modifiedType:"create"})}if(!await e.exists(e.khulnasoftComponentPath)){let s=await e.formatCode(e.khulnasoftComponentPath,Bf(e));await e.writeFile(e.khulnasoftComponentPath,s),t.push({filePath:e.khulnasoftComponentPath,modifiedType:"create"})}}async function G0(e,r,t){let n=`page.${e.typescriptEnabled?"tsx":"jsx"}`,i=e.join(r,"[...page]",n);if(!await e.exists(i)){let s=await e.formatCode(i,Mf({sys:e,routePath:i,modelName:"page"}));await e.writeFile(i,s),t.push({filePath:i,modifiedType:"create"})}if(!await e.exists(e.khulnasoftComponentPath)){let s=await e.formatCode(e.khulnasoftComponentPath,Bf(e));await e.writeFile(e.khulnasoftComponentPath,s),t.push({filePath:e.khulnasoftComponentPath,modifiedType:"create"})}}function Bf(e){let r=e.typescriptEnabled;return e.sdkVersion===re.gen2?`
  "use client";
  import { ${r?"KhulnasoftContent, ":""} isPreviewing, Content } from "@khulnasoft.com/sdk-react";
  import DefaultErrorPage from "next/error";
  import { CUSTOM_COMPONENTS } from ${JSON.stringify(Se(e,e.khulnasoftComponentPath,e.registryPath))};
  ${r?`
interface KhulnasoftPageProps {
      content: KhulnasoftContent | null;
      model: string;
      }`:""}

  // Khulnasoft Public API Key set in .env file
  const khulnasoftApiKey = process.env.${wr}${r?"!":""};

  export function RenderKhulnasoftContent({ content, model }${r?": KhulnasoftPageProps":""}) {
    // Call the isPreviewing hook to determine if
    // the page is being previewed in Khulnasoft
    // If "content" has a value or the page is being previewed in Khulnasoft,
    // render the KhulnasoftComponent with the specified content and model props.
    if (content || isPreviewing()) {
      return <Content
        content={content}
        apiKey={khulnasoftApiKey}
        model={model}
        customComponents={CUSTOM_COMPONENTS}
      />;
    }
    // If the "content" is falsy and the page is
    // not being previewed in Khulnasoft, render the
    // DefaultErrorPage with a 404.
    return <DefaultErrorPage statusCode={404} />;
  }
  `.trimStart():`
"use client";
${r?'import { ComponentProps } from "react";':""}
import { KhulnasoftComponent, useIsPreviewing } from "@khulnasoft.com/react";
import { ${r?"KhulnasoftContent, ":""}khulnasoft } from '@khulnasoft.com/sdk';
import DefaultErrorPage from "next/error";
import ${JSON.stringify(Se(e,e.khulnasoftComponentPath,e.registryPath))};
${r?`
type KhulnasoftPageProps = ComponentProps<typeof KhulnasoftComponent>;`:""}

// Khulnasoft Public API Key set in .env file
khulnasoft.init(process.env.${wr}${r?"!":""});

export function RenderKhulnasoftContent({ content, model }${r?": KhulnasoftPageProps":""}) {
  // Call the useIsPreviewing hook to determine if
  // the page is being previewed in Khulnasoft
  const isPreviewing = useIsPreviewing();
  // If "content" has a value or the page is being previewed in Khulnasoft,
  // render the KhulnasoftComponent with the specified content and model props.
  if (content || isPreviewing) {
    return <KhulnasoftComponent content={content} model={model} />;
  }
  // If the "content" is falsy and the page is
  // not being previewed in Khulnasoft, render the
  // DefaultErrorPage with a 404.
  return <DefaultErrorPage statusCode={404} />;
}
`.trimStart()}function Of(e){return e.features.asyncParams?`
interface PageProps {
      params: Promise<{
        page: string[];
      }>;
    }`:`
interface PageProps {
      params: {
        page: string[];
      };
    }`}function Mf({sys:e,routePath:r,modelName:t}){let n=e.typescriptEnabled,i=Se(e,r,e.khulnasoftComponentPath);return e.sdkVersion===re.gen2?`
import { fetchOneEntry } from "@khulnasoft.com/sdk-react";
import { RenderKhulnasoftContent } from ${JSON.stringify(i)};

// Khulnasoft Public API Key set in .env file
const PUBLIC_API_KEY = process.env.${wr}${n?"!":""};

${n?Of(e):""}

export default async function Page(props${n?": PageProps":""}) {
  const khulnasoftModelName = "${t}";

  // Use the page path specified in the URL to fetch the content
  const urlPath = "/" + (${e.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || "");

  const content = await fetchOneEntry({
   // Get the page content from Khulnasoft with the specified options
    apiKey: PUBLIC_API_KEY,
    model: khulnasoftModelName,
    userAttributes: { urlPath },
  });

  return (
    <>
      {/* Render the Khulnasoft page */}
      <RenderKhulnasoftContent content={content} model={khulnasoftModelName} />
    </>
  );
}
`.trimStart():`
import { khulnasoft } from "@khulnasoft.com/sdk";
import { RenderKhulnasoftContent } from ${JSON.stringify(i)};

// Khulnasoft Public API Key set in .env file
khulnasoft.init(process.env.${wr}${n?"!":""});
${n?Of(e):""}

export default async function Page(props${n?": PageProps":""}) {
  const khulnasoftModelName = "${t}";

  const content = await khulnasoft
    // Get the page content from Khulnasoft with the specified options
    .get(khulnasoftModelName, {
      userAttributes: {
        // Use the page path specified in the URL to fetch the content
        urlPath: "/" + (${e.features.asyncParams?"(await props?.params)":"props?.params"}?.page?.join("/") || ""),
      },
    })
    // Convert the result to a promise
    .toPromise();

  return (
    <>
      {/* Render the Khulnasoft page */}
      <RenderKhulnasoftContent content={content} model={khulnasoftModelName} />
    </>
  );
}
`.trimStart()}async function H0(e,r,t){let n=`[...page].${e.typescriptEnabled?"tsx":"jsx"}`,i=e.join(r,n);if(!await e.exists(i)){let s=await e.formatCode(i,$f({sys:e,routePath:i,modelName:"page"}));await e.writeFile(i,s),t.push({filePath:i,modifiedType:"create"})}}async function J0(e,r,t){let n=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`,i=e.join(r,n);if(!await e.exists(i)){let s=await e.formatCode(i,$f({sys:e,routePath:i,modelName:"figma-imports"}));await e.writeFile(i,s),t.push({filePath:i,modifiedType:"create"})}}function $f({sys:e,routePath:r,modelName:t}){let n=e.typescriptEnabled;return e.sdkVersion===re.gen2?`
import React from "react";
import { useRouter } from "next/router";
${n?'import type { KhulnasoftContent } from "@khulnasoft.com/sdk-react";':""}
import {
  Content,
  fetchEntries,
  fetchOneEntry,
  isPreviewing,
} from "@khulnasoft.com/sdk-react";
import DefaultErrorPage from "next/error";
import Head from "next/head";
${n?'import { GetStaticProps } from "next";':""}
import { CUSTOM_COMPONENTS } from ${JSON.stringify(Se(e,e.khulnasoftComponentPath,e.registryPath))};

const KHULNASOFT_API_KEY = process.env.${wr}${n?"!":""};

// Define a function that fetches the Khulnasoft
// content for a given page
export const getStaticProps${n?": GetStaticProps":""} = async ({ params }) => {
  ${e.features.asyncParams?"await params;":""}
  const urlPath =
    "/" +
    (Array.isArray(params?.page) ? params.page.join("/") : params?.page || "");

  // Fetch the khulnasoft content for the given page
  const page = await fetchOneEntry({
    apiKey: KHULNASOFT_API_KEY,
    model: "${t}",
    userAttributes: { urlPath },
  });

  return {
    // Return the page content as props
    props: { page },
    // Revalidate the content every 5 seconds
    revalidate: 5,
  };
};

${t==="page"?`
// Define a function that generates the
// static paths for all pages in Khulnasoft
export async function getStaticPaths() {
  // Get a list of all pages in Khulnasoft
  const pages = await fetchEntries({
    apiKey: KHULNASOFT_API_KEY,
    model: "page",
    // We only need the URL field
    fields: "data.url",
    options: { noTargeting: true },
  });
  // Generate the static paths for all pages in Khulnasoft
  return {
    paths: pages.map((page) => \`\${page.data?.url}\`),
    fallback: "blocking",
  };
}
`:""}

// Define the Page component
export default function Page(props${n?": { page: KhulnasoftContent | null }":""}) {
  const router = useRouter();
  const canShowContent = props.page || isPreviewing(router.asPath);

  // If the page content is not available
  // and not in preview/editing mode, show a 404 error page
  if (!canShowContent) {
    return <DefaultErrorPage statusCode={404} />;
  }

  // If the page content is available, render
  // the KhulnasoftComponent with the page content
  return (
    <>
      <Head>
        <title>{props.page?.data?.title}</title>
      </Head>
      {/* Render the Khulnasoft page */}
      <Content
        model="${t}"
        content={props.page}
        apiKey={KHULNASOFT_API_KEY}
        customComponents={CUSTOM_COMPONENTS}
      />
    </>
  );
}

    `:`
import React from "react";
import { useRouter } from "next/router";
import { KhulnasoftComponent, khulnasoft, useIsPreviewing } from "@khulnasoft.com/react";
import DefaultErrorPage from "next/error";
import Head from "next/head";${n?`
import { KhulnasoftContent } from "@khulnasoft.com/sdk";`:""}${n?`
import { GetStaticProps } from "next";`:""}
import ${JSON.stringify(Se(e,r,e.registryPath))};

khulnasoft.init(process.env.${wr}${n?"!":""});

// Define a function that fetches the Khulnasoft
// content for a given page
export const getStaticProps${n?": GetStaticProps":""} = async ({ params }) => {
  ${e.features.asyncParams?"await params;":""}
  // Fetch the khulnasoft content for the given page
  const page = await khulnasoft
    .get("${t}", {
      userAttributes: {
        urlPath: "/" + ((params?.page${n?" as string[]":""})?.join("/") || ""),
      },
    })
    .toPromise();

  // Return the page content as props
  return {
    props: {
      page: page || null,
    },
    // Revalidate the content every 5 seconds
    revalidate: 5,
  };
};

${t==="page"?`// Define a function that generates the
// static paths for all pages in Khulnasoft
export async function getStaticPaths() {
  // Get a list of all pages in Khulnasoft
  const pages = await khulnasoft.getAll("page", {
    // We only need the URL field
    fields: "data.url",
    options: { noTargeting: true },
  });

  // Generate the static paths for all pages in Khulnasoft
  return {
    paths: pages.map((page) => String(page.data?.url)).filter(url => url !== '/'),
    fallback: 'blocking',
  };
}`:""}

// Define the Page component
export default function Page({ page }${n?": { page: KhulnasoftContent | null }":""}) {
  const router = useRouter();
  const isPreviewing = useIsPreviewing();

  // If the page content is not available
  // and not in preview mode, show a 404 error page
  if (!page && !isPreviewing) {
    return <DefaultErrorPage statusCode={404} />;
  }

  // If the page content is available, render
  // the KhulnasoftComponent with the page content
  return (
    <>
      <Head>
        <title>{page?.data?.title}</title>
      </Head>
      {/* Render the Khulnasoft page */}
      <KhulnasoftComponent model="${t}" content={page || undefined} />
    </>
  );
}
`.trimStart()}async function Y0(e,r){let n=e.typescriptEnabled?"tsx":"jsx",i=e.join(e.componentsDir,"Counter"),s=e.join(i,`Counter.${n}`),o=e.join(i,"styles.module.css"),{component:a,styles:l}=X0(e);if(!await e.exists(s)){let u=await e.formatCode(s,a);await e.writeFile(s,u),r.push({filePath:s,modifiedType:"create"})}return await e.exists(o)||(await e.writeFile(o,l),r.push({filePath:o,modifiedType:"create"})),s}function X0(e){let r=e.typescriptEnabled,t=`
"use client"
import React, { useState } from "react";
import styles from "./styles.module.css";
${r?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${r?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:t,styles:n}}async function Uf(e,r,t){if(!await e.exists(e.registryPath)){if(e.sdkVersion===re.gen2){let s=Q0(e);await e.writeFile(e.registryPath,s)}else await e.writeFile(e.registryPath,"");r.push({filePath:e.registryPath,modifiedType:"create"})}if(!t)return;let i=(await _r(e,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===t);i&&await _r(e,i.id,!0,!1,null,null,!0,!1)}function Q0(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@khulnasoft.com/sdk-react";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function Ai(e){let r=await Gr(e,e.getRepoRootDir());if(r&&typeof r=="object"){let t=new Set(Object.keys({...r.dependencies,...r.devDependencies}));if(t.has("@khulnasoft.com/sdk-react"))return re.gen2;if(t.has("@khulnasoft.com/react"))return re.gen1}return null}async function jf(e){let r=await Z0(e);return{khulnasoftPageOptions:async()=>({templateContentId:"3de2f13211234071a4b19a17b4fbc5a7",pathname:"/khulnasoft-demo",title:"Khulnasoft + Next.js Demo Page"}),ensureKhulnasoftSetup:()=>Rf(r),ensureFigmaImportPage:()=>Lf(r),getRegistryPath:()=>r.registryPath,getRegistry:n=>_r(r,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{r.addExternalPackage(n)},loadComponent:async n=>{let i=await _r(r,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>_r(r,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>_r(r,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>_r(r,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>_r(r,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>ys(r),setPublicApiKey:n=>cf(r,n.publicApiKey),getDependencies:n=>n.sdkVersion===re.gen2?[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-react"}]:[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/react"},{name:"@khulnasoft.com/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Cr(r),setCache:n=>Sr(r,n)}}async function Z0(e){let r=e.getAppRootDir(),t=e.join(r,"src"),n=await eS(e),i=await Vt(e),s=e.getFrameworks().find(u=>u.name==="next"),o={asyncParams:s?.version?.major!==void 0&&s.version.major>=15},a={},l={...e,addExternalPackage:u=>{a[e.join(r,u,"index.ts")]=`export * from "${u}";`},readFileSync:u=>a[u]??e.readFileSync(u),existsSync:u=>!!a[u]||e.existsSync(u),readdirSync:u=>{let c=e.readdirSync(u);return u===r?[...c,...Object.keys(a).map(p=>p.slice(r.length+1))]:c},readdir:async u=>{let c=await e.readdir(u);return u===r?[...c,...Object.keys(a).map(p=>p.slice(r.length+1))]:c},appDir:null,pagesDir:null,srcDir:null,khulnasoftComponentPath:"",componentsDir:"",registryPath:"",nextConfigPath:n,typescriptEnabled:i,features:o};if(e.sdkVersion?l.sdkVersion=e.sdkVersion:l.sdkVersion=await Ai(l),await e.exists(t)){l.srcDir=t,l.componentsDir=e.join(t,"components");let u=e.join(t,"app");await e.exists(u)&&(l.appDir=u);let c=e.join(t,"pages");await e.exists(c)&&(l.pagesDir=c),l.registryPath=await er(e,t)}else l.componentsDir=e.join(r,"components"),l.registryPath=await er(e,r);if(l.khulnasoftComponentPath=e.join(l.componentsDir,`khulnasoft.${i?"tsx":"jsx"}`),!l.appDir){let u=e.join(r,"app");await e.exists(u)&&(l.appDir=u)}if(!l.pagesDir){let u=e.join(r,"pages");await e.exists(u)&&(l.pagesDir=u)}if(!l.appDir&&!l.pagesDir)throw new Error(`Could not find Next.js "app" or "pages" directory. Searched in "${r}".`);return l}async function eS(e){let r=e.join(e.getAppRootDir(),"next.config.ts");if(await e.exists(r))return r;let t=e.join(e.getAppRootDir(),"next.config.mjs");if(await e.exists(t))return t;let n=e.join(e.getAppRootDir(),"next.config.js");if(await e.exists(n))return n;throw new Error(`Could not find Next.js config file. Searched for "next.config.ts", "next.config.mjs" and "next.config.js" in "${e.getAppRootDir()}".`)}async function Cs(e){return await bn(e,[".env"],Vf)}async function Kf(e,r){tS(r);let t=await Cs(e),n=await xn(e,t.file,t.envKey,r);return{...t,modifiedType:n}}function tS(e){typeof process<"u"&&(process.env[Vf]=e)}var Vf="PUBLIC_KHULNASOFT_API_KEY";function zf(e,r,t){if(t.length===0)return e;let n=e.split(`
`),i=n.findIndex(a=>a.includes(t));if(i===-1||n.some(a=>a.includes(r[0])))return e;let o=["/**",...r.map(a=>` * ${a.trim()}`)," */"];return n.splice(i,0,...o),n.join(`
`)}async function Wf(e,r){let t=[],n=r.getSourceFiles(),i=r.getTypeChecker();return await Promise.all(n.map(async s=>{let o=e.basename(s.fileName);if(o.startsWith(".")||iS.has(o))return;let a=e.normalize(s.fileName);if(a===e.registryPath)return;let l=await $o(e,i,a,s);t.push(...l)})),t}async function Gf(e,r){if(e.extname(r).toLowerCase()===".tsx"){let n=await e.readFile(r);if(n)return rS(e,r,n)}return null}function rS(e,r,t){let n=Ee(e,t);return $o(e,null,r,n)}async function $o(e,r,t,n){t=e.normalize(t);let i=[],s=zn(e,n);return await Promise.all(s.map(async o=>{let a=await nS(e,r,t,o);a&&i.push(a)})),i}async function nS(e,r,t,n){let i=e.relative(e.getAppRootDir(),t),s=Le(e,t);if(e.ts.isVariableStatement(n.node))for(let o of n.node.declarationList.declarations){let a=qf(e,o.initializer);if(a&&e.ts.isIdentifier(o.name)){let l=o.name.text;return{cmpInfo:{id:await Be(e,t,l),displayFilePath:Ie(e,t),name:$e(l),inputs:[],exportName:n.isDefaultExport?"default":l,exportType:n.isDefaultExport?"default":"named",importName:l,filePath:t,relFilePath:i,importPath:s},node:a}}}else if(e.ts.isCallExpression(n.node)){let o=qf(e,n.node);if(o)return{cmpInfo:{id:await Be(e,t,"default"),displayFilePath:Ie(e,t),name:Zt(e,t),inputs:[],exportName:"default",exportType:"default",importName:jn(e,t),filePath:t,relFilePath:i,importPath:s},node:o}}return null}function qf(e,r){if(r&&e.ts.isCallExpression(r)&&e.ts.isIdentifier(r.expression)&&r.expression.text==="component$"&&r.arguments.length>0){let t=r.arguments[0];if(e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t))return{callExpression:r,fnNode:t}}return null}var iS=new Set(["node_modules","layout.tsx","404.tsx","router-head.tsx"]);async function Hf(e,r){let t=r.node.fnNode;if((e.ts.isArrowFunction(t)||e.ts.isFunctionExpression(t))&&t.parameters.length>0){let{sourceFile:i,typeChecker:s}=await Di(e,r.cmpInfo.filePath,null);if(!(await $o(e,s,r.cmpInfo.filePath,i)).find(l=>l.cmpInfo.id===r.cmpInfo.id))throw new Error(`createComponentInputs() Could not find component ${r.cmpInfo.name} in ${r.cmpInfo.filePath}`);return Vn(e,s,t)}return[]}async function Jf(e){return ou(e)}async function ou(e){let r=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,sS),r.push({filePath:e.registryPath,modifiedType:"create"})),r}var sS=`import type { RegisteredComponent } from "@khulnasoft.com/sdk-qwik";

export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];
`;async function Yf(e){await ou(e);let r=await e.readFile(e.registryPath);return r?oS(e,r):{components:[],sourceFile:Ee(e,"")}}async function oS(e,r){let t=Ee(e,r);return aS(e,t)}async function aS(e,r){let t=[],n=it(e,r,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await au(e,r,i);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:Lt(t)}}async function au(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[]};for(let i of t.properties){if(!e.ts.isPropertyAssignment(i)||!e.ts.isIdentifier(i.name))continue;if(Ne(e,i)==="component"&&e.ts.isIdentifier(i.initializer)){let o=i.initializer.text;n.name===""&&(n.name=$e(o)),n.importName=o;let a=await Tr(e,e.registryPath,r,o);if(!a)continue;n.filePath=a.filePath,n.relFilePath=a.relFilePath,n.importPath=Le(e,a.filePath),n.displayFilePath=a.displayFilePath,n.exportType=a.exportType;let l=await Gf(e,a.filePath);if(l&&l.length>0)if(l.length===1)n.exportName=l[0].cmpInfo.exportName;else{let u=l.find(c=>c.cmpInfo.exportName===o);u&&(n.exportName=u.cmpInfo.exportName)}continue}}return n=Bt(e,n,t),n.filePath&&n.exportName&&(n.id=await Be(e,n.filePath,n.exportName)),n}async function Xf(e){let r=new Set,t=async i=>{let s=await e.readdir(i);await Promise.all(s.map(async o=>{if(o.startsWith(".")||o==="node_modules")return;let a=e.join(i,o),l=e.extname(o).toLowerCase();if(l===".tsx"||l===".ts"){r.add(a);return}(await e.stat(a)).isDirectory()&&await t(a)}))};return await t(e.getAppRootDir()),await at(e,[...r])}async function qn(e,r,t,n,i,s,o,a){let l=await Xf(e),[u,c,p]=await Promise.all([Wf(e,l),Yf(e),Cs(e)]),d=u.map(h=>h.cmpInfo),f=c.components,m={components:cr(d,f),registryPath:e.registryPath,registryDisplayPath:Ie(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:Ar(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return m;if(r!=null){let h=u.find(I=>I.cmpInfo.id===r);if(!h)throw new Error(`Component ${r} not found`);let g=c.sourceFile,y=m.components.find(I=>I.id===r),D=await Hf(e,h);zt(y,D),r=Array.isArray(r)?r[0]:r;let C=Nr(r,d,f,t,n,i,s),{elements:x,elmIndex:b,statementIndex:E,statement:T,variableDeclaration:R}=await uS(e,g,h),B=!1;if(C.addCmpToRegistry?(x.push(lS(e,C.addCmpToRegistry)),B=!0):C.removeCmpFromRegistry?(x.splice(b,1),B=!0):C.updateRegisteredCmp&&(x[b]=lt(e,x[b],C.updateRegisteredCmp),B=!0),B&&o){let I=[...g.statements];I[E]=e.ts.factory.updateVariableStatement(T,T.modifiers,e.ts.factory.updateVariableDeclarationList(T.declarationList,[e.ts.factory.updateVariableDeclaration(R,R.name,R.exclamationToken,R.type,e.ts.factory.createArrayLiteralExpression(Pr(e,x)))])),g=e.ts.factory.updateSourceFile(g,I),y.exportType==="named"?g=Ce(e,g,{namedImports:[y.importName],importPath:Se(e,e.registryPath,y.filePath)}):g=Ce(e,g,{defaultImport:y.importName,importPath:Se(e,e.registryPath,y.filePath)}),g=Ce(e,g,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-qwik",isTypeOnly:!0}),g=Fr(e,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),g=Ir(e,g),g=vr(e,g);let O=pt(e,g);O=ur(O),O=zf(O,cS,"CUSTOM_COMPONENTS"),O=await e.formatCode(e.registryPath,O),await e.writeFile(e.registryPath,O)}m.components=C.components}return m}function lS(e,r){return lt(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("component",e.ts.factory.createIdentifier(r.importName))],!0),r)}async function uS(e,r,t){let n=it(e,r,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${e.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await au(e,r,i[o]))?.id===t.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}var cS=["This array is used to integrate custom components within Khulnasoft.","https://www.khulnasoft.com/c/docs/custom-components-intro","",'These components will be found the "Custom Components"',"section of Khulnasoft's visual editor.",'You can also turn on "components only mode" to limit',"editing to only these components.","https://www.khulnasoft.com/c/docs/guides/components-only-mode"];async function Qf(e){let r=await pS(e);return{khulnasoftPageOptions:async()=>({templateContentId:"dc70f1d979ad416d8fd357137eb9ddfb",pathname:"/",title:"Khulnasoft + Qwik Demo Page"}),ensureKhulnasoftSetup:()=>Jf(r),ensureFigmaImportPage:async()=>[],getRegistryPath:()=>r.registryPath,getRegistry:n=>qn(r,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:async n=>{},loadComponent:async n=>{let i=await qn(r,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>qn(r,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>qn(r,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>qn(r,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>qn(r,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Cs(r),setPublicApiKey:n=>Kf(r,n.publicApiKey),getDependencies:n=>[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-qwik"}],getDevRunCommand:()=>"dev",getCache:()=>Cr(r),setCache:n=>Sr(r,n)}}async function pS(e){let r=await hs(e,e.getAppRootDir(),"components");if(!r)throw new Error(`Could not find components directory within project: ${e.getAppRootDir()}`);let t=await er(e,r),n=e.join(e.getAppRootDir(),".env");return{...e,componentsDir:r,registryPath:t,envPath:n}}async function Ss(e){return await bn(e,[".env"],ws)}async function Zf(e,r){let t=await Ss(e),n=await xn(e,t.file,t.envKey,r);return{...t,modifiedType:n}}var ws="PUBLIC_KHULNASOFT_KEY";var dS=new Set(["dist","node_modules"]);async function em(e,r){let t=[],n=r.getSourceFiles(),i=r.getTypeChecker(),s=e.join(e.getAppRootDir(),"build");return await Promise.all(n.map(async o=>{let a=e.basename(o.fileName);if(a.startsWith(".")||a==="node_modules"||Ro(e,dS,o.fileName)||fS.has(a)||a.includes("$."))return;let l=e.normalize(o.fileName);if(l===e.remixConfigPath||l===s)return;let u=await En(e,i,l,o,l===e.registryPath);t.push(...u)})),t}var fS=new Set(["root.tsx","root.ts","root.jsx","root.js","_index.tsx","_index.jsx","_index.ts","_index.js"]);async function tm(e){await Uo(e);let r=await e.readFile(e.registryPath);return r?mS(e,r):{components:[],sourceFile:Ee(e,"")}}async function mS(e,r){let t=Ee(e,r);return hS(e,t)}async function hS(e,r){let t=[],n=it(e,r,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await lu(e,r,i);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:Lt(t)}}async function lu(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1};e.sdkVersion===re.gen2&&xi(e,t)&&(n.acceptsChildren=!0);for(let i of t.properties){if(!e.ts.isPropertyAssignment(i)||!e.ts.isIdentifier(i.name))continue;if(Ne(e,i)==="component"){let o,{initializer:a}=i;if(e.ts.isIdentifier(a))o=a.text;else if(e.ts.isCallExpression(a)){(e.ts.isIdentifier(a.expression)&&a.expression.text)==="withChildren"&&(n.acceptsChildren=!0);let c=a.arguments[0];e.ts.isIdentifier(c)&&(o=c.text)}if(!o)continue;n.name===""&&(n.name=$e(o)),n.importName=o;let l=await Tr(e,e.registryPath,r,o);if(!l)continue;if(n.filePath=l.filePath,n.relFilePath=l.relFilePath,await e.exists(l.filePath)?n.importPath=Le(e,l.filePath):(n.externalImportPath=l.importPath,n.importPath=n.externalImportPath),n.displayFilePath=l.displayFilePath,n.exportType=l.exportType,n.externalImportPath)n.exportName=o;else{let u=await Ef(e,l.filePath,e.registryPath===l.filePath||Qt(l.filePath));if(u&&u.length>0)if(u.length===1)n.exportName=u[0].cmpInfo.exportName;else{let c=u.find(p=>p.cmpInfo.exportName===o);c&&(n.exportName=c.cmpInfo.exportName)}}continue}}return n=Bt(e,n,t),n.filePath&&n.exportName&&(n.id=await Be(e,n.filePath,n.exportName,n.externalImportPath)),n}async function kr(e,r,t,n,i,s,o,a){let l=await Cn(e),[u,c,p]=await Promise.all([em(e,l),tm(e),Ss(e)]),d=u.map(D=>D.cmpInfo),f=c.components,m={components:cr(d,f),registryPath:e.registryPath,registryDisplayPath:Ie(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:Ar(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return m.components=await Si(e,m.components),m;let h=!1,g=c.sourceFile,y=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(y.length>0){let D=y.map(b=>{let E=u.find(T=>T.cmpInfo.id===b);if(!E)throw new Error(`Component ${b} not found`);return E}),C=Array.from(new Set(D.map(b=>b.cmpInfo.filePath))),x=await at(e,C);for(let b of D){let E=m.components.find(z=>z.id===b.cmpInfo.id),T=await wi(e,b,x,e.registryPath===b.cmpInfo.filePath||Qt(b.cmpInfo.filePath));zt(E,T);let R=d.findIndex(z=>z.id===b.cmpInfo.id);d[R].inputs=T;let B=Nr(b.cmpInfo.id,d,f,t,n,i,s),{elements:I,elmIndex:O,statementIndex:Z,statement:ie,variableDeclaration:N}=await yS(e,g,b);if(B.addCmpToRegistry)I.push(gS(e,B.addCmpToRegistry)),h=!0;else if(B.removeCmpFromRegistry)I.splice(O,1),h=!0;else if(B.updateRegisteredCmp){let z=lt(e,I[O],B.updateRegisteredCmp);I[O]=e.ts.factory.updateObjectLiteralExpression(z,[rm(e,B.updateRegisteredCmp),...z.properties.slice(1)]),h=!0}if(h&&o){let z=[...g.statements];z[Z]=e.ts.factory.updateVariableStatement(ie,ie.modifiers,e.ts.factory.updateVariableDeclarationList(ie.declarationList,[e.ts.factory.updateVariableDeclaration(N,N.name,N.exclamationToken,N.type,e.ts.factory.createArrayLiteralExpression(Pr(e,I)))])),g=e.ts.factory.updateSourceFile(g,z),E.exportType==="named"?g=Ce(e,g,{namedImports:[E.importName],importPath:E.externalImportPath?E.externalImportPath:Se(e,e.registryPath,E.filePath)}):g=Ce(e,g,{defaultImport:E.importName,importPath:E.externalImportPath?E.externalImportPath:Se(e,e.registryPath,E.filePath)});let oe=e.sdkVersion===re.gen2?"@khulnasoft.com/sdk-react":"@khulnasoft.com/react";g=Ce(e,g,{namedImports:["RegisteredComponent"],importPath:oe,isTypeOnly:!0}),E.acceptsChildren&&e.sdkVersion!==re.gen2&&(g=Ce(e,g,{namedImports:["withChildren"],importPath:"@khulnasoft.com/react"})),g=Fr(e,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),m.components=B.components,f=B.components.filter(F=>F.isRegistered)}}}if(h&&o){g=Ir(e,g),g=vr(e,g);let D=pt(e,g);D=ur(D),D=await e.formatCode(e.registryPath,D),await e.writeFile(e.registryPath,D)}return m}function rm(e,r){if(e.sdkVersion===re.gen2)return e.ts.factory.createPropertyAssignment("component",e.ts.factory.createIdentifier(r.importName));let t=e.ts.factory.createIdentifier(r.importName),n=r.acceptsChildren?e.ts.factory.createCallExpression(e.ts.factory.createIdentifier("withChildren"),void 0,[t]):t;return e.ts.factory.createPropertyAssignment("component",n)}function gS(e,r){return lt(e,e.ts.factory.createObjectLiteralExpression([rm(e,r),...r.acceptsChildren&&e.sdkVersion===re.gen2?[e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())]:[]],!0),r)}async function yS(e,r,t){let n=it(e,r,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${e.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await lu(e,r,i[o]))?.id===t.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}async function nm(e){let r=[],t=await xS(e,r);return r.push(...await Uo(e)),await CS(e,t),await bS(e,r),r}async function im(e){let r=[];return r.push(...await Uo(e)),await DS(e,r),r}async function DS(e,r){let t=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`;e.hasLocaleParam&&(e.debug("remixEnsureFigmaImportRoute, hasLocaleParam"),t=`($locale).${t}`);let n=e.join(e.routesDir,t),i=await e.exists(n);e.debug(`remixEnsureFigmaImportRoute, hasRoute: ${i}`);let s=await e.formatCode(n,sm({sys:e,routePath:n,modelName:"figma-imports"}));await e.writeFile(n,s),r.push({filePath:n,modifiedType:i?"update":"create"})}async function bS(e,r){let t=`$.${e.typescriptEnabled?"tsx":"jsx"}`;e.hasLocaleParam&&(e.debug("remixEnsureAppRoute, hasLocaleParam"),t=`($locale).${t}`),e.sdkVersion===re.gen2&&(t=`($slug)._index.${e.typescriptEnabled?"tsx":"jsx"}`);let n=e.join(e.routesDir,t),i=await e.exists(n);e.debug(`remixEnsureAppRoute, hasRoute: ${i}`);let s=await e.formatCode(n,sm({sys:e,routePath:n,modelName:"page"}));await e.writeFile(n,s),r.push({filePath:n,modifiedType:i?"update":"create"})}function sm({sys:e,routePath:r,modelName:t}){let n=e.typescriptEnabled,i=Se(e,r,e.registryPath),s="",o="";n&&(s="import type { LoaderArgs } from '@remix-run/server-runtime';",o=": LoaderArgs");let a=`process.env.${ws}`;return e.getFrameworks().some(l=>l.name==="@shopify/remix-oxygen")&&(a=`context.env.${ws}`),n&&(a+="!"),e.sdkVersion===re.gen2?`
    
import {
  Content,
  fetchOneEntry,
  getKhulnasoftSearchParams,
  isPreviewing,
} from "@khulnasoft.com/sdk-react";
${n?'import type { LoaderFunctionArgs } from "@remix-run/node";':""}
import { useLoaderData } from "@remix-run/react";
import { fetch ${n?"as webFetch":""}} from "@remix-run/web-fetch";
import { CUSTOM_COMPONENTS } from ${JSON.stringify(i)};

export const loader = async ({ params, request }${n?": LoaderFunctionArgs":""}) => {
  const khulnasoftApiKey = ${a};
  const url = new URL(request.url);
  const urlPath = \`/\${params["slug"] || ""}\`;

  const page = await fetchOneEntry({
    model: "${t}",
    apiKey: khulnasoftApiKey,
    options: getKhulnasoftSearchParams(url.searchParams),
    userAttributes: { urlPath },
    fetch: webFetch,
  });

  if (!page && !isPreviewing(url.search)) {
    throw new Response("Page Not Found", {
      status: 404,
      statusText: "Page not found in Khulnasoft.com",
    });
  }

  return { page, khulnasoftApiKey };
};

// Define and render the page.
export default function Page() {
  const { page, khulnasoftApiKey } = useLoaderData${n?"<typeof loader>":""}();
  // Render the page content from Khulnasoft.com
  return (
    <Content
      model="${t}"
      apiKey={khulnasoftApiKey}
      content={page}
      customComponents={CUSTOM_COMPONENTS}
    />
  );
}
    `:`
import { KhulnasoftComponent, khulnasoft } from "@khulnasoft.com/react";
import { useLoaderData } from "@remix-run/react";
import { CUSTOM_COMPONENTS } from ${JSON.stringify(i)};
${s}

// Fetch contents of the page
export const loader = async ({ params, request, context }${o}) => {
  // Initialize the Khulnasoft client and pass in your Public API Key
  const khulnasoftApiKey = ${a};
  khulnasoft.init(khulnasoftApiKey);

  // Fetch data content from Khulnasoft.com based on the URL path
  const page = await khulnasoft
    .get("${t}", {
      userAttributes: {
        urlPath: "/" + params["*"],
      },
      locale: params.locale,
    })
    .toPromise();

  // Verify the user is previewing or editing in Khulnasoft
  const isPreviewing = new URL(request.url).searchParams.has("khulnasoft.preview");

  // If the page is not found and the user is not previewing, throw a 404.
  // The CatchBoundary component will catch the error
  if (!page && !isPreviewing) {
    throw new Response("Page Not Found", {
      status: 404,
      statusText:
        "We couldn't find this page, please check your url path and if the page is published on Khulnasoft.com.",
    });
  }

  return { page, khulnasoftApiKey };
};

// Define and render the page.
export default function Page() {
  // Use the useLoaderData hook to get the Page data from "loader" above.
  const { page, khulnasoftApiKey } = useLoaderData${n?"<typeof loader>":""}();

  // Render the page content from Khulnasoft.com
  return (
    <KhulnasoftComponent
      customComponents={CUSTOM_COMPONENTS}
      apiKey={khulnasoftApiKey}
      model="${t}"
      content={page}
    />
  );
}

${n?`
declare global {
  interface Env {
    ${ws}: string;
  }
}
`:""}
`}async function xS(e,r){let n=e.typescriptEnabled?"tsx":"jsx",i=e.join(e.componentsDir,"Counter"),s=e.join(i,`Counter.${n}`),o=e.join(i,"styles.module.css"),{component:a,styles:l}=ES(e),u=await e.exists(s);if(e.debug(`remixEnsureCounterComponent, hasCounterCmp: ${u}`),!u){let p=await e.formatCode(s,a);await e.writeFile(s,p),r.push({filePath:s,modifiedType:"create"})}let c=await e.exists(o);return e.debug(`remixEnsureCounterComponent, hasCounterStyles: ${c}`),c||(await e.writeFile(o,l),r.push({filePath:o,modifiedType:"create"})),s}function ES(e){let r=e.typescriptEnabled,t=`
import { useState } from "react";
import styles from "./styles.module.css";
${r?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${r?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
  color: #1c6bd1;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:t,styles:n}}async function CS(e,r){let n=(await kr(e,null,!1,!1,null,null,!1,!1)).components.find(i=>i.filePath===r);n&&await kr(e,n.id,!0,!1,null,null,!0,!1)}async function Uo(e){let r=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,SS(e)),r.push({filePath:e.registryPath,modifiedType:"create"})),r}function SS(e){let r=e.sdkVersion===re.gen2;return e.typescriptEnabled?`import type { RegisteredComponent } from ${r?'"@khulnasoft.com/sdk-react"':'"@khulnasoft.com/react"'};
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function om(e){let r=await wS(e);return{khulnasoftPageOptions:async()=>{let n="/khulnasoft-demo",i=r.hasLocaleParam?`/en-us${n}`:void 0;return{templateContentId:"a5c9eef7909d4fc99554264a17de22c9",pathname:n,localePathname:i,title:"Khulnasoft + Remix Demo Page"}},ensureKhulnasoftSetup:()=>nm(r),ensureFigmaImportPage:()=>im(r),getRegistryPath:()=>r.registryPath,getRegistry:n=>kr(r,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{r.addExternalPackage(n)},loadComponent:async n=>{let i=await kr(r,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>kr(r,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>kr(r,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>kr(r,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>kr(r,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Ss(r),setPublicApiKey:n=>Zf(r,n.publicApiKey),getDependencies:n=>n.sdkVersion===re.gen2?[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-react"}]:[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/react"},{name:"@khulnasoft.com/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Cr(r),setCache:n=>Sr(r,n)}}async function wS(e){let r=await AS(e),t=e.getAppRootDir(),n=await vS(e),i=e.dirname(n),s=e.join(i,"components"),o=await Vt(e),a=await er(e,i),l={},u={...e,registryPath:a,remixConfigPath:r,typescriptEnabled:o,appDir:i,componentsDir:s,routesDir:n,hasLocaleParam:await TS(e,n),addExternalPackage:c=>{l[e.join(t,c,"index.ts")]=`export * from "${c}";`},readFileSync:c=>l[c]??e.readFileSync(c),existsSync:c=>!!l[c]||e.existsSync(c),readdirSync:c=>{let p=e.readdirSync(c);return c===t?[...p,...Object.keys(l).map(d=>d.slice(t.length+1))]:p},readdir:async c=>{let p=await e.readdir(c);return c===t?[...p,...Object.keys(l).map(d=>d.slice(t.length+1))]:p}};return e.sdkVersion?u.sdkVersion=e.sdkVersion:u.sdkVersion=await Ai(u),u}async function TS(e,r){return(await e.readdir(r)).some(n=>n.startsWith("($locale)."))}async function AS(e){let r=["remix.config.ts","remix.config.js","vite.config.ts","vite.config.js"];for(let t of r){let n=e.join(e.getAppRootDir(),t);if(await e.exists(n))return n}throw new Error(`Could not find Remix config file. Searched for ${r.join(", ")} in "${e.getAppRootDir()}".`)}async function vS(e){let r=await hs(e,e.getAppRootDir(),"routes");if(r)return r;throw new Error(`Could not find Remix "routes" directory in "${e.getAppRootDir()}". Please ensure this command is ran from within your Remix project's directory.`)}async function Ts(e){let r=[".env"],t=e.configType==="vite"?As:jo;return await bn(e,r,t)}async function am(e,r){let t=await Ts(e),n=await xn(e,t.file,t.envKey,r);return{...t,modifiedType:n}}var As="VITE_PUBLIC_KHULNASOFT_KEY",jo="YOUR_PUBLIC_KHULNASOFT_KEY";function lm(e,r){let t=`Khulnasoft.registerComponent(
`;t+=`  ${r.importName},
`,t+=`  {
    name: "${r.name}",
  }
`,t+=");";let n=Oo(e,t);return uu(e,n,r)}function uu(e,r,t){if(!e.ts.isExpressionStatement(r))return r;let n=r.expression;if(!e.ts.isCallExpression(n))return r;let i=[...n.arguments];if(i.length<2)return r;let s=i[1];return e.ts.isObjectLiteralExpression(s)?(i[1]=lt(e,s,t),e.ts.factory.updateExpressionStatement(r,e.ts.factory.updateCallExpression(n,n.expression,n.typeArguments,i))):r}async function um(e){let r=await e.readFile(e.registryPath);return r?PS(e,r):{components:[],sourceFile:Ee(e,"")}}async function PS(e,r){let t=Ee(e,r);return e.sdkVersion===re.gen2?FS(e,t):IS(e,t)}async function IS(e,r){let t=[];for(let n=0;n<r.statements.length;n++){let i=r.statements[n];if(!e.ts.isExpressionStatement(i))continue;let s=i.expression;if(!e.ts.isCallExpression(s))continue;let o=s.expression;if(!e.ts.isPropertyAccessExpression(o))continue;let a=o.expression;if(!e.ts.isIdentifier(a)||a.text!=="Khulnasoft"||o.name.text!=="registerComponent")continue;let u=s.arguments;if(u.length<2)continue;let c=u[1];if(!e.ts.isObjectLiteralExpression(c))continue;let p=u[0];if(e.ts.isIdentifier(p)){let d=await NS(e,r,n,p,c,!1);d&&t.push(d);continue}}return{sourceFile:r,components:Lt(t)}}async function NS(e,r,t,n,i,s){let o={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],nodeIndex:t,acceptsChildren:s},a=r.statements.filter(u=>e.ts.isImportDeclaration(u)),l=a.find(u=>u.importClause&&u.importClause.name?.text===n.text);if(l){let u=l.moduleSpecifier;if(!e.ts.isStringLiteral(u))return null;o.filePath=await cu(e,u.text),o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),o.importPath=Le(e,o.filePath),o.name=Zt(e,o.filePath),o.importName=n.text,o.exportName="default",o.exportType="default"}else{let u=a.find(d=>!d.importClause||!d.importClause.namedBindings||!e.ts.isNamedImports(d.importClause.namedBindings)?!1:d.importClause.namedBindings.elements.some(f=>f.name.text===n.text));if(!u)return null;let c=u.moduleSpecifier;if(!e.ts.isStringLiteral(c))return null;let p=await cu(e,c.text);o.filePath=await cu(e,c.text),o.relFilePath=e.relative(e.getAppRootDir(),o.filePath),await e.exists(p)?o.importPath=Le(e,o.filePath):(o.externalImportPath=c.text,o.importPath=o.externalImportPath),o.name=$e(n.text),o.importName=n.text,o.exportName=n.text,o.exportType="named"}return o=Bt(e,o,i),o.displayFilePath=Ie(e,o.filePath),o.filePath&&o.exportName&&(o.id=await Be(e,o.filePath,o.exportName,o.externalImportPath)),o}function cu(e,r){return Es(e,e.normalize(e.resolve(e.dirname(e.registryPath),r)))}async function FS(e,r){let t=[],n=it(e,r,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await pu(e,r,i);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:Lt(t)}}async function pu(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[],acceptsChildren:!1};xi(e,t)&&(n.acceptsChildren=!0);for(let s of t.properties){if(!e.ts.isPropertyAssignment(s)||!e.ts.isIdentifier(s.name))continue;if(Ne(e,s)==="component"){let a,{initializer:l}=s;if(e.ts.isIdentifier(l)&&(a=l.text),!a)continue;n.name===""&&(n.name=$e(a)),n.importName=a;let u=await Tr(e,e.registryPath,r,a);if(!u)continue;n.filePath=u.filePath,n.relFilePath=u.relFilePath,await e.exists(u.filePath)?n.importPath=Le(e,u.filePath):(n.externalImportPath=u.importPath,n.importPath=n.externalImportPath),n.displayFilePath=u.displayFilePath,n.exportType=u.exportType;let c=r.statements.filter(d=>e.ts.isImportDeclaration(d)),p=c.find(d=>d.importClause&&d.importClause.name?.text===a);if(p){let d=p.moduleSpecifier;if(!e.ts.isStringLiteral(d))return null;n.exportName="default"}else{let d=c.find(m=>!m.importClause||!m.importClause.namedBindings||!e.ts.isNamedImports(m.importClause.namedBindings)?!1:m.importClause.namedBindings.elements.some(h=>h.name.text===a));if(!d)return null;let f=d.moduleSpecifier;if(!e.ts.isStringLiteral(f))return null;n.exportName=a}continue}}return n=Bt(e,n,t),n.filePath&&n.exportName&&(n.id=await Be(e,n.filePath,n.exportName,n.externalImportPath)),n}async function Or(e,r,t,n,i,s,o,a){let l=await Cn(e),[u,c,p,d]=await Promise.all([Cf(e,l),um(e),Vt(e),Ts(e)]),f=u.map(C=>C.cmpInfo),m=c.components,h={components:cr(f,m),registryPath:e.registryPath,registryDisplayPath:Ie(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:Ar(f),publicApiKey:d.envValue??void 0,devToolsVersion:e.version};if(a)return h.components=await Si(e,h.components),h;let g=!1,y=c.sourceFile,D=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(D.length>0){let C=D.map(E=>{let T=u.find(R=>R.cmpInfo.id===E);if(!T)throw new Error(`Component ${E} not found`);return T}),x=Array.from(new Set(C.map(E=>E.cmpInfo.filePath))),b=await at(e,x);for(let E of C){let T=h.components.find(O=>O.id===E.cmpInfo.id),R=await wi(e,E,b,e.registryPath===E.cmpInfo.filePath||Qt(E.cmpInfo.filePath));zt(T,R);let B=f.findIndex(O=>O.id===E.cmpInfo.id);f[B].inputs=R;let I=Nr(E.cmpInfo.id,f,m,t,n,i,s);if(e.sdkVersion===re.gen2){let{elements:O,elmIndex:Z,statementIndex:ie,statement:N,variableDeclaration:z}=await _S(e,y,E);if(I.addCmpToRegistry)O.push(kS(e,I.addCmpToRegistry)),g=!0;else if(I.removeCmpFromRegistry)O.splice(Z,1),g=!0;else if(I.updateRegisteredCmp){let oe=lt(e,O[Z],I.updateRegisteredCmp),F=e.ts.factory.createIdentifier(I.updateRegisteredCmp.importName);O[Z]=e.ts.factory.updateObjectLiteralExpression(oe,[e.ts.factory.createPropertyAssignment("component",F),...oe.properties.slice(1)]),g=!0}if(g&&o){let oe=[...y.statements];oe[ie]=e.ts.factory.updateVariableStatement(N,N.modifiers,e.ts.factory.updateVariableDeclarationList(N.declarationList,[e.ts.factory.updateVariableDeclaration(z,z.name,z.exclamationToken,z.type,e.ts.factory.createArrayLiteralExpression(Pr(e,O)))])),y=e.ts.factory.updateSourceFile(y,oe),y=cm(e,I,y),y=Ce(e,y,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-react",isTypeOnly:!0}),y=Fr(e,y,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),h.components=I.components,m=I.components.filter(F=>F.isRegistered)}}else{let O=[...y.statements];I.addCmpToRegistry?(O.push(lm(e,I.addCmpToRegistry)),g=!0):I.removeCmpFromRegistry?(O.splice(I.nodeIndex,1),g=!0):I.updateRegisteredCmp&&(O[I.nodeIndex]=uu(e,O[I.nodeIndex],I.updateRegisteredCmp),g=!0),g&&o&&(y=e.ts.factory.updateSourceFile(y,O),y=Ce(e,y,{namedImports:["Khulnasoft","khulnasoft"],importPath:"@khulnasoft.com/react"}),y=cm(e,I,y),T?.acceptsChildren&&(y=Ce(e,y,{namedImports:["withChildren"],importPath:"@khulnasoft.com/react"})),h.components=I.components,m=I.components.filter(Z=>Z.isRegistered))}}}if(g&&o){y=Ir(e,y),y=vr(e,y);let C=pt(e,y);C=ur(C),C=await e.formatCode(e.registryPath,C),await e.writeFile(e.registryPath,C)}return h}async function _S(e,r,t){let n=it(e,r,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${e.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await pu(e,r,i[o]))?.id===t.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}function kS(e,r){let t=e.ts.factory.createIdentifier(r.importName);return lt(e,e.ts.factory.createObjectLiteralExpression([e.ts.factory.createPropertyAssignment("component",t),...r.acceptsChildren?[e.ts.factory.createPropertyAssignment("canHaveChildren",e.ts.factory.createTrue())]:[]],!0),r)}function cm(e,r,t){let n=r.addCmpToRegistry||r.updateRegisteredCmp;if(n){let i=n.externalImportPath?n.externalImportPath:Se(e,e.registryPath,n.filePath);n.exportType==="default"?t=Ce(e,t,{defaultImport:n.importName,importPath:i}):n.exportType==="named"&&(t=Ce(e,t,{namedImports:[n.importName],importPath:i}))}return t}async function pm(e){let r=[],t=await OS(e,r);if(await mm(e,r,t),!await e.exists(e.khulnasoftComponentPath)){let n=await e.formatCode(e.khulnasoftComponentPath,fm(e,e.khulnasoftComponentPath));await e.writeFile(e.khulnasoftComponentPath,n),r.push({filePath:e.khulnasoftComponentPath,modifiedType:"create"})}return r}async function dm(e){let r=[];await mm(e,r);let t=`figma-imports.${e.typescriptEnabled?"tsx":"jsx"}`,n=e.join(e.componentsDir,t);if(!await e.exists(n)){let i=await e.formatCode(n,fm(e,n,"figma-imports"));await e.writeFile(n,i),r.push({filePath:n,modifiedType:"create"})}return r}function fm(e,r,t="page"){let n=e.typescriptEnabled;return e.sdkVersion===re.gen2?`
  import React from "react";
  import {
      Content,
      fetchOneEntry,
      getKhulnasoftSearchParams,
      isPreviewing,
    ${n?"type KhulnasoftContent,":""}
    } from "@khulnasoft.com/sdk-react";
  import { CUSTOM_COMPONENTS } from ${JSON.stringify(Se(e,r,e.registryPath))};

  // Khulnasoft Public API Key set in .env file
  const KHULNASOFT_API_KEY = ${e.configType==="vite"?`import.meta.env.${As};`:`${jo};`}
  const MODEL_NAME = "${t}";

  export default function KhulnasoftPage() {
  const [notFound, setNotFound] = React.useState(false);
  const [content, setContent] = React.useState${n?"<KhulnasoftContent | null>":""}(null);

  // get the page content from Khulnasoft
  React.useEffect(() => {
    fetchOneEntry({
      model: MODEL_NAME,
      apiKey: KHULNASOFT_API_KEY,
      userAttributes: {
        urlPath: window.location.pathname,
      },
      options: getKhulnasoftSearchParams(new URL(location.href).searchParams),
    })
      .then((content) => {
        if (content) {
          setContent(content);
        }
        setNotFound(!content);
      })
      .catch((err) => {
        console.log("Oops: ", err);
      });
  }, []);

  // If no page is found, return
  // a 404 page from your code.
  if (notFound && !isPreviewing()) {
    return <div>404 Page Not Found</div>;
  }

  // return the page when found
  return (
  <>
    {/* Render the Khulnasoft page */}
    <Content
      content={content}
      model={MODEL_NAME}
      apiKey={KHULNASOFT_API_KEY}
      customComponents={CUSTOM_COMPONENTS}
    />
  </>
  );
}
    `:`
import React from "react";
import { KhulnasoftComponent, khulnasoft, useIsPreviewing } from "@khulnasoft.com/react"; 
import ${JSON.stringify(Se(e,r,e.registryPath))};

// Khulnasoft Public API Key set in .env file
${e.configType==="vite"?`khulnasoft.init(import.meta.env.${As}${n?"!":""})`:`khulnasoft.init("${jo}")`}

export default function KhulnasoftPage() {
  const isPreviewingInKhulnasoft = useIsPreviewing();
  const [notFound, setNotFound] = React.useState(false);
  const [content, setContent] = React.useState(null);

  // get the page content from Khulnasoft
  React.useEffect(() => {
    async function fetchContent() {
      const content = await khulnasoft
        .get("${t}", {
          url: window.location.pathname,
        })
        .promise();

      setContent(content);
      setNotFound(!content);

      // if the page title is found, 
      // set the document title
      if (content?.data.title) {
        document.title = content.data.title;
      }
    }
    fetchContent();
  }, []);
  
  if (content === null) {
    return;
  }
  // If no page is found, return 
  // a 404 page from your code.
  if (notFound && !isPreviewingInKhulnasoft) {
    return <div>404 Page Not Found</div>;
  }

  // return the page when found
  return (
    <>
      {/* Render the Khulnasoft page */}
      <KhulnasoftComponent model="${t}" content={content} />
    </>
  );
}
`.trimStart()}async function mm(e,r,t){if(!await e.exists(e.registryPath)){if(e.sdkVersion===re.gen2){let s=LS(e);await e.writeFile(e.registryPath,s)}else await e.writeFile(e.registryPath,"");r.push({filePath:e.registryPath,modifiedType:"create"})}if(!t)return;let i=(await Or(e,null,!1,!1,null,null,!1,!1)).components.find(s=>s.filePath===t);i&&await Or(e,i.id,!0,!1,null,null,!0,!1)}async function OS(e,r){let n=e.typescriptEnabled?"tsx":"jsx",i=e.join(e.componentsDir,"Counter"),s=e.join(i,`Counter.${n}`),o=e.join(i,"styles.module.css"),{component:a,styles:l}=RS(e);if(!await e.exists(s)){let u=await e.formatCode(s,a);await e.writeFile(s,u),r.push({filePath:s,modifiedType:"create"})}return await e.exists(o)||(await e.writeFile(o,l),r.push({filePath:o,modifiedType:"create"})),s}function RS(e){let r=e.typescriptEnabled,t=`
"use client"
import React, { useState } from "react";
import styles from "./styles.module.css";
${r?`
interface CounterProps {
  initialCount?: number;
}`:""}

function Counter({ initialCount = 99 }${r?": CounterProps":""}) {
  const [count, setCount] = useState(initialCount);

  const increment = () => {
    setCount((prevCount) => prevCount + 1);
  };

  const decrement = () => {
    setCount((prevCount) => prevCount - 1);
  };

  return (
    <div className={styles.counter}>
      <button className={styles.btn} onClick={decrement}>
        -
      </button>
      <span className={styles.count}>{count}</span>
      <button className={styles.btn} onClick={increment}>
        +
      </button>
    </div>
  );
}

export default Counter;
`.trimStart(),n=`
.counter {
  margin: 32px auto;
  display: flex;
  width: 100%;
  max-width: 190px;
}

.btn {
  width: 42px;
  font-size: 32px;
  font-weight: bold;
  background-color: #1c6bd1;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  line-height: 1.4;
}

.btn:hover {
  opacity: 0.8;
}

.count {
  flex: 1;
  font-size: 42px;
  text-align: center;
}
`.trimStart();return{component:t,styles:n}}function LS(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@khulnasoft.com/sdk-react";
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function hm(e){let r=await BS(e);return{khulnasoftPageOptions:async()=>({templateContentId:"2e36438034894a8abf279ea9e6d3596f",pathname:"/khulnasoft-demo",title:"Khulnasoft + React Demo Page"}),ensureKhulnasoftSetup:()=>pm(r),ensureFigmaImportPage:()=>dm(r),getRegistryPath:()=>r.registryPath,getRegistry:n=>Or(r,null,!1,!1,null,null,!1,!!n?.readAllInputTypes),addExternalPackage:n=>{r.addExternalPackage(n)},loadComponent:async n=>{let i=await Or(r,n.cmpId,!1,!1,null,null,!1,!1);return{...i,component:i.components.find(s=>s.id===n.cmpId)}},registerComponent:n=>Or(r,n.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:n=>Or(r,n.cmpId,!1,!1,n,null,!0,!1),setRegisteredComponentInput:n=>Or(r,n.cmpId,!1,!1,null,n,!0,!1),unregisterComponent:n=>Or(r,n.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>Ts(r),setPublicApiKey:n=>am(r,n.publicApiKey),getDependencies:n=>n.sdkVersion===re.gen2?[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-react"}]:[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/react"},{name:"@khulnasoft.com/sdk"}],getDevRunCommand:()=>"dev",getCache:()=>Cr(r),setCache:n=>Sr(r,n)}}async function BS(e){let r=await MS(e),t=e.getAppRootDir(),n=e.join(t,"src"),i=await Vt(e),s={},o={...e,srcDir:null,khulnasoftComponentPath:"",componentsDir:"",registryPath:"",reactConfigPath:r,typescriptEnabled:i,configType:"",addExternalPackage:a=>{s[e.join(t,a,"index.ts")]=`export * from "${a}";`},readFileSync:a=>s[a]??e.readFileSync(a),existsSync:a=>!!s[a]||e.existsSync(a),readdirSync:a=>{let l=e.readdirSync(a);return a===t?[...l,...Object.keys(s).map(u=>u.slice(t.length+1))]:l},readdir:async a=>{let l=await e.readdir(a);return a===t?[...l,...Object.keys(s).map(u=>u.slice(t.length+1))]:l}};return e.sdkVersion?o.sdkVersion=e.sdkVersion:o.sdkVersion=await Ai(o),r.includes("webpack.config")&&(o.configType="webpack"),r.includes("vite.config")&&(o.configType="vite"),await e.exists(n)?(o.srcDir=n,o.componentsDir=e.join(n,"components"),o.registryPath=await er(e,n),o.khulnasoftComponentPath=e.join(o.srcDir,`khulnasoft-page.${i?"tsx":"jsx"}`)):(o.componentsDir=e.join(t,"components"),o.registryPath=await er(e,t),o.khulnasoftComponentPath=e.join(t,`khulnasoft-page.${i?"tsx":"jsx"}`)),o}async function MS(e){let r=["vite.config.ts","vite.config.js","webpack.config.js","webpack.config.ts"];for(let t of r){let n=e.join(e.getAppRootDir(),t);if(await e.exists(n))return n}if(e.ignoreMissingConfig)return"";throw new Error(`Could not find React config file. Searched for ${r.join(", ")} in "${e.getAppRootDir()}".`)}async function vs(e){return await $S(e,["environment.ts"],Ko)}async function gm(e,r){let t=await vs(e),n=await VS(e,t.file,t.envKey,r);return{...t,modifiedType:n}}async function $S(e,r,t){let n={envKey:t,envValue:null,file:""};for(let i of r){let s=e.join(e.getAppRootDir(),"src","environments",i),o=await US(e,s);if(typeof o=="string"&&o.length>0&&o!=="YOUR_API_KEY")return n.envValue=o,n.file=s,n}return n.file=e.join(e.getAppRootDir(),"src","environments",r[r.length-1]),n}async function US(e,r){let t=await e.readFile(r);return t?jS(e,t):""}function jS(e,r){let t=Ee(e,r),n="",s=Ei(e,t,"environment");if(s&&s.statement.declarationList.declarations.length>0){let a=s.statement.declarationList.declarations[0].initializer;a&&e.ts.isObjectLiteralExpression(a)&&a.properties.forEach(l=>{e.ts.isPropertyAssignment(l)&&e.ts.isIdentifier(l.name)&&l.name.text===Ko&&e.ts.isStringLiteral(l.initializer)&&(n=l.initializer.text)})}return n}async function KS(e,r,t,n){let i=Ee(e,r),o=Ei(e,i,"environment");if(o&&o.statement.declarationList.declarations.length>0){let a=o.statement.declarationList,l=a.declarations[0],u=l.initializer;if(u&&e.ts.isObjectLiteralExpression(u)){let c=e.ts.factory.createPropertyAssignment(e.ts.factory.createIdentifier(t),e.ts.factory.createStringLiteral(n)),p=e.ts.factory.createNodeArray([...u.properties,c]),d=e.ts.factory.updateObjectLiteralExpression(u,p),f=e.ts.factory.updateVariableDeclaration(l,l.name,l.exclamationToken,l.type,d),m=e.ts.factory.updateVariableDeclarationList(a,[f]);return e.ts.factory.updateVariableStatement(o.statement,o.statement.modifiers,m)}return null}return null}async function VS(e,r,t,n){let i=await e.readFile(r);if(i)if(i.includes(t))e.debug(`"${t}" already set in ${r}`);else{e.debug(`Add "${t}" to ${r}`);let s=await KS(e,i,t,n);if(s){let o=pt(e,s),a=await e.formatCode(r,o);await e.writeFile(r,a)}return"update"}else{e.debug(`Creating new env file with "${t}" at ${r}`);let s=`
    // https://www.khulnasoft.com/c/docs/using-your-api-key
    export const environment = {
      production: false,
      khulnasoftApiKey: "${n}",
    };
    `.trimStart(),o=await e.formatCode(r,s);return await e.writeFile(r,o),"create"}return null}var Ko="khulnasoftApiKey";async function Dm(e,r){let t=[],n=r.getSourceFiles(),i=r.getTypeChecker();return await Promise.all(n.map(async s=>{let o=e.basename(s.fileName);if(WS(e,s.fileName)||o.startsWith(".")||o==="node_modules"||zS.has(o))return;let a=e.normalize(s.fileName);if(a===e.registryPath)return;let l=await Vo(e,i,a,s);t.push(...l)})),t.sort((s,o)=>s.cmpInfo.name.localeCompare(o.cmpInfo.name))}var zS=new Set([]),qS=new Set(["node_modules"]);function WS(e,r){for(let t of qS)if(e.dirname(r).includes(t))return!0;return!1}async function bm(e,r){let t=e.extname(r).toLowerCase();if(t===".tsx"||t===".jsx"||t===".ts"||t===".js"){let n=await e.readFile(r);if(n)return GS(e,r,n)}return null}function GS(e,r,t){let n=Ee(e,t);return Vo(e,null,r,n)}async function Vo(e,r,t,n){let i=[],s={};t=e.normalize(t);let o=n.statements.filter(c=>e.ts.isClassDeclaration(c)&&QS(e,c)),a=n.statements.find(c=>e.ts.isImportDeclaration(c)&&e.ts.isStringLiteral(c.moduleSpecifier)&&c.moduleSpecifier.text==="@angular/core");if(a&&e.ts.isImportDeclaration(a)){let c=a.importClause?.namedBindings;if(c&&e.ts.isNamedImports(c)){let p=c.elements.find(d=>(d.propertyName??d.name).text==="input");p&&(s.inputSignalImportName=p.name.text)}}let l=await JS(e,r,t,n),u=ZS(e,n);return await Promise.all(o.map(async c=>{let p=await HS(e,r,t,c,u,s);i.push(...p)})),i.push(...l),i}async function du(e,r,t){if(r.node.fnNode){let{sourceFile:n,typeChecker:i}=await Di(e,r.cmpInfo.filePath,t),o=(await Vo(e,i,r.cmpInfo.filePath,n)).find(a=>a.cmpInfo.id===r.cmpInfo.id);if(!o)throw new Error(`Could not find component ${r.cmpInfo.name} in ${r.cmpInfo.filePath}`);return o.cmpInfo.inputs}return[]}async function xm(e,r,t){if(!t.some(a=>!a.isRegistered))return t;let i=await at(e,t.map(a=>a.filePath)),s=i.getTypeChecker();return await Promise.all(t.filter(a=>!(a.name.endsWith("Page")||a.name.endsWith("Module")||a.name==="AppComponent")).map(async a=>{if(!a.isRegistered){let l=i.getSourceFile(a.filePath);if(l){let c=(await Vo(e,s,a.filePath,l)).find(p=>p.cmpInfo.id===a.id);if(c){a.inputs=Vn(e,s,c.node.fnNode);let p=r.find(d=>d.cmpInfo.id===a.id);if(p){let d=await du(e,p,i);zt(a,d)}}}}return a}))}async function HS(e,r,t,n,i,s){let o=[],a=e.relative(e.getAppRootDir(),t),l=Le(e,t),u=n.name?.text;if(!u)return o;let c=!1;n.modifiers&&(c=n.modifiers.some(m=>m.kind===e.ts.SyntaxKind.DefaultKeyword));let p=c?"default":u,d=c?"default":"named",f=[];return n.members.forEach(m=>{if(e.ts.isPropertyDeclaration(m)||e.ts.isGetAccessor(m)||e.ts.isSetAccessor(m)){let y=(e.ts.getDecorators(m)??[]).find(C=>YS(e,C))!==void 0&&e.ts.isIdentifier(m.name),D=s?.inputSignalImportName!==void 0&&e.ts.isIdentifier(m.name)&&XS(e,m,s.inputSignalImportName);if(y||D){let C="any";if(e.ts.isSetAccessor(m))C=ym(e,m.parameters[0].type);else if(m.type&&r){let b=r.getTypeAtLocation(m.type);C=r.typeToString(b)}else C=ym(e,m.type);let x={name:m.name.text,type:i[C]?"string":C};i[C]&&(x.enum=i[C]),f.push(x)}}}),o.push({cmpInfo:{id:await Be(e,t,u),displayFilePath:Ie(e,t),name:$e(u),inputs:f,exportName:p,exportType:d,importName:u,filePath:t,relFilePath:a,importPath:l,meta:{...tw(e,n)}},node:{name:u,fnNode:n,deps:void 0}}),o}async function JS(e,r,t,n){let i=[],s=e.relative(e.getAppRootDir(),t),o=Le(e,t);for(let a of n.statements)if(e.ts.isExportDeclaration(a)&&a.exportClause&&e.ts.isNamedExports(a.exportClause))for(let l of a.exportClause.elements){let u=l.name?.text;if(!u)continue;let c=u,p="named",d=[];if(r){let h=r.getSymbolAtLocation(l.name);if(h){let g=r.getDeclaredTypeOfSymbol(h);r.getPropertiesOfType(g).forEach(D=>{let C=D.getDeclarations();C&&C.forEach(x=>{if(e.ts.isPropertyDeclaration(x)){let b=r.getTypeAtLocation(x),E={name:D.getName(),type:ew(e,r,b)};d.push(E)}})})}}let f=e.ts.isExportSpecifier(l)&&l.parent?l.parent.parent:void 0,m;if(f){let h=f.moduleSpecifier;if(h&&e.ts.isStringLiteral(h)){let g=r?.getSymbolAtLocation(h);if(g&&g.declarations&&g.declarations.length>0){let y=g.declarations[0];(!e.ts.isSourceFile(y)||e.ts.isSourceFile(y)&&y.fileName.includes("node_modules"))&&(m=h.text)}}}i.push({cmpInfo:{id:await Be(e,t,u,m),displayFilePath:Ie(e,t),name:$e(u),inputs:d,exportName:c,exportType:p,importName:u,filePath:t,relFilePath:s,importPath:m||o,externalImportPath:m},node:{name:u,fnNode:l,deps:void 0}})}return i}function YS(e,r){return Em(e,r,"Input")}function XS(e,r,t){return e.ts.isPropertyDeclaration(r)&&r.initializer!==void 0&&e.ts.isCallExpression(r.initializer)&&e.ts.isIdentifier(r.initializer.expression)&&r.initializer.expression.text===t}function Em(e,r,t){if(e.ts.isCallExpression(r.expression)){let n=r.expression;if(e.ts.isIdentifier(n.expression))return n.expression?.text===t}return!1}function QS(e,r){return!!e.ts.getDecorators(r)?.some(i=>e.ts.isCallExpression(i.expression)&&e.ts.isIdentifier(i.expression.expression)&&i.expression.expression.text==="Component")}function ym(e,r){if(!r)return"any";let t="any";switch(r.kind){case e.ts.SyntaxKind.StringKeyword:t="string";break;case e.ts.SyntaxKind.NumberKeyword:t="number";break;case e.ts.SyntaxKind.BooleanKeyword:t="boolean";break;case e.ts.SyntaxKind.TypeReference:e.ts.isTypeReferenceNode(r)&&e.ts.isIdentifier(r.typeName)&&(t=r.typeName.text);break}return t.includes("|")?"string":t}function ZS(e,r){let t={};return e.ts.forEachChild(r,n=>{e.ts.isTypeAliasDeclaration(n)&&e.ts.isUnionTypeNode(n.type)&&n.type.types.every(i=>e.ts.isLiteralTypeNode(i)&&e.ts.isStringLiteral(i.literal))&&(t[n.name.text]=n.type.types.map(i=>i.literal.text))}),t}function ew(e,r,t){let n=r.typeToString(t);if(n==="any"){let i=t.getSymbol();if(i){let s=i.getDeclarations();if(s&&s.length>0){let o=s[0];if(e.ts.isVariableDeclaration(o)){let a=o.type;a&&(n=r.typeToString(r.getTypeAtLocation(a)))}}}}return n}function tw(e,r){let{getDecorators:t,isCallExpression:n,isIdentifier:i,isObjectLiteralExpression:s,isPropertyAssignment:o,isStringLiteral:a,SyntaxKind:l}=e.ts,u,c;return t(r)?.forEach(d=>{if(Em(e,d,"Component")){let{expression:f}=d;if(n(f)){let[m]=f.arguments;s(m)&&m.properties.forEach(h=>{o(h)&&i(h.name)&&(h.name.escapedText==="selector"&&a(h.initializer)&&(u=h.initializer.text),h.name.escapedText==="standalone"&&(c=h.initializer.kind===l.TrueKeyword))})}}}),{selector:u,standalone:c}}async function zo(e,r,t){let n=e.typescriptEnabled?".ts":".js",i=`app.module${n}`,s=e.join(e.appDir,i),o=await e.readFile(s);if(!o){console.error(`Unable to read app.module.${n} at ${s}`);return}let a=await rw(e,s,r,t,o);if(!a){console.error(`Unable to update app.module.${n} at ${s}`);return}return await e.writeFile(s,a),s}async function rw(e,r,t,n,i){let s=i,o=Ee(e,i),a=Se(e,r,n);o=Ce(e,o,{namedImports:[t],importPath:a}),o=Ce(e,o,{namedImports:["Content"],importPath:"@khulnasoft.com/sdk-angular"});let l=[];for(let u of o.statements)if(e.ts.isClassDeclaration(u)&&u.name?.text==="AppModule"){let c=nw(e,t,u);l.push(c)}else l.push(u);return o=e.ts.factory.updateSourceFile(o,l),s=pt(e,o),s}function nw(e,r,t){let n=e.ts.getDecorators(t);if(n){for(let i of n)if(e.ts.isCallExpression(i.expression)&&e.ts.isIdentifier(i.expression.expression)&&i.expression.expression.text==="NgModule"){let s=i.expression.arguments;if(s.length===1&&e.ts.isObjectLiteralExpression(s[0])){let o=Cm(e,s[0],"declarations",r);if(o){let a=Cm(e,o,"imports","Content");if(a&&(o=a),o){let l=e.ts.factory.updateDecorator(i,e.ts.factory.updateCallExpression(i.expression,i.expression.expression,i.expression.typeArguments,[o])),c=[...n.map(p=>p===i?l:p),...e.ts.getModifiers(t)||[]];return e.ts.factory.updateClassDeclaration(t,c,t.name,t.typeParameters,t.heritageClauses,t.members)}}}}}return t}function Cm(e,r,t,n){let i=[...r.properties],s=i.findIndex(a=>Ne(e,a)===t);if(s>-1){let a=i[s];if(e.ts.isPropertyAssignment(a)&&a.initializer&&e.ts.isArrayLiteralExpression(a.initializer)){let l=Sm(e,a.initializer,n);return l?(i[s]=e.ts.factory.updatePropertyAssignment(a,a.name,l),e.ts.factory.updateObjectLiteralExpression(r,i)):null}return null}let o=Sm(e,e.ts.factory.createArrayLiteralExpression([],!0),n);return o?e.ts.factory.updateObjectLiteralExpression(r,[...i,e.ts.factory.createPropertyAssignment(t,o)]):null}function Sm(e,r,t){return r.elements.some(i=>e.ts.isIdentifier(i)?i.text===t:!1)?null:e.ts.factory.updateArrayLiteralExpression(r,[...r.elements,e.ts.factory.createIdentifier(t)])}async function fu(e,r,t,n){try{if(e.magicast){let s=`app.routes${e.typescriptEnabled?".ts":".js"}`,o=e.join(e.appDir,s),a=await e.magicast.loadFile(o);Object.keys(a.exports).length===0&&(a.exports.routes=[]);let u=Object.keys(a.exports)[0],c=a.exports[u];if(c.find(d=>d.path===r))return;let p=e.magicast.khulnasofts.raw("{}");if(p.path=r,p.component=e.magicast.khulnasofts.raw(t),c.push(p),a.imports.$items.find(d=>d.imported===t))return;a.imports.$append({imported:t,from:n}),await e.magicast.writeFile(a,o)}}catch(i){console.error(i)}}var Rm=K(Om(),1);async function Lm(e){let r=e.ts.findConfigFile(e.getAppRootDir(),e.existsSync);if(r){let t=await e.readFile(r);if(!t)return;let n=Rm.default.parse(t);if(!n||typeof n!="object"||Array.isArray(n))return;let i=n.compilerOptions;if(!i||typeof i!="object"||Array.isArray(i))return;let s=i.paths;(!s||typeof s!="object"||Array.isArray(s))&&(i.paths={},s=i.paths),Object.assign(i.paths,{"~/*":["./src/*"]}),await e.writeFile(r,JSON.stringify(n,null,2))}}async function Bm(e){let r=[],t=await mw(e,r);r.push(...await Jo(e)),await dw(e,t);let n="KhulnasoftPage";if(!await e.exists(e.khulnasoftPageComponentPath)){let i=await e.formatCode(e.khulnasoftPageComponentPath,$m(e,n,e.khulnasoftPageComponentPath,"khulnasoft-page","page",!0));await e.writeFile(e.khulnasoftPageComponentPath,i),r.push({filePath:e.khulnasoftPageComponentPath,modifiedType:"create"})}if(e.hasAppModule){await zo(e,"Counter",t);let i=await zo(e,n,e.khulnasoftPageComponentPath);i&&r.push({filePath:i,modifiedType:"update"})}return await fu(e,"**",n,"./components/khulnasoft-page.component"),r}async function Mm(e){let r=[];r.push(...await Jo(e));let t="FigmaImportsPage",n="figma-imports.component",i=e.join(e.componentsDir,`${n}.${e.typescriptEnabled?"ts":"js"}`);if(!await e.exists(i)){let s=await e.formatCode(i,$m(e,t,i,"figma-imports","figma-imports",!1));await e.writeFile(i,s),r.push({filePath:i,modifiedType:"create"})}if(e.hasAppModule){let s=await zo(e,t,i);s&&r.push({filePath:s,modifiedType:"update"})}return await fu(e,"figma-imports",t,`./components/${n}`),await Lm(e),r}async function Jo(e){let r=[];return await e.exists(e.registryPath)||(await e.writeFile(e.registryPath,fw(e)),r.push({filePath:e.registryPath,modifiedType:"create"})),r}async function dw(e,r){let n=(await Rr(e,null,!1,!1,null,null,!1,!1)).components.find(i=>i.filePath===r);n&&await Rr(e,n.id,!0,!1,null,null,!0,!1)}function $m(e,r,t,n,i,s){let o=!e.hasAppModule,a=Se(e,t,e.registryPath),l=e.join(e.getAppRootDir(),"src","environments","environment.ts"),u=Se(e,t,l),c=s?`    <ng-container *ngIf="content || isPreviewing; else notFound">
      <khulnasoft-content
        [model]="model"
        [content]="content"
        [apiKey]="apiKey"
        [customComponents]="customComponents"
      ></khulnasoft-content>
    </ng-container>

    <ng-template #notFound>
      <div>404 - Content not found</div>
    </ng-template>`:`    <khulnasoft-content
      [model]="model"
      [content]="content"
      [apiKey]="apiKey"
      [customComponents]="customComponents"
    ></khulnasoft-content>`;return`
import { Component, Input } from '@angular/core';
import { fetchOneEntry, type KhulnasoftContent${s?", isPreviewing":""} } from '@khulnasoft.com/sdk-angular';
${o?"import { Content } from '@khulnasoft.com/sdk-angular';":""}
${o?"import { CommonModule } from '@angular/common';":""}
import { environment } from ${JSON.stringify(u)};
import { CUSTOM_COMPONENTS } from ${JSON.stringify(a)};

@Component({
  selector: 'app-${n}',
  ${o?"standalone: true,":""}
  ${o?"imports: [Content, CommonModule],":""}
  template: \`
${c}
  \`,
})
export class ${r} {
  
  ${s?`isPreviewing = isPreviewing();
`:""}
  @Input() model = '${i}';

  apiKey = environment.${Ko};
  ${e.typescriptEnabled?`
  content: KhulnasoftContent | null = null;
`:`
  content = null;
`}

  customComponents = CUSTOM_COMPONENTS;

  async ngOnInit() {
    const urlPath = window.location.pathname || '/';

    const khulnasoftContent = await fetchOneEntry({
      model: this.model,
      apiKey: this.apiKey,
      userAttributes: {
        urlPath,
      },
    });

    if (!khulnasoftContent) {
      return;
    }

    this.content = khulnasoftContent;
  }
}

  `.trimStart()}function fw(e){return e.typescriptEnabled?`import type { RegisteredComponent } from "@khulnasoft.com/sdk-angular";
    
export const CUSTOM_COMPONENTS: RegisteredComponent[] = [
];`:`export const CUSTOM_COMPONENTS = [
  ];
  `}async function mw(e,r){let n=e.typescriptEnabled?"ts":"js",i=e.join(e.componentsDir,`counter.component.${n}`),s=await e.exists(i);e.debug(`angularEnsureCounterComponent, hasCounterCmp: ${s}`);let o=hw(e);if(!s){let a=await e.formatCode(i,o);await e.writeFile(i,a),r.push({filePath:i,modifiedType:"create"})}return i}function hw(e){return`
import { Component, Input } from '@angular/core';

@Component({
  selector: 'app-counter',
  ${e.hasAppModule?"":"standalone: true,"}
  template: \`
    <div class="counter">
      <button class="btn" (click)="decrement()">-</button>
      <span class="count">{{ count }}</span>
      <button class="btn" (click)="increment()">+</button>
    </div>
  \`,
  styles: [
    \`
      .counter {
        margin: 32px auto;
        display: flex;
        width: 100%;
        max-width: 190px;
      }

      .btn {
        width: 42px;
        font-size: 32px;
        font-weight: bold;
        background-color: #1c6bd1;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        line-height: 1.4;
      }

      .btn:hover {
        opacity: 0.8;
      }

      .count {
        flex: 1;
        font-size: 42px;
        text-align: center;
        margin: 0 8px;
      }
    \`,
  ],
})
export class Counter {
  @Input() initialCount: number = 99;
  count: number;

  constructor() {
    this.count = this.initialCount;
  }

  ngOnInit(): void {
    this.count = this.initialCount;
  }

  increment(): void {
    this.count += 1;
  }

  decrement(): void {
    this.count -= 1;
  }
}

`.trimStart()}async function Um(e){await Jo(e);let r=await e.readFile(e.registryPath);return r?gw(e,r):{components:[],sourceFile:Ee(e,"")}}async function gw(e,r){let t=Ee(e,r);return yw(e,t)}async function yw(e,r){let t=[],n=it(e,r,"CUSTOM_COMPONENTS");return n&&await Promise.all(n.arrayLiteralExp.elements.map(async(i,s)=>{let o=await Cu(e,r,i);o&&(o.nodeIndex=s,t.push(o))})),{sourceFile:r,components:Lt(t)}}async function Cu(e,r,t){if(!e.ts.isObjectLiteralExpression(t))return null;let n={id:"",name:"",displayFilePath:"",exportName:"",importName:"",filePath:"",relFilePath:"",importPath:"",inputs:[]};for(let i of t.properties){if(!e.ts.isPropertyAssignment(i)||!e.ts.isIdentifier(i.name))continue;if(Ne(e,i)==="component"){let o,{initializer:a}=i;if(e.ts.isIdentifier(a))o=a.text;else if(e.ts.isCallExpression(a)){let u=a.arguments[0];e.ts.isIdentifier(u)&&(o=u.text)}if(!o)continue;n.name===""&&(n.name=$e(o)),n.importName=o;let l=await Tr(e,e.registryPath,r,o);if(!l)continue;if(n.filePath=l.filePath,n.relFilePath=l.relFilePath,await e.exists(l.filePath)?n.importPath=Le(e,l.filePath):(n.externalImportPath=l.importPath,n.importPath=n.externalImportPath),n.displayFilePath=l.displayFilePath,n.exportType=l.exportType,n.externalImportPath)n.exportName=o;else{let u=await bm(e,l.filePath);if(u&&u.length>0)if(u.length===1)n.exportName=u[0].cmpInfo.exportName;else{let c=u.find(p=>p.cmpInfo.exportName===o);c&&(n.exportName=c.cmpInfo.exportName)}}continue}}return n=Bt(e,n,t),n.filePath&&n.exportName&&(n.id=await Be(e,n.filePath,n.exportName,n.externalImportPath)),n}async function Rr(e,r,t,n,i,s,o,a){let l=await Cn(e),[u,c,p]=await Promise.all([Dm(e,l),Um(e),vs(e)]),d=u.map(D=>D.cmpInfo),f=c.components,m={components:cr(d,f),registryPath:e.registryPath,registryDisplayPath:Ie(e,e.registryPath),frameworks:e.getFrameworks(),dependencies:Ar(d),publicApiKey:p.envValue??void 0,devToolsVersion:e.version};if(a)return m.components=await xm(e,u,m.components),m;let h=!1,g=c.sourceFile,y=Array.isArray(r)?r:typeof r=="string"?[r]:[];if(y.length>0){let D=y.map(b=>{let E=u.find(T=>T.cmpInfo.id===b);if(!E)throw new Error(`Component ${b} not found`);return E}),C=Array.from(new Set(D.map(b=>b.cmpInfo.filePath))),x=await at(e,C);for(let b of D){let E=m.components.find(z=>z.id===b.cmpInfo.id),T=await du(e,b,x);zt(E,T);let R=d.findIndex(z=>z.id===b.cmpInfo.id);d[R].inputs=T;let B=Nr(b.cmpInfo.id,d,f,t,n,i,s),{elements:I,elmIndex:O,statementIndex:Z,statement:ie,variableDeclaration:N}=await bw(e,g,b);if(B.addCmpToRegistry)I.push(Dw(e,B.addCmpToRegistry)),h=!0;else if(B.removeCmpFromRegistry)I.splice(O,1),h=!0;else if(B.updateRegisteredCmp){let z=lt(e,I[O],B.updateRegisteredCmp);I[O]=e.ts.factory.updateObjectLiteralExpression(z,[jm(e,B.updateRegisteredCmp),...z.properties.slice(1)]),h=!0}if(h&&o){let z=[...g.statements];z[Z]=e.ts.factory.updateVariableStatement(ie,ie.modifiers,e.ts.factory.updateVariableDeclarationList(ie.declarationList,[e.ts.factory.updateVariableDeclaration(N,N.name,N.exclamationToken,N.type,e.ts.factory.createArrayLiteralExpression(Pr(e,I)))])),g=e.ts.factory.updateSourceFile(g,z),E.exportType==="named"?g=Ce(e,g,{namedImports:[E.importName],importPath:E.externalImportPath?E.externalImportPath:Se(e,e.registryPath,E.filePath)}):g=Ce(e,g,{defaultImport:E.importName,importPath:E.externalImportPath?E.externalImportPath:Se(e,e.registryPath,E.filePath)}),g=Ce(e,g,{namedImports:["RegisteredComponent"],importPath:"@khulnasoft.com/sdk-angular",isTypeOnly:!0}),g=Fr(e,g,{variableName:"CUSTOM_COMPONENTS",arrayType:"RegisteredComponent"}),m.components=B.components,f=B.components.filter(oe=>oe.isRegistered)}}}if(h&&o){g=Ir(e,g),g=vr(e,g);let D=pt(e,g);D=ur(D),D=await e.formatCode(e.registryPath,D),await e.writeFile(e.registryPath,D)}return m}function jm(e,r){let t=e.ts.factory.createIdentifier(r.importName);return e.ts.factory.createPropertyAssignment("component",t)}function Dw(e,r){return lt(e,e.ts.factory.createObjectLiteralExpression([jm(e,r)],!0),r)}async function bw(e,r,t){let n=it(e,r,"CUSTOM_COMPONENTS");if(!n)throw new Error(`Exported name of the Khulnasoft registry must be "CUSTOM_COMPONENTS". Please update your Khulnasoft registry file: ${e.registryPath}`);let i=n.arrayLiteralExp.elements.filter(o=>e.ts.isObjectLiteralExpression(o)),s=-1;for(let o=0;o<i.length;o++)if((await Cu(e,r,i[o]))?.id===t.cmpInfo.id){s=o;break}return{...n,elements:i,elmIndex:s}}async function Km(e){let r=await xw(e),t={};return{khulnasoftPageOptions:async()=>({templateContentId:"f0b8016ac92e474699293211a268ebaa",pathname:"/khulnasoft-demo",title:"Khulnasoft + Angular Demo Page"}),ensureKhulnasoftSetup:()=>Bm(r),ensureFigmaImportPage:()=>Mm(r),getRegistryPath:()=>r.registryPath,getRegistry:i=>Rr(r,null,!1,!1,null,null,!1,!!i?.readAllInputTypes),addExternalPackage:async i=>{t[i]||(t[i]=`export * from "${i}";`)},loadComponent:async i=>{let s=await Rr(r,i.cmpId,!1,!1,null,null,!1,!1);return{...s,component:s.components.find(o=>o.id===i.cmpId)}},registerComponent:i=>Rr(r,i.cmpId,!0,!1,null,null,!0,!1),setRegisteredComponentInfo:i=>Rr(r,i.cmpId,!1,!1,i,null,!0,!1),setRegisteredComponentInput:i=>Rr(r,i.cmpId,!1,!1,null,i,!0,!1),unregisterComponent:i=>Rr(r,i.cmpId,!1,!0,null,null,!0,!1),getPublicApiKey:()=>vs(r),setPublicApiKey:i=>gm(r,i.publicApiKey),getDependencies:i=>[{name:"@khulnasoft.com/dev-tools"},{name:"@khulnasoft.com/sdk-angular"},{name:"concurrently"}],getDevRunCommand:()=>"khulnasoft-dev",getCache:()=>Cr(r),setCache:i=>Sr(r,i)}}async function xw(e){let r=await Ew(e),t=e.getAppRootDir(),n=e.join(t,"src"),i=await Vt(e),s=e.join(n,"app"),o=await er(e,s),a={...e,srcDir:"",appDir:"",componentsDir:"",registryPath:o,angularConfigPath:r,typescriptEnabled:i,khulnasoftPageComponentPath:"",hasAppModule:!1};if(!await e.exists(n))throw new Error(`Could not find src directory. Searched for src in "${e.getAppRootDir()}".`);a.srcDir=n,a.appDir=s,a.componentsDir=e.join(a.appDir,"components"),a.khulnasoftPageComponentPath=e.join(a.componentsDir,`khulnasoft-page.component.${i?"ts":"js"}`);let l=`app.module.${i?"ts":"js"}`,u=e.join(a.appDir,l);return await e.exists(u)&&(a.hasAppModule=!0),a}async function Ew(e){let r=e.join(e.getAppRootDir(),"angular.json");if(await e.exists(r))return r;let t=e.join(e.getAppRootDir(),"project.json");if(await e.exists(t))return t;throw new Error(`Could not find Angular config file. Searched for angular.json & project.json in "${e.getAppRootDir()}".`)}var ta=K(th(),1);async function rh(e,r){let n={components:(await r.getRegistry()).components.filter(s=>s.isRegistered).map(s=>{let o={filePath:lr(e.relative(e.getAppRootDir(),s.filePath)),name:s.name,image:s.image,description:s.description,exportName:s.exportName,inputs:Kt(s.inputs)};return Kt(o)}),version:1};e.debug("exporting registry components:",n.components.length);let i=(0,ta.compress)(n);return btoa(JSON.stringify(i))}async function nh(e,r,t){if(typeof t!="string")throw new Error("Invalid registry to import");let n=await r.getRegistry(),i=JSON.parse(atob(t)),s=(0,ta.decompress)(i),o=Kt(n);e.debug("importing registry components:",s.components.length);for(let a of s.components){let l=lr(e.normalize(a.filePath)),u=n.components.find(p=>lr(p.filePath).endsWith(l)&&p.exportName===a.exportName);if(!u){console.error(`Could not find component to register: ${a.filePath}, ${a.exportName}`);continue}e.debug(`register (${u.id})`,u.filePath),await r.registerComponent({cmpId:u.id});for(let p of a.inputs)e.debug(`set input (${u.id})`),await r.setRegisteredComponentInput({cmpId:u.id,name:p.name,type:p.type,required:p.required,defaultValue:p.defaultValue,friendlyName:p.friendlyName,helperText:p.helperText});e.debug(`set input (${u.id}) info`);let c=await r.setRegisteredComponentInfo({cmpId:u.id,name:a.name,image:a.image,description:a.description});o=Kt(c)}return o}var dr={react:"react",remix:"remix",angular:"angular",next:"next",qwik:"qwik"},ML={[dr.react]:[{version:re.gen1,recommended:!0},{version:re.gen2,recommended:!1}],[dr.remix]:[{version:re.gen1,recommended:!1},{version:re.gen2,recommended:!0}],[dr.angular]:[{version:re.gen2,recommended:!0}],[dr.next]:[{version:re.gen1,recommended:!0},{version:re.gen2,recommended:!1}],[dr.qwik]:[{version:re.gen2,recommended:!0}]};async function ih(e,r){let t=[],n=new Set;async function i(s){let o=e.join(s,"package.json");try{if(!await e.exists(o))return null;let l=await e.readFile(o);if(l===null)throw new Error(`Failed to read package.json at ${o}`);let u=JSON.parse(l);if(n.has(u.name))return null;n.add(u.name);let c={name:u.name,subPackages:[]},p=await e.readdir(s);for(let d of p)d!=="node_modules"&&(await e.stat(e.join(s,d))).isDirectory()&&c.subPackages.push(d);return t.push(c),c}catch(a){return e.Sentry?.captureException(a),null}}try{let s=e.join(r,"package.json");if(await e.exists(s)){let a=await e.readFile(s);if(a!==null){let l=JSON.parse(a),u={...l.dependencies,...l.devDependencies};for(let c of Object.keys(u)){let p=e.join(r,"node_modules",c);await i(p)}if(l.workspaces)for(let c of l.workspaces){let p=await e.readdir(e.join(r,c));for(let d of p){let f=e.join(r,c,d);await i(f)}}}}}catch(s){e.Sentry?.captureException(s)}return t}var qw={"@khulnasoft.com/qwik-city":Qf,next:jf,"@remix-run/react":om,react:hm,"@angular/core":Km},Ww={"@khulnasoft.com/qwik-city":dr.qwik,next:dr.next,"@remix-run/react":dr.remix,react:dr.react,"@angular/core":dr.angular};async function Tn(e){if(!e.ts)throw new Error("createDevTools() requires a TypeScript instance passed to the 'ts' option");if((!e.frameworks||e.frameworks.length===0)&&(e.frameworks=await Kn(e)),e.frameworks.length===0)throw new Error("Supported Devtools framework for not found");for(let r of e.frameworks){let t=qw[r.name];if(t){let n=await t(e);return{...n,exportRegistry:()=>rh(e,n),importRegistry:s=>nh(e,n,s),framework:Ww[r.name],findAllDependencies:async()=>await ih(e,e.getRepoRootDir())}}}throw new Error(`Devtools framework not found for ${e.getAppRootDir()}, ${JSON.stringify(e.frameworks,null,2)}`)}var OB=`
/** @type {import('next').NextConfig} */
const nextConfig = {
}
 
module.exports = nextConfig
`.trimStart();function Gw(e){let r=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+n+"|"+r.optional(i)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:r.optional(i)+e.IDENT_RE,relevance:0},f=r.optional(i)+e.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],h=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],g=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],x={type:h,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:g},b={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:r.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,r.lookahead(/(<[^<>]+>|)\s*\(/))},E=[b,p,a,t,e.C_BLOCK_COMMENT_MODE,c,u],T={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:x,contains:E.concat([{begin:/\(/,end:/\)/,keywords:x,contains:E.concat(["self"]),relevance:0}]),relevance:0},R={className:"function",begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:x,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:x,relevance:0},{begin:f,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,c]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,u,c,a,{begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,u,c,a]}]},a,t,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:x,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(T,R,b,E,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:x,contains:["self",a]},{begin:e.IDENT_RE+"::",keywords:x},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function sh(e){let r={type:["boolean","byte","word","String"],built_in:["KeyboardController","MouseController","SoftwareSerial","EthernetServer","EthernetClient","LiquidCrystal","RobotControl","GSMVoiceCall","EthernetUDP","EsploraTFT","HttpClient","RobotMotor","WiFiClient","GSMScanner","FileSystem","Scheduler","GSMServer","YunClient","YunServer","IPAddress","GSMClient","GSMModem","Keyboard","Ethernet","Console","GSMBand","Esplora","Stepper","Process","WiFiUDP","GSM_SMS","Mailbox","USBHost","Firmata","PImage","Client","Server","GSMPIN","FileIO","Bridge","Serial","EEPROM","Stream","Mouse","Audio","Servo","File","Task","GPRS","WiFi","Wire","TFT","GSM","SPI","SD"],_hints:["setup","loop","runShellCommandAsynchronously","analogWriteResolution","retrieveCallingNumber","printFirmwareVersion","analogReadResolution","sendDigitalPortPair","noListenOnLocalhost","readJoystickButton","setFirmwareVersion","readJoystickSwitch","scrollDisplayRight","getVoiceCallStatus","scrollDisplayLeft","writeMicroseconds","delayMicroseconds","beginTransmission","getSignalStrength","runAsynchronously","getAsynchronously","listenOnLocalhost","getCurrentCarrier","readAccelerometer","messageAvailable","sendDigitalPorts","lineFollowConfig","countryNameWrite","runShellCommand","readStringUntil","rewindDirectory","readTemperature","setClockDivider","readLightSensor","endTransmission","analogReference","detachInterrupt","countryNameRead","attachInterrupt","encryptionType","readBytesUntil","robotNameWrite","readMicrophone","robotNameRead","cityNameWrite","userNameWrite","readJoystickY","readJoystickX","mouseReleased","openNextFile","scanNetworks","noInterrupts","digitalWrite","beginSpeaker","mousePressed","isActionDone","mouseDragged","displayLogos","noAutoscroll","addParameter","remoteNumber","getModifiers","keyboardRead","userNameRead","waitContinue","processInput","parseCommand","printVersion","readNetworks","writeMessage","blinkVersion","cityNameRead","readMessage","setDataMode","parsePacket","isListening","setBitOrder","beginPacket","isDirectory","motorsWrite","drawCompass","digitalRead","clearScreen","serialEvent","rightToLeft","setTextSize","leftToRight","requestFrom","keyReleased","compassRead","analogWrite","interrupts","WiFiServer","disconnect","playMelody","parseFloat","autoscroll","getPINUsed","setPINUsed","setTimeout","sendAnalog","readSlider","analogRead","beginWrite","createChar","motorsStop","keyPressed","tempoWrite","readButton","subnetMask","debugPrint","macAddress","writeGreen","randomSeed","attachGPRS","readString","sendString","remotePort","releaseAll","mouseMoved","background","getXChange","getYChange","answerCall","getResult","voiceCall","endPacket","constrain","getSocket","writeJSON","getButton","available","connected","findUntil","readBytes","exitValue","readGreen","writeBlue","startLoop","IPAddress","isPressed","sendSysex","pauseMode","gatewayIP","setCursor","getOemKey","tuneWrite","noDisplay","loadImage","switchPIN","onRequest","onReceive","changePIN","playFile","noBuffer","parseInt","overflow","checkPIN","knobRead","beginTFT","bitClear","updateIR","bitWrite","position","writeRGB","highByte","writeRed","setSpeed","readBlue","noStroke","remoteIP","transfer","shutdown","hangCall","beginSMS","endWrite","attached","maintain","noCursor","checkReg","checkPUK","shiftOut","isValid","shiftIn","pulseIn","connect","println","localIP","pinMode","getIMEI","display","noBlink","process","getBand","running","beginSD","drawBMP","lowByte","setBand","release","bitRead","prepare","pointTo","readRed","setMode","noFill","remove","listen","stroke","detach","attach","noTone","exists","buffer","height","bitSet","circle","config","cursor","random","IRread","setDNS","endSMS","getKey","micros","millis","begin","print","write","ready","flush","width","isPIN","blink","clear","press","mkdir","rmdir","close","point","yield","image","BSSID","click","delay","read","text","move","peek","beep","rect","line","open","seek","fill","size","turn","stop","home","find","step","tone","sqrt","RSSI","SSID","end","bit","tan","cos","sin","pow","map","abs","max","min","get","run","put"],literal:["DIGITAL_MESSAGE","FIRMATA_STRING","ANALOG_MESSAGE","REPORT_DIGITAL","REPORT_ANALOG","INPUT_PULLUP","SET_PIN_MODE","INTERNAL2V56","SYSTEM_RESET","LED_BUILTIN","INTERNAL1V1","SYSEX_START","INTERNAL","EXTERNAL","DEFAULT","OUTPUT","INPUT","HIGH","LOW"]},t=Gw(e),n=t.keywords;return n.type=[...n.type,...r.type],n.literal=[...n.literal,...r.literal],n.built_in=[...n.built_in,...r.built_in],n._hints=r._hints,t.name="Arduino",t.aliases=["ino"],t.supersetOf="cpp",t}function oh(e){let r=e.regex,t={},n={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[t]}]};Object.assign(t,{className:"variable",variants:[{begin:r.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},n]});let i={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t,i]};i.contains.push(o);let a={match:/\\"/},l={className:"string",begin:/'/,end:/'/},u={match:/\\'/},c={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,t]},p=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],d=e.SHEBANG({binary:`(${p.join("|")})`,relevance:10}),f={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},m=["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],h=["true","false"],g={match:/(\/[a-z._-]+)+/},y=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],D=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias"],C=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],x=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:m,literal:h,built_in:[...y,...D,"set","shopt",...C,...x]},contains:[d,e.SHEBANG(),f,c,e.HASH_COMMENT_MODE,s,g,o,a,l,u,t]}}function ah(e){let r=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="("+n+"|"+r.optional(i)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",a={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:r.optional(i)+e.IDENT_RE,relevance:0},f=r.optional(i)+e.IDENT_RE+"\\s*\\(",g={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},y=[p,a,t,e.C_BLOCK_COMMENT_MODE,c,u],D={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:g,contains:y.concat([{begin:/\(/,end:/\)/,keywords:g,contains:y.concat(["self"]),relevance:0}]),relevance:0},C={begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:g,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:g,relevance:0},{begin:f,returnBegin:!0,contains:[e.inherit(d,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:g,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,u,c,a,{begin:/\(/,end:/\)/,keywords:g,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,u,c,a]}]},a,t,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C",aliases:["h"],keywords:g,disableAutodetect:!0,illegal:"</",contains:[].concat(D,C,y,[p,{begin:e.IDENT_RE+"::",keywords:g},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:p,strings:u,keywords:g}}}function lh(e){let r=e.regex,t=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),n="decltype\\(auto\\)",i="[a-zA-Z_]\\w*::",o="(?!struct)("+n+"|"+r.optional(i)+"[a-zA-Z_]\\w*"+r.optional("<[^<>]+>")+")",a={className:"type",begin:"\\b[a-z\\d_]*_t\\b"},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'("+"\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)"+"|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},p={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},t,e.C_BLOCK_COMMENT_MODE]},d={className:"title",begin:r.optional(i)+e.IDENT_RE,relevance:0},f=r.optional(i)+e.IDENT_RE+"\\s*\\(",m=["alignas","alignof","and","and_eq","asm","atomic_cancel","atomic_commit","atomic_noexcept","auto","bitand","bitor","break","case","catch","class","co_await","co_return","co_yield","compl","concept","const_cast|10","consteval","constexpr","constinit","continue","decltype","default","delete","do","dynamic_cast|10","else","enum","explicit","export","extern","false","final","for","friend","goto","if","import","inline","module","mutable","namespace","new","noexcept","not","not_eq","nullptr","operator","or","or_eq","override","private","protected","public","reflexpr","register","reinterpret_cast|10","requires","return","sizeof","static_assert","static_cast|10","struct","switch","synchronized","template","this","thread_local","throw","transaction_safe","transaction_safe_dynamic","true","try","typedef","typeid","typename","union","using","virtual","volatile","while","xor","xor_eq"],h=["bool","char","char16_t","char32_t","char8_t","double","float","int","long","short","void","wchar_t","unsigned","signed","const","static"],g=["any","auto_ptr","barrier","binary_semaphore","bitset","complex","condition_variable","condition_variable_any","counting_semaphore","deque","false_type","future","imaginary","initializer_list","istringstream","jthread","latch","lock_guard","multimap","multiset","mutex","optional","ostringstream","packaged_task","pair","promise","priority_queue","queue","recursive_mutex","recursive_timed_mutex","scoped_lock","set","shared_future","shared_lock","shared_mutex","shared_timed_mutex","shared_ptr","stack","string_view","stringstream","timed_mutex","thread","true_type","tuple","unique_lock","unique_ptr","unordered_map","unordered_multimap","unordered_multiset","unordered_set","variant","vector","weak_ptr","wstring","wstring_view"],y=["abort","abs","acos","apply","as_const","asin","atan","atan2","calloc","ceil","cerr","cin","clog","cos","cosh","cout","declval","endl","exchange","exit","exp","fabs","floor","fmod","forward","fprintf","fputs","free","frexp","fscanf","future","invoke","isalnum","isalpha","iscntrl","isdigit","isgraph","islower","isprint","ispunct","isspace","isupper","isxdigit","labs","launder","ldexp","log","log10","make_pair","make_shared","make_shared_for_overwrite","make_tuple","make_unique","malloc","memchr","memcmp","memcpy","memset","modf","move","pow","printf","putchar","puts","realloc","scanf","sin","sinh","snprintf","sprintf","sqrt","sscanf","std","stderr","stdin","stdout","strcat","strchr","strcmp","strcpy","strcspn","strlen","strncat","strncmp","strncpy","strpbrk","strrchr","strspn","strstr","swap","tan","tanh","terminate","to_underlying","tolower","toupper","vfprintf","visit","vprintf","vsprintf"],x={type:h,keyword:m,literal:["NULL","false","nullopt","nullptr","true"],built_in:["_Pragma"],_type_hints:g},b={className:"function.dispatch",relevance:0,keywords:{_hint:y},begin:r.concat(/\b/,/(?!decltype)/,/(?!if)/,/(?!for)/,/(?!switch)/,/(?!while)/,e.IDENT_RE,r.lookahead(/(<[^<>]+>|)\s*\(/))},E=[b,p,a,t,e.C_BLOCK_COMMENT_MODE,c,u],T={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:x,contains:E.concat([{begin:/\(/,end:/\)/,keywords:x,contains:E.concat(["self"]),relevance:0}]),relevance:0},R={className:"function",begin:"("+o+"[\\*&\\s]+)+"+f,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:x,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:n,keywords:x,relevance:0},{begin:f,returnBegin:!0,contains:[d],relevance:0},{begin:/::/,relevance:0},{begin:/:/,endsWithParent:!0,contains:[u,c]},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:[t,e.C_BLOCK_COMMENT_MODE,u,c,a,{begin:/\(/,end:/\)/,keywords:x,relevance:0,contains:["self",t,e.C_BLOCK_COMMENT_MODE,u,c,a]}]},a,t,e.C_BLOCK_COMMENT_MODE,p]};return{name:"C++",aliases:["cc","c++","h++","hpp","hh","hxx","cxx"],keywords:x,illegal:"</",classNameAliases:{"function.dispatch":"built_in"},contains:[].concat(T,R,b,E,[p,{begin:"\\b(deque|list|queue|priority_queue|pair|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array|tuple|optional|variant|function)\\s*<(?!<)",end:">",keywords:x,contains:["self",a]},{begin:e.IDENT_RE+"::",keywords:x},{match:[/\b(?:enum(?:\s+(?:class|struct))?|class|struct|union)/,/\s+/,/\w+/],className:{1:"keyword",3:"title.class"}}])}}function uh(e){let r=["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],t=["public","private","protected","static","internal","protected","abstract","async","extern","override","unsafe","virtual","new","sealed","partial"],n=["default","false","null","true"],i=["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"],s=["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"],o={keyword:i.concat(s),built_in:r,literal:n},a=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),l={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},u={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},c=e.inherit(u,{illegal:/\n/}),p={className:"subst",begin:/\{/,end:/\}/,keywords:o},d=e.inherit(p,{illegal:/\n/}),f={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,d]},m={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},p]},h=e.inherit(m,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},d]});p.contains=[m,f,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.C_BLOCK_COMMENT_MODE],d.contains=[h,f,c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,l,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];let g={variants:[m,f,u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},y={begin:"<",end:">",contains:[{beginKeywords:"in out"},a]},D=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",C={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:o,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},g,l,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},a,y,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[a,y,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+D+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:o,contains:[{beginKeywords:t.join(" "),relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,y],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,relevance:0,contains:[g,l,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},C]}}var Hw=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Jw=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],Yw=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Xw=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Qw=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],Zw=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function ch(e){let r=e.regex,t=Hw(e),n={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},i="and or not only",s=/@-?\w[\w]*(-\w+)*/,o="[a-zA-Z-][a-zA-Z0-9_-]*",a=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[t.BLOCK_COMMENT,n,t.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+o,relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Xw.join("|")+")"},{begin:":(:)?("+Qw.join("|")+")"}]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+Zw.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[t.BLOCK_COMMENT,t.HEXCOLOR,t.IMPORTANT,t.CSS_NUMBER_MODE,...a,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...a,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},t.FUNCTION_DISPATCH]},{begin:r.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:i,attribute:Yw.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...a,t.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Jw.join("|")+")\\b"}]}}function ph(e){let r=e.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:r.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:r.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}function dh(e){let s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function fh(e){let r=e.regex,t=/[_A-Za-z][_0-9A-Za-z]*/;return{name:"GraphQL",aliases:["gql"],case_insensitive:!0,disableAutodetect:!1,keywords:{keyword:["query","mutation","subscription","type","input","schema","directive","interface","union","scalar","fragment","enum","on"],literal:["true","false","null"]},contains:[e.HASH_COMMENT_MODE,e.QUOTE_STRING_MODE,e.NUMBER_MODE,{scope:"punctuation",match:/[.]{3}/,relevance:0},{scope:"punctuation",begin:/[\!\(\)\:\=\[\]\{\|\}]{1}/,relevance:0},{scope:"variable",begin:/\$/,end:/\W/,excludeEnd:!0,relevance:0},{scope:"meta",match:/@\w+/,excludeEnd:!0},{scope:"symbol",begin:r.concat(t,r.lookahead(/\s*:/)),relevance:0}],illegal:[/[;<']/,/BEGIN/]}}function mh(e){let r=e.regex,t={className:"number",relevance:0,variants:[{begin:/([+-]+)?[\d]+_[\d_]+/},{begin:e.NUMBER_RE}]},n=e.COMMENT();n.variants=[{begin:/;/,end:/$/},{begin:/#/,end:/$/}];let i={className:"variable",variants:[{begin:/\$[\w\d"][\w\d_]*/},{begin:/\$\{(.*?)\}/}]},s={className:"literal",begin:/\bon|off|true|false|yes|no\b/},o={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:"'''",end:"'''",relevance:10},{begin:'"""',end:'"""',relevance:10},{begin:'"',end:'"'},{begin:"'",end:"'"}]},a={begin:/\[/,end:/\]/,contains:[n,s,i,o,t,"self"],relevance:0},l=/[A-Za-z0-9_-]+/,u=/"(\\"|[^"])*"/,c=/'[^']*'/,p=r.either(l,u,c),d=r.concat(p,"(\\s*\\.\\s*",p,")*",r.lookahead(/\s*=\s*[^#\s]/));return{name:"TOML, also INI",aliases:["toml"],case_insensitive:!0,illegal:/\S/,contains:[n,{className:"section",begin:/\[+/,end:/\]+/},{begin:d,className:"attr",starts:{end:/$/,contains:[n,a,s,i,o,t]}}]}}var Pi="[0-9](_*[0-9])*",ra=`\\.(${Pi})`,na="[0-9a-fA-F](_*[0-9a-fA-F])*",hh={className:"number",variants:[{begin:`(\\b(${Pi})((${ra})|\\.)?|(${ra}))[eE][+-]?(${Pi})[fFdD]?\\b`},{begin:`\\b(${Pi})((${ra})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${ra})[fFdD]?\\b`},{begin:`\\b(${Pi})[fFdD]\\b`},{begin:`\\b0[xX]((${na})\\.?|(${na})?\\.(${na}))[pP][+-]?(${Pi})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${na})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function gh(e,r,t){return t===-1?"":e.replace(r,n=>gh(e,r,t-1))}function yh(e){let r=e.regex,t="[\xC0-\u02B8a-zA-Z_$][\xC0-\u02B8a-zA-Z_$0-9]*",n=t+gh("(?:<"+t+"~~~(?:\\s*,\\s*"+t+"~~~)*>)?",/~~~/g,2),l={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},u={className:"meta",begin:"@"+t,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},c={className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:l,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,t],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[r.concat(/(?!else)/,t),/\s+/,t,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,t],className:{1:"keyword",3:"title.class"},contains:[c,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+n+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:l,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:l,relevance:0,contains:[u,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,hh,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},hh,u]}}var Dh="[A-Za-z$_][0-9A-Za-z$_]*",eT=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],tT=["true","false","null","undefined","NaN","Infinity"],bh=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],xh=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],Eh=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],rT=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],nT=[].concat(Eh,bh,xh);function Ch(e){let r=e.regex,t=(M,{after:Y})=>{let v="</"+M[0].slice(1);return M.input.indexOf(v,Y)!==-1},n=Dh,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(M,Y)=>{let v=M[0].length+M.index,P=M.input[v];if(P==="<"||P===","){Y.ignoreMatch();return}P===">"&&(t(M,{after:v})||Y.ignoreMatch());let $,G=M.input.substring(v);if($=G.match(/^\s*=/)){Y.ignoreMatch();return}if(($=G.match(/^\s+extends\s+/))&&$.index===0){Y.ignoreMatch();return}}},a={$pattern:Dh,keyword:eT,literal:tT,built_in:nT,"variable.language":rT},l="[0-9](_?[0-9])*",u=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},m={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},h={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},D={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},C=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,m,h,g,{match:/\$\d+/},p];d.contains=C.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(C)});let x=[].concat(D,d.contains),b=x.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(x)}]),E={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b},T={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,r.concat(n,"(",r.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},R={relevance:0,match:r.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...bh,...xh]}},B={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},I={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[E],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Z(M){return r.concat("(?!",M.join("|"),")")}let ie={match:r.concat(/\b/,Z([...Eh,"super","import"]),n,r.lookahead(/\(/)),className:"title.function",relevance:0},N={begin:r.concat(/\./,r.lookahead(r.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},z={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},E]},oe="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",F={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,r.lookahead(oe)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[E]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:b,CLASS_REFERENCE:R},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),B,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,m,h,g,D,{match:/\$\d+/},p,R,{className:"attr",begin:n+r.lookahead(":"),relevance:0},F,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[D,e.REGEXP_MODE,{className:"function",begin:oe,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},I,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[E,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},N,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[E]},ie,O,T,z,{match:/\$[(.]/}]}}function Sh(e){let r={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},t={match:/[{}[\],:]/,className:"punctuation",relevance:0},n=["true","false","null"],i={scope:"literal",beginKeywords:n.join(" ")};return{name:"JSON",keywords:{literal:n},contains:[r,t,e.QUOTE_STRING_MODE,i,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}var Ii="[0-9](_*[0-9])*",ia=`\\.(${Ii})`,sa="[0-9a-fA-F](_*[0-9a-fA-F])*",iT={className:"number",variants:[{begin:`(\\b(${Ii})((${ia})|\\.)?|(${ia}))[eE][+-]?(${Ii})[fFdD]?\\b`},{begin:`\\b(${Ii})((${ia})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${ia})[fFdD]?\\b`},{begin:`\\b(${Ii})[fFdD]\\b`},{begin:`\\b0[xX]((${sa})\\.?|(${sa})?\\.(${sa}))[pP][+-]?(${Ii})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${sa})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function wh(e){let r={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},t={className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},i={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},s={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},o={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[s,i]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,s,i]}]};i.contains.push(o);let a={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},l={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(o,{className:"string"}),"self"]}]},u=iT,c=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),p={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]},d=p;return d.variants[1].contains=[p],p.variants[1].contains=[d],{name:"Kotlin",aliases:["kt","kts"],keywords:r,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,c,t,n,a,l,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:r,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:r,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[p,e.C_LINE_COMMENT_MODE,c],relevance:0},e.C_LINE_COMMENT_MODE,c,a,l,o,e.C_NUMBER_MODE]},c]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},a,l]},o,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:`
`},u]}}var sT=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),oT=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],aT=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],Th=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],Ah=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],lT=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse(),uT=Th.concat(Ah);function vh(e){let r=sT(e),t=uT,n="and or not only",i="[\\w-]+",s="("+i+"|@\\{"+i+"\\})",o=[],a=[],l=function(C){return{className:"string",begin:"~?"+C+".*?"+C}},u=function(C,x,b){return{className:C,begin:x,relevance:b}},c={$pattern:/[a-z-]+/,keyword:n,attribute:aT.join(" ")},p={begin:"\\(",end:"\\)",contains:a,keywords:c,relevance:0};a.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,l("'"),l('"'),r.CSS_NUMBER_MODE,{begin:"(url|data-uri)\\(",starts:{className:"string",end:"[\\)\\n]",excludeEnd:!0}},r.HEXCOLOR,p,u("variable","@@?"+i,10),u("variable","@\\{"+i+"\\}"),u("built_in","~?`[^`]*?`"),{className:"attribute",begin:i+"\\s*:",end:":",returnBegin:!0,excludeEnd:!0},r.IMPORTANT,{beginKeywords:"and not"},r.FUNCTION_DISPATCH);let d=a.concat({begin:/\{/,end:/\}/,contains:o}),f={beginKeywords:"when",endsWithParent:!0,contains:[{beginKeywords:"and not"}].concat(a)},m={begin:s+"\\s*:",returnBegin:!0,end:/[;}]/,relevance:0,contains:[{begin:/-(webkit|moz|ms|o)-/},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+lT.join("|")+")\\b",end:/(?=:)/,starts:{endsWithParent:!0,illegal:"[<=$]",relevance:0,contains:a}}]},h={className:"keyword",begin:"@(import|media|charset|font-face|(-[a-z]+-)?keyframes|supports|document|namespace|page|viewport|host)\\b",starts:{end:"[;{}]",keywords:c,returnEnd:!0,contains:a,relevance:0}},g={className:"variable",variants:[{begin:"@"+i+"\\s*:",relevance:15},{begin:"@"+i}],starts:{end:"[;}]",returnEnd:!0,contains:d}},y={variants:[{begin:"[\\.#:&\\[>]",end:"[;{}]"},{begin:s,end:/\{/}],returnBegin:!0,returnEnd:!0,illegal:`[<='$"]`,relevance:0,contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,f,u("keyword","all\\b"),u("variable","@\\{"+i+"\\}"),{begin:"\\b("+oT.join("|")+")\\b",className:"selector-tag"},r.CSS_NUMBER_MODE,u("selector-tag",s,0),u("selector-id","#"+s),u("selector-class","\\."+s,0),u("selector-tag","&",0),r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",begin:":("+Th.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+Ah.join("|")+")"},{begin:/\(/,end:/\)/,relevance:0,contains:d},{begin:"!important"},r.FUNCTION_DISPATCH]},D={begin:i+`:(:)?(${t.join("|")})`,returnBegin:!0,contains:[y]};return o.push(e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,h,g,D,m,y,f,r.FUNCTION_DISPATCH),{name:"Less",case_insensitive:!0,illegal:`[=>'/<($"]`,contains:o}}function Ph(e){let r="\\[=*\\[",t="\\]=*\\]",n={begin:r,end:t,contains:["self"]},i=[e.COMMENT("--(?!"+r+")","$"),e.COMMENT("--"+r,t,{contains:[n],relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:i.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:i}].concat(i)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:r,end:t,contains:[n],relevance:5}])}}function Ih(e){let r={className:"variable",variants:[{begin:"\\$\\("+e.UNDERSCORE_IDENT_RE+"\\)",contains:[e.BACKSLASH_ESCAPE]},{begin:/\$[@%<?\^\+\*]/}]},t={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,r]},n={className:"variable",begin:/\$\([\w-]+\s/,end:/\)/,keywords:{built_in:"subst patsubst strip findstring filter filter-out sort word wordlist firstword lastword dir notdir suffix basename addsuffix addprefix join wildcard realpath abspath error warning shell origin flavor foreach if or and call eval file value"},contains:[r]},i={begin:"^"+e.UNDERSCORE_IDENT_RE+"\\s*(?=[:+?]?=)"},s={className:"meta",begin:/^\.PHONY:/,end:/$/,keywords:{$pattern:/[\.\w]+/,keyword:".PHONY"}},o={className:"section",begin:/^[^\s]+:/,end:/$/,contains:[r]};return{name:"Makefile",aliases:["mk","mak","make"],keywords:{$pattern:/[\w-]+/,keyword:"define endef undefine ifdef ifndef ifeq ifneq else endif include -include sinclude override export unexport private vpath"},contains:[e.HASH_COMMENT_MODE,r,t,n,i,s,o]}}function Nh(e){let r=e.regex,t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},n={begin:"^[-\\*]{3,}",end:"$"},i={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},o={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},a=/[A-Za-z][A-Za-z0-9+.-]*/,l={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:r.concat(/\[.+?\]\(/,a,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},u={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},c={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},p=e.inherit(u,{contains:[]}),d=e.inherit(c,{contains:[]});u.contains.push(d),c.contains.push(p);let f=[t,l];return[u,c,p,d].forEach(g=>{g.contains=g.contains.concat(f)}),f=f.concat(u,c),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},t,s,u,c,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},i,n,l,o]}}function Fh(e){let r={className:"built_in",begin:"\\b(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)\\w+"},t=/[a-zA-Z@][a-zA-Z0-9_]*/,a={"variable.language":["this","super"],$pattern:t,keyword:["while","export","sizeof","typedef","const","struct","for","union","volatile","static","mutable","if","do","return","goto","enum","else","break","extern","asm","case","default","register","explicit","typename","switch","continue","inline","readonly","assign","readwrite","self","@synchronized","id","typeof","nonatomic","IBOutlet","IBAction","strong","weak","copy","in","out","inout","bycopy","byref","oneway","__strong","__weak","__block","__autoreleasing","@private","@protected","@public","@try","@property","@end","@throw","@catch","@finally","@autoreleasepool","@synthesize","@dynamic","@selector","@optional","@required","@encode","@package","@import","@defs","@compatibility_alias","__bridge","__bridge_transfer","__bridge_retained","__bridge_retain","__covariant","__contravariant","__kindof","_Nonnull","_Nullable","_Null_unspecified","__FUNCTION__","__PRETTY_FUNCTION__","__attribute__","getter","setter","retain","unsafe_unretained","nonnull","nullable","null_unspecified","null_resettable","class","instancetype","NS_DESIGNATED_INITIALIZER","NS_UNAVAILABLE","NS_REQUIRES_SUPER","NS_RETURNS_INNER_POINTER","NS_INLINE","NS_AVAILABLE","NS_DEPRECATED","NS_ENUM","NS_OPTIONS","NS_SWIFT_UNAVAILABLE","NS_ASSUME_NONNULL_BEGIN","NS_ASSUME_NONNULL_END","NS_REFINED_FOR_SWIFT","NS_SWIFT_NAME","NS_SWIFT_NOTHROW","NS_DURING","NS_HANDLER","NS_ENDHANDLER","NS_VALUERETURN","NS_VOIDRETURN"],literal:["false","true","FALSE","TRUE","nil","YES","NO","NULL"],built_in:["dispatch_once_t","dispatch_queue_t","dispatch_sync","dispatch_async","dispatch_once"],type:["int","float","char","unsigned","signed","short","long","double","wchar_t","unichar","void","bool","BOOL","id|0","_Bool"]},l={$pattern:t,keyword:["@interface","@class","@protocol","@implementation"]};return{name:"Objective-C",aliases:["mm","objc","obj-c","obj-c++","objective-c++"],keywords:a,illegal:"</",contains:[r,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.C_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{className:"string",variants:[{begin:'@"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]}]},{className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),{className:"string",begin:/<.*?>/,end:/$/,illegal:"\\n"},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"class",begin:"("+l.keyword.join("|")+")\\b",end:/(\{|$)/,excludeEnd:!0,keywords:l,contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"\\."+e.UNDERSCORE_IDENT_RE,relevance:0}]}}function _h(e){let r=e.regex,t=["abs","accept","alarm","and","atan2","bind","binmode","bless","break","caller","chdir","chmod","chomp","chop","chown","chr","chroot","close","closedir","connect","continue","cos","crypt","dbmclose","dbmopen","defined","delete","die","do","dump","each","else","elsif","endgrent","endhostent","endnetent","endprotoent","endpwent","endservent","eof","eval","exec","exists","exit","exp","fcntl","fileno","flock","for","foreach","fork","format","formline","getc","getgrent","getgrgid","getgrnam","gethostbyaddr","gethostbyname","gethostent","getlogin","getnetbyaddr","getnetbyname","getnetent","getpeername","getpgrp","getpriority","getprotobyname","getprotobynumber","getprotoent","getpwent","getpwnam","getpwuid","getservbyname","getservbyport","getservent","getsockname","getsockopt","given","glob","gmtime","goto","grep","gt","hex","if","index","int","ioctl","join","keys","kill","last","lc","lcfirst","length","link","listen","local","localtime","log","lstat","lt","ma","map","mkdir","msgctl","msgget","msgrcv","msgsnd","my","ne","next","no","not","oct","open","opendir","or","ord","our","pack","package","pipe","pop","pos","print","printf","prototype","push","q|0","qq","quotemeta","qw","qx","rand","read","readdir","readline","readlink","readpipe","recv","redo","ref","rename","require","reset","return","reverse","rewinddir","rindex","rmdir","say","scalar","seek","seekdir","select","semctl","semget","semop","send","setgrent","sethostent","setnetent","setpgrp","setpriority","setprotoent","setpwent","setservent","setsockopt","shift","shmctl","shmget","shmread","shmwrite","shutdown","sin","sleep","socket","socketpair","sort","splice","split","sprintf","sqrt","srand","stat","state","study","sub","substr","symlink","syscall","sysopen","sysread","sysseek","system","syswrite","tell","telldir","tie","tied","time","times","tr","truncate","uc","ucfirst","umask","undef","unless","unlink","unpack","unshift","untie","until","use","utime","values","vec","wait","waitpid","wantarray","warn","when","while","write","x|0","xor","y|0"],n=/[dualxmsipngr]{0,12}/,i={$pattern:/[\w.]+/,keyword:t.join(" ")},s={className:"subst",begin:"[$@]\\{",end:"\\}",keywords:i},o={begin:/->\{/,end:/\}/},a={variants:[{begin:/\$\d/},{begin:r.concat(/[$%@](\^\w\b|#\w+(::\w+)*|\{\w+\}|\w+(::\w*)*)/,"(?![A-Za-z])(?![@$%])")},{begin:/[$%@][^\s\w{]/,relevance:0}]},l=[e.BACKSLASH_ESCAPE,s,a],u=[/!/,/\//,/\|/,/\?/,/'/,/"/,/#/],c=(f,m,h="\\1")=>{let g=h==="\\1"?h:r.concat(h,m);return r.concat(r.concat("(?:",f,")"),m,/(?:\\.|[^\\\/])*?/,g,/(?:\\.|[^\\\/])*?/,h,n)},p=(f,m,h)=>r.concat(r.concat("(?:",f,")"),m,/(?:\\.|[^\\\/])*?/,h,n),d=[a,e.HASH_COMMENT_MODE,e.COMMENT(/^=\w/,/=cut/,{endsWithParent:!0}),o,{className:"string",contains:l,variants:[{begin:"q[qwxr]?\\s*\\(",end:"\\)",relevance:5},{begin:"q[qwxr]?\\s*\\[",end:"\\]",relevance:5},{begin:"q[qwxr]?\\s*\\{",end:"\\}",relevance:5},{begin:"q[qwxr]?\\s*\\|",end:"\\|",relevance:5},{begin:"q[qwxr]?\\s*<",end:">",relevance:5},{begin:"qw\\s+q",end:"q",relevance:5},{begin:"'",end:"'",contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"'},{begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE]},{begin:/\{\w+\}/,relevance:0},{begin:"-?\\w+\\s*=>",relevance:0}]},{className:"number",begin:"(\\b0[0-7_]+)|(\\b0x[0-9a-fA-F_]+)|(\\b[1-9][0-9_]*(\\.[0-9_]+)?)|[0_]\\b",relevance:0},{begin:"(\\/\\/|"+e.RE_STARTERS_RE+"|\\b(split|return|print|reverse|grep)\\b)\\s*",keywords:"split return print reverse grep",relevance:0,contains:[e.HASH_COMMENT_MODE,{className:"regexp",variants:[{begin:c("s|tr|y",r.either(...u,{capture:!0}))},{begin:c("s|tr|y","\\(","\\)")},{begin:c("s|tr|y","\\[","\\]")},{begin:c("s|tr|y","\\{","\\}")}],relevance:2},{className:"regexp",variants:[{begin:/(m|qr)\/\//,relevance:0},{begin:p("(?:m|qr)?",/\//,/\//)},{begin:p("m|qr",r.either(...u,{capture:!0}),/\1/)},{begin:p("m|qr",/\(/,/\)/)},{begin:p("m|qr",/\[/,/\]/)},{begin:p("m|qr",/\{/,/\}/)}]}]},{className:"function",beginKeywords:"sub",end:"(\\s*\\(.*?\\))?[;{]",excludeEnd:!0,relevance:5,contains:[e.TITLE_MODE]},{begin:"-\\w\\b",relevance:0},{begin:"^__DATA__$",end:"^__END__$",subLanguage:"mojolicious",contains:[{begin:"^@@.*",end:"$",className:"comment"}]}];return s.contains=d,o.contains=d,{name:"Perl",aliases:["pl","pm"],keywords:i,contains:d}}function kh(e){let r=e.regex,t=/(?![A-Za-z0-9])(?![$])/,n=r.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,t),i=r.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,t),s={scope:"variable",match:"\\$+"+n},o={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},a={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},l=e.inherit(e.APOS_STRING_MODE,{illegal:null}),u=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(a)}),c={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(a),"on:begin":(ie,N)=>{N.data._beginMatch=ie[1]||ie[2]},"on:end":(ie,N)=>{N.data._beginMatch!==ie[1]&&N.ignoreMatch()}},p=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),d=`[ 	
]`,f={scope:"string",variants:[u,l,c,p]},m={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},h=["false","null","true"],g=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],y=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],C={keyword:g,literal:(ie=>{let N=[];return ie.forEach(z=>{N.push(z),z.toLowerCase()===z?N.push(z.toUpperCase()):N.push(z.toLowerCase())}),N})(h),built_in:y},x=ie=>ie.map(N=>N.replace(/\|\d+$/,"")),b={variants:[{match:[/new/,r.concat(d,"+"),r.concat("(?!",x(y).join("\\b|"),"\\b)"),i],scope:{1:"keyword",4:"title.class"}}]},E=r.concat(n,"\\b(?!\\()"),T={variants:[{match:[r.concat(/::/,r.lookahead(/(?!class\b)/)),E],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[i,r.concat(/::/,r.lookahead(/(?!class\b)/)),E],scope:{1:"title.class",3:"variable.constant"}},{match:[i,r.concat("::",r.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[i,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},R={scope:"attr",match:r.concat(n,r.lookahead(":"),r.lookahead(/(?!::)/))},B={relevance:0,begin:/\(/,end:/\)/,keywords:C,contains:[R,s,T,e.C_BLOCK_COMMENT_MODE,f,m,b]},I={relevance:0,match:[/\b/,r.concat("(?!fn\\b|function\\b|",x(g).join("\\b|"),"|",x(y).join("\\b|"),"\\b)"),n,r.concat(d,"*"),r.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[B]};B.contains.push(I);let O=[R,T,e.C_BLOCK_COMMENT_MODE,f,m,b],Z={begin:r.concat(/#\[\s*/,i),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:h,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:h,keyword:["new","array"]},contains:["self",...O]},...O,{scope:"meta",match:i}]};return{case_insensitive:!1,keywords:C,contains:[Z,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},o,{scope:"variable.language",match:/\$this\b/},s,I,T,{match:[/const/,/\s/,n],scope:{1:"keyword",3:"variable.constant"}},b,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:C,contains:["self",s,T,e.C_BLOCK_COMMENT_MODE,f,m]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},f,m]}}function Oh(e){return{name:"PHP template",subLanguage:"xml",contains:[{begin:/<\?(php|=)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0},{begin:'b"',end:'"',skip:!0},{begin:"b'",end:"'",skip:!0},e.inherit(e.APOS_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null,className:null,contains:null,skip:!0})]}]}}function Rh(e){return{name:"Plain text",aliases:["text","txt"],disableAutodetect:!0}}function Lh(e){let r=e.regex,t=/[\p{XID_Start}_]\p{XID_Continue}*/u,n=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:n,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},c={begin:/\{\{/,relevance:0},p={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,c,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,c,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,c,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,c,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},d="[0-9](_?[0-9])*",f=`(\\b(${d}))?\\.(${d})|\\b(${d})\\.`,m=`\\b|${n.join("|")}`,h={className:"number",relevance:0,variants:[{begin:`(\\b(${d})|(${f}))[eE][+-]?(${d})[jJ]?(?=${m})`},{begin:`(${f})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${m})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${m})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${m})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${m})`},{begin:`\\b(${d})[jJ](?=${m})`}]},g={className:"comment",begin:r.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",l,h,p,e.HASH_COMMENT_MODE]}]};return u.contains=[p,h,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[l,h,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},p,g,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,t,/\s*/,/\(\s*/,t,/\s*\)/]},{match:[/\bclass/,/\s+/,t]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[h,y,p]}]}}function Bh(e){return{aliases:["pycon"],contains:[{className:"meta.prompt",starts:{end:/ |$/,starts:{end:"$",subLanguage:"python"}},variants:[{begin:/^>>>(?=[ ]|$)/},{begin:/^\.\.\.(?=[ ]|$)/}]}]}}function Mh(e){let r=e.regex,t=/(?:(?:[a-zA-Z]|\.[._a-zA-Z])[._a-zA-Z0-9]*)|\.(?!\d)/,n=r.either(/0[xX][0-9a-fA-F]+\.[0-9a-fA-F]*[pP][+-]?\d+i?/,/0[xX][0-9a-fA-F]+(?:[pP][+-]?\d+)?[Li]?/,/(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?[Li]?/),i=/[=!<>:]=|\|\||&&|:::?|<-|<<-|->>|->|\|>|[-+*\/?!$&|:<=>@^~]|\*\*/,s=r.either(/[()]/,/[{}]/,/\[\[/,/[[\]]/,/\\/,/,/);return{name:"R",keywords:{$pattern:t,keyword:"function if in break next repeat else for while",literal:"NULL NA TRUE FALSE Inf NaN NA_integer_|10 NA_real_|10 NA_character_|10 NA_complex_|10",built_in:"LETTERS letters month.abb month.name pi T F abs acos acosh all any anyNA Arg as.call as.character as.complex as.double as.environment as.integer as.logical as.null.default as.numeric as.raw asin asinh atan atanh attr attributes baseenv browser c call ceiling class Conj cos cosh cospi cummax cummin cumprod cumsum digamma dim dimnames emptyenv exp expression floor forceAndCall gamma gc.time globalenv Im interactive invisible is.array is.atomic is.call is.character is.complex is.double is.environment is.expression is.finite is.function is.infinite is.integer is.language is.list is.logical is.matrix is.na is.name is.nan is.null is.numeric is.object is.pairlist is.raw is.recursive is.single is.symbol lazyLoadDBfetch length lgamma list log max min missing Mod names nargs nzchar oldClass on.exit pos.to.env proc.time prod quote range Re rep retracemem return round seq_along seq_len seq.int sign signif sin sinh sinpi sqrt standardGeneric substitute sum switch tan tanh tanpi tracemem trigamma trunc unclass untracemem UseMethod xtfrm"},contains:[e.COMMENT(/#'/,/$/,{contains:[{scope:"doctag",match:/@examples/,starts:{end:r.lookahead(r.either(/\n^#'\s*(?=@[a-zA-Z]+)/,/\n^(?!#')/)),endsParent:!0}},{scope:"doctag",begin:"@param",end:/$/,contains:[{scope:"variable",variants:[{match:t},{match:/`(?:\\.|[^`\\])+`/}],endsParent:!0}]},{scope:"doctag",match:/@[a-zA-Z]+/},{scope:"keyword",match:/\\[a-zA-Z]+/}]}),e.HASH_COMMENT_MODE,{scope:"string",contains:[e.BACKSLASH_ESCAPE],variants:[e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\(/,end:/\)(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\{/,end:/\}(-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]"(-*)\[/,end:/\](-*)"/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\(/,end:/\)(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\{/,end:/\}(-*)'/}),e.END_SAME_AS_BEGIN({begin:/[rR]'(-*)\[/,end:/\](-*)'/}),{begin:'"',end:'"',relevance:0},{begin:"'",end:"'",relevance:0}]},{relevance:0,variants:[{scope:{1:"operator",2:"number"},match:[i,n]},{scope:{1:"operator",2:"number"},match:[/%[^%]*%/,n]},{scope:{1:"punctuation",2:"number"},match:[s,n]},{scope:{2:"number"},match:[/[^a-zA-Z0-9._]|^/,n]}]},{scope:{3:"operator"},match:[t,/\s+/,/<-/,/\s+/]},{scope:"operator",relevance:0,variants:[{match:i},{match:/%[^%]*%/}]},{scope:"punctuation",relevance:0,match:s},{begin:"`",end:"`",contains:[{begin:/\\./}]}]}}function $h(e){let r=e.regex,t="([a-zA-Z_]\\w*[!?=]?|[-+~]@|<<|>>|=~|===?|<=>|[<>]=?|\\*\\*|[-/+%^&*~`|]|\\[\\]=?)",n=r.either(/\b([A-Z]+[a-z0-9]+)+/,/\b([A-Z]+[a-z0-9]+)+[A-Z]+/),i=r.concat(n,/(::\w+)*/),o={"variable.constant":["__FILE__","__LINE__","__ENCODING__"],"variable.language":["self","super"],keyword:["alias","and","begin","BEGIN","break","case","class","defined","do","else","elsif","end","END","ensure","for","if","in","module","next","not","or","redo","require","rescue","retry","return","then","undef","unless","until","when","while","yield",...["include","extend","prepend","public","private","protected","raise","throw"]],built_in:["proc","lambda","attr_accessor","attr_reader","attr_writer","define_method","private_constant","module_function"],literal:["true","false","nil"]},a={className:"doctag",begin:"@[A-Za-z]+"},l={begin:"#<",end:">"},u=[e.COMMENT("#","$",{contains:[a]}),e.COMMENT("^=begin","^=end",{contains:[a],relevance:10}),e.COMMENT("^__END__",e.MATCH_NOTHING_RE)],c={className:"subst",begin:/#\{/,end:/\}/,keywords:o},p={className:"string",contains:[e.BACKSLASH_ESCAPE,c],variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/`/,end:/`/},{begin:/%[qQwWx]?\(/,end:/\)/},{begin:/%[qQwWx]?\[/,end:/\]/},{begin:/%[qQwWx]?\{/,end:/\}/},{begin:/%[qQwWx]?</,end:/>/},{begin:/%[qQwWx]?\//,end:/\//},{begin:/%[qQwWx]?%/,end:/%/},{begin:/%[qQwWx]?-/,end:/-/},{begin:/%[qQwWx]?\|/,end:/\|/},{begin:/\B\?(\\\d{1,3})/},{begin:/\B\?(\\x[A-Fa-f0-9]{1,2})/},{begin:/\B\?(\\u\{?[A-Fa-f0-9]{1,6}\}?)/},{begin:/\B\?(\\M-\\C-|\\M-\\c|\\c\\M-|\\M-|\\C-\\M-)[\x20-\x7e]/},{begin:/\B\?\\(c|C-)[\x20-\x7e]/},{begin:/\B\?\\?\S/},{begin:r.concat(/<<[-~]?'?/,r.lookahead(/(\w+)(?=\W)[^\n]*\n(?:[^\n]*\n)*?\s*\1\b/)),contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,contains:[e.BACKSLASH_ESCAPE,c]})]}]},d="[1-9](_?[0-9])*|0",f="[0-9](_?[0-9])*",m={className:"number",relevance:0,variants:[{begin:`\\b(${d})(\\.(${f}))?([eE][+-]?(${f})|r)?i?\\b`},{begin:"\\b0[dD][0-9](_?[0-9])*r?i?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*r?i?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*r?i?\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*r?i?\\b"},{begin:"\\b0(_?[0-7])+r?i?\\b"}]},h={variants:[{match:/\(\)/},{className:"params",begin:/\(/,end:/(?=\))/,excludeBegin:!0,endsParent:!0,keywords:o}]},E=[p,{variants:[{match:[/class\s+/,i,/\s+<\s+/,i]},{match:[/\b(class|module)\s+/,i]}],scope:{2:"title.class",4:"title.class.inherited"},keywords:o},{match:[/(include|extend)\s+/,i],scope:{2:"title.class"},keywords:o},{relevance:0,match:[i,/\.new[. (]/],scope:{1:"title.class"}},{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},{relevance:0,match:n,scope:"title.class"},{match:[/def/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[h]},{begin:e.IDENT_RE+"::"},{className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"(!|\\?)?:",relevance:0},{className:"symbol",begin:":(?!\\s)",contains:[p,{begin:t}],relevance:0},m,{className:"variable",begin:"(\\$\\W)|((\\$|@@?)(\\w+))(?=[^@$?])(?![A-Za-z])(?![@$?'])"},{className:"params",begin:/\|/,end:/\|/,excludeBegin:!0,excludeEnd:!0,relevance:0,keywords:o},{begin:"("+e.RE_STARTERS_RE+"|unless)\\s*",keywords:"unless",contains:[{className:"regexp",contains:[e.BACKSLASH_ESCAPE,c],illegal:/\n/,variants:[{begin:"/",end:"/[a-z]*"},{begin:/%r\{/,end:/\}[a-z]*/},{begin:"%r\\(",end:"\\)[a-z]*"},{begin:"%r!",end:"![a-z]*"},{begin:"%r\\[",end:"\\][a-z]*"}]}].concat(l,u),relevance:0}].concat(l,u);c.contains=E,h.contains=E;let I=[{begin:/^\s*=>/,starts:{end:"$",contains:E}},{className:"meta.prompt",begin:"^("+"[>?]>"+"|"+"[\\w#]+\\(\\w+\\):\\d+:\\d+[>*]"+"|"+"(\\w+-)?\\d+\\.\\d+\\.\\d+(p\\d+)?[^\\d][^>]+>"+")(?=[ ])",starts:{end:"$",keywords:o,contains:E}}];return u.unshift(l),{name:"Ruby",aliases:["rb","gemspec","podspec","thor","irb"],keywords:o,illegal:/\/\*/,contains:[e.SHEBANG({binary:"ruby"})].concat(I).concat(u).concat(E)}}function Uh(e){let r=e.regex,t={className:"title.function.invoke",relevance:0,begin:r.concat(/\b/,/(?!let|for|while|if|else|match\b)/,e.IDENT_RE,r.lookahead(/\s*\(/))},n="([ui](8|16|32|64|128|size)|f(32|64))?",i=["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],s=["true","false","Some","None","Ok","Err"],o=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],a=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:a,keyword:i,literal:s,built_in:o},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+n},{begin:"\\b0o([0-7_]+)"+n},{begin:"\\b0x([A-Fa-f0-9_]+)"+n},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+n}],relevance:0},{begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:o,type:a}},{className:"punctuation",begin:"->"},t]}}var cT=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),pT=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],dT=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],fT=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],mT=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],hT=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();function jh(e){let r=cT(e),t=mT,n=fT,i="@[a-z-]+",s="and or not only",a={className:"variable",begin:"(\\$"+"[a-zA-Z-][a-zA-Z0-9_-]*"+")\\b",relevance:0};return{name:"SCSS",case_insensitive:!0,illegal:"[=/|']",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,r.CSS_NUMBER_MODE,{className:"selector-id",begin:"#[A-Za-z0-9_-]+",relevance:0},{className:"selector-class",begin:"\\.[A-Za-z0-9_-]+",relevance:0},r.ATTRIBUTE_SELECTOR_MODE,{className:"selector-tag",begin:"\\b("+pT.join("|")+")\\b",relevance:0},{className:"selector-pseudo",begin:":("+n.join("|")+")"},{className:"selector-pseudo",begin:":(:)?("+t.join("|")+")"},a,{begin:/\(/,end:/\)/,contains:[r.CSS_NUMBER_MODE]},r.CSS_VARIABLE,{className:"attribute",begin:"\\b("+hT.join("|")+")\\b"},{begin:"\\b(whitespace|wait|w-resize|visible|vertical-text|vertical-ideographic|uppercase|upper-roman|upper-alpha|underline|transparent|top|thin|thick|text|text-top|text-bottom|tb-rl|table-header-group|table-footer-group|sw-resize|super|strict|static|square|solid|small-caps|separate|se-resize|scroll|s-resize|rtl|row-resize|ridge|right|repeat|repeat-y|repeat-x|relative|progress|pointer|overline|outside|outset|oblique|nowrap|not-allowed|normal|none|nw-resize|no-repeat|no-drop|newspaper|ne-resize|n-resize|move|middle|medium|ltr|lr-tb|lowercase|lower-roman|lower-alpha|loose|list-item|line|line-through|line-edge|lighter|left|keep-all|justify|italic|inter-word|inter-ideograph|inside|inset|inline|inline-block|inherit|inactive|ideograph-space|ideograph-parenthesis|ideograph-numeric|ideograph-alpha|horizontal|hidden|help|hand|groove|fixed|ellipsis|e-resize|double|dotted|distribute|distribute-space|distribute-letter|distribute-all-lines|disc|disabled|default|decimal|dashed|crosshair|collapse|col-resize|circle|char|center|capitalize|break-word|break-all|bottom|both|bolder|bold|block|bidi-override|below|baseline|auto|always|all-scroll|absolute|table|table-cell)\\b"},{begin:/:/,end:/[;}{]/,relevance:0,contains:[r.BLOCK_COMMENT,a,r.HEXCOLOR,r.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,r.IMPORTANT,r.FUNCTION_DISPATCH]},{begin:"@(page|font-face)",keywords:{$pattern:i,keyword:"@page @font-face"}},{begin:"@",end:"[{;]",returnBegin:!0,keywords:{$pattern:/[a-z-]+/,keyword:s,attribute:dT.join(" ")},contains:[{begin:i,className:"keyword"},{begin:/[a-z-]+(?=:)/,className:"attribute"},a,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,r.HEXCOLOR,r.CSS_NUMBER_MODE]},r.FUNCTION_DISPATCH]}}function Kh(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}}function Vh(e){let r=e.regex,t=e.COMMENT("--","$"),n={className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},i={begin:/"/,end:/"/,contains:[{begin:/""/}]},s=["true","false","unknown"],o=["double precision","large object","with timezone","without timezone"],a=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],l=["add","asc","collation","desc","final","first","last","view"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],c=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],p=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],d=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=c,m=[...u,...l].filter(C=>!c.includes(C)),h={className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},g={className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},y={begin:r.concat(/\b/,r.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function D(C,{exceptions:x,when:b}={}){let E=b;return x=x||[],C.map(T=>T.match(/\|\d+$/)||x.includes(T)?T:E(T)?`${T}|0`:T)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:D(m,{when:C=>C.length<3}),literal:s,type:a,built_in:p},contains:[{begin:r.either(...d),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:m.concat(d),literal:s,type:a}},{className:"type",begin:r.either(...o)},y,h,n,i,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t,g]}}function Gh(e){return e?typeof e=="string"?e:e.source:null}function oa(e){return ke("(?=",e,")")}function ke(...e){return e.map(t=>Gh(t)).join("")}function gT(e){let r=e[e.length-1];return typeof r=="object"&&r.constructor===Object?(e.splice(e.length-1,1),r):{}}function Mt(...e){return"("+(gT(e).capture?"":"?:")+e.map(n=>Gh(n)).join("|")+")"}var $u=e=>ke(/\b/,e,/\w$/.test(e)?/\b/:/\B/),yT=["Protocol","Type"].map($u),zh=["init","self"].map($u),DT=["Any","Self"],Lu=["actor","any","associatedtype","async","await",/as\?/,/as!/,"as","borrowing","break","case","catch","class","consume","consuming","continue","convenience","copy","default","defer","deinit","didSet","distributed","do","dynamic","each","else","enum","extension","fallthrough",/fileprivate\(set\)/,"fileprivate","final","for","func","get","guard","if","import","indirect","infix",/init\?/,/init!/,"inout",/internal\(set\)/,"internal","in","is","isolated","nonisolated","lazy","let","macro","mutating","nonmutating",/open\(set\)/,"open","operator","optional","override","postfix","precedencegroup","prefix",/private\(set\)/,"private","protocol",/public\(set\)/,"public","repeat","required","rethrows","return","set","some","static","struct","subscript","super","switch","throws","throw",/try\?/,/try!/,"try","typealias",/unowned\(safe\)/,/unowned\(unsafe\)/,"unowned","var","weak","where","while","willSet"],qh=["false","nil","true"],bT=["assignment","associativity","higherThan","left","lowerThan","none","right"],xT=["#colorLiteral","#column","#dsohandle","#else","#elseif","#endif","#error","#file","#fileID","#fileLiteral","#filePath","#function","#if","#imageLiteral","#keyPath","#line","#selector","#sourceLocation","#warning"],Wh=["abs","all","any","assert","assertionFailure","debugPrint","dump","fatalError","getVaList","isKnownUniquelyReferenced","max","min","numericCast","pointwiseMax","pointwiseMin","precondition","preconditionFailure","print","readLine","repeatElement","sequence","stride","swap","swift_unboxFromSwiftValueWithType","transcode","type","unsafeBitCast","unsafeDowncast","withExtendedLifetime","withUnsafeMutablePointer","withUnsafePointer","withVaList","withoutActuallyEscaping","zip"],Hh=Mt(/[/=\-+!*%<>&|^~?]/,/[\u00A1-\u00A7]/,/[\u00A9\u00AB]/,/[\u00AC\u00AE]/,/[\u00B0\u00B1]/,/[\u00B6\u00BB\u00BF\u00D7\u00F7]/,/[\u2016-\u2017]/,/[\u2020-\u2027]/,/[\u2030-\u203E]/,/[\u2041-\u2053]/,/[\u2055-\u205E]/,/[\u2190-\u23FF]/,/[\u2500-\u2775]/,/[\u2794-\u2BFF]/,/[\u2E00-\u2E7F]/,/[\u3001-\u3003]/,/[\u3008-\u3020]/,/[\u3030]/),Jh=Mt(Hh,/[\u0300-\u036F]/,/[\u1DC0-\u1DFF]/,/[\u20D0-\u20FF]/,/[\uFE00-\uFE0F]/,/[\uFE20-\uFE2F]/),Bu=ke(Hh,Jh,"*"),Yh=Mt(/[a-zA-Z_]/,/[\u00A8\u00AA\u00AD\u00AF\u00B2-\u00B5\u00B7-\u00BA]/,/[\u00BC-\u00BE\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF]/,/[\u0100-\u02FF\u0370-\u167F\u1681-\u180D\u180F-\u1DBF]/,/[\u1E00-\u1FFF]/,/[\u200B-\u200D\u202A-\u202E\u203F-\u2040\u2054\u2060-\u206F]/,/[\u2070-\u20CF\u2100-\u218F\u2460-\u24FF\u2776-\u2793]/,/[\u2C00-\u2DFF\u2E80-\u2FFF]/,/[\u3004-\u3007\u3021-\u302F\u3031-\u303F\u3040-\uD7FF]/,/[\uF900-\uFD3D\uFD40-\uFDCF\uFDF0-\uFE1F\uFE30-\uFE44]/,/[\uFE47-\uFEFE\uFF00-\uFFFD]/),aa=Mt(Yh,/\d/,/[\u0300-\u036F\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]/),tn=ke(Yh,aa,"*"),Mu=ke(/[A-Z]/,aa,"*"),ET=["attached","autoclosure",ke(/convention\(/,Mt("swift","block","c"),/\)/),"discardableResult","dynamicCallable","dynamicMemberLookup","escaping","freestanding","frozen","GKInspectable","IBAction","IBDesignable","IBInspectable","IBOutlet","IBSegueAction","inlinable","main","nonobjc","NSApplicationMain","NSCopying","NSManaged",ke(/objc\(/,tn,/\)/),"objc","objcMembers","propertyWrapper","requires_stored_property_inits","resultKhulnasoft","Sendable","testable","UIApplicationMain","unchecked","unknown","usableFromInline","warn_unqualified_access"],CT=["iOS","iOSApplicationExtension","macOS","macOSApplicationExtension","macCatalyst","macCatalystApplicationExtension","watchOS","watchOSApplicationExtension","tvOS","tvOSApplicationExtension","swift"];function Xh(e){let r={match:/\s+/,relevance:0},t=e.COMMENT("/\\*","\\*/",{contains:["self"]}),n=[e.C_LINE_COMMENT_MODE,t],i={match:[/\./,Mt(...yT,...zh)],className:{2:"keyword"}},s={match:ke(/\./,Mt(...Lu)),relevance:0},o=Lu.filter(ve=>typeof ve=="string").concat(["_|0"]),a=Lu.filter(ve=>typeof ve!="string").concat(DT).map($u),l={variants:[{className:"keyword",match:Mt(...a,...zh)}]},u={$pattern:Mt(/\b\w+/,/#\w+/),keyword:o.concat(xT),literal:qh},c=[i,s,l],p={match:ke(/\./,Mt(...Wh)),relevance:0},d={className:"built_in",match:ke(/\b/,Mt(...Wh),/(?=\()/)},f=[p,d],m={match:/->/,relevance:0},h={className:"operator",relevance:0,variants:[{match:Bu},{match:`\\.(\\.|${Jh})+`}]},g=[m,h],y="([0-9]_*)+",D="([0-9a-fA-F]_*)+",C={className:"number",relevance:0,variants:[{match:`\\b(${y})(\\.(${y}))?([eE][+-]?(${y}))?\\b`},{match:`\\b0x(${D})(\\.(${D}))?([pP][+-]?(${y}))?\\b`},{match:/\b0o([0-7]_*)+\b/},{match:/\b0b([01]_*)+\b/}]},x=(ve="")=>({className:"subst",variants:[{match:ke(/\\/,ve,/[0\\tnr"']/)},{match:ke(/\\/,ve,/u\{[0-9a-fA-F]{1,8}\}/)}]}),b=(ve="")=>({className:"subst",match:ke(/\\/,ve,/[\t ]*(?:[\r\n]|\r\n)/)}),E=(ve="")=>({className:"subst",label:"interpol",begin:ke(/\\/,ve,/\(/),end:/\)/}),T=(ve="")=>({begin:ke(ve,/"""/),end:ke(/"""/,ve),contains:[x(ve),b(ve),E(ve)]}),R=(ve="")=>({begin:ke(ve,/"/),end:ke(/"/,ve),contains:[x(ve),E(ve)]}),B={className:"string",variants:[T(),T("#"),T("##"),T("###"),R(),R("#"),R("##"),R("###")]},I=[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}],O={begin:/\/[^\s](?=[^/\n]*\/)/,end:/\//,contains:I},Z=ve=>{let qr=ke(ve,/\//),gn=ke(/\//,ve);return{begin:qr,end:gn,contains:[...I,{scope:"comment",begin:`#(?!.*${gn})`,end:/$/}]}},ie={scope:"regexp",variants:[Z("###"),Z("##"),Z("#"),O]},N={match:ke(/`/,tn,/`/)},z={className:"variable",match:/\$\d+/},oe={className:"variable",match:`\\$${aa}+`},F=[N,z,oe],M={match:/(@|#(un)?)available/,scope:"keyword",starts:{contains:[{begin:/\(/,end:/\)/,keywords:CT,contains:[...g,C,B]}]}},Y={scope:"keyword",match:ke(/@/,Mt(...ET))},v={scope:"meta",match:ke(/@/,tn)},P=[M,Y,v],$={match:oa(/\b[A-Z]/),relevance:0,contains:[{className:"type",match:ke(/(AV|CA|CF|CG|CI|CL|CM|CN|CT|MK|MP|MTK|MTL|NS|SCN|SK|UI|WK|XC)/,aa,"+")},{className:"type",match:Mu,relevance:0},{match:/[?!]+/,relevance:0},{match:/\.\.\./,relevance:0},{match:ke(/\s+&\s+/,oa(Mu)),relevance:0}]},G={begin:/</,end:/>/,keywords:u,contains:[...n,...c,...P,m,$]};$.contains.push(G);let xe={match:ke(tn,/\s*:/),keywords:"_|0",relevance:0},ae={begin:/\(/,end:/\)/,relevance:0,keywords:u,contains:["self",xe,...n,ie,...c,...f,...g,C,B,...F,...P,$]},he={begin:/</,end:/>/,keywords:"repeat each",contains:[...n,$]},gt={begin:Mt(oa(ke(tn,/\s*:/)),oa(ke(tn,/\s+/,tn,/\s*:/))),end:/:/,relevance:0,contains:[{className:"keyword",match:/\b_\b/},{className:"params",match:tn}]},At={begin:/\(/,end:/\)/,keywords:u,contains:[gt,...n,...c,...g,C,B,...P,$,ae],endsParent:!0,illegal:/["']/},Vr={match:[/(func|macro)/,/\s+/,Mt(N.match,tn,Bu)],className:{1:"keyword",3:"title.function"},contains:[he,At,r],illegal:[/\[/,/%/]},cs={match:[/\b(?:subscript|init[?!]?)/,/\s*(?=[<(])/],className:{1:"keyword"},contains:[he,At,r],illegal:/\[|%/},zr={match:[/operator/,/\s+/,Bu],className:{1:"keyword",3:"title"}},ps={begin:[/precedencegroup/,/\s+/,Mu],className:{1:"keyword",3:"title"},contains:[$],keywords:[...bT,...qh],end:/}/};for(let ve of B.variants){let qr=ve.contains.find(Jt=>Jt.label==="interpol");qr.keywords=u;let gn=[...c,...f,...g,C,B,...F];qr.contains=[...gn,{begin:/\(/,end:/\)/,contains:["self",...gn]}]}return{name:"Swift",keywords:u,contains:[...n,Vr,cs,{beginKeywords:"struct protocol class extension enum actor",end:"\\{",excludeEnd:!0,keywords:u,contains:[e.inherit(e.TITLE_MODE,{className:"title.class",begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/}),...c]},zr,ps,{beginKeywords:"import",end:/$/,contains:[...n],relevance:0},ie,...c,...f,...g,C,B,...F,...P,$,ae]}}var la="[A-Za-z$_][0-9A-Za-z$_]*",Qh=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Zh=["true","false","null","undefined","NaN","Infinity"],eg=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],tg=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],rg=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],ng=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ig=[].concat(rg,eg,tg);function ST(e){let r=e.regex,t=(M,{after:Y})=>{let v="</"+M[0].slice(1);return M.input.indexOf(v,Y)!==-1},n=la,i={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,o={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(M,Y)=>{let v=M[0].length+M.index,P=M.input[v];if(P==="<"||P===","){Y.ignoreMatch();return}P===">"&&(t(M,{after:v})||Y.ignoreMatch());let $,G=M.input.substring(v);if($=G.match(/^\s*=/)){Y.ignoreMatch();return}if(($=G.match(/^\s+extends\s+/))&&$.index===0){Y.ignoreMatch();return}}},a={$pattern:la,keyword:Qh,literal:Zh,built_in:ig,"variable.language":ng},l="[0-9](_?[0-9])*",u=`\\.(${l})`,c="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${c})((${u})|\\.)?|(${u}))[eE][+-]?(${l})\\b`},{begin:`\\b(${c})\\b((${u})\\b|\\.)?|(${u})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:a,contains:[]},f={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},m={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},h={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},D={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:n+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},C=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,m,h,g,{match:/\$\d+/},p];d.contains=C.concat({begin:/\{/,end:/\}/,keywords:a,contains:["self"].concat(C)});let x=[].concat(D,d.contains),b=x.concat([{begin:/\(/,end:/\)/,keywords:a,contains:["self"].concat(x)}]),E={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b},T={variants:[{match:[/class/,/\s+/,n,/\s+/,/extends/,/\s+/,r.concat(n,"(",r.concat(/\./,n),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,n],scope:{1:"keyword",3:"title.class"}}]},R={relevance:0,match:r.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...eg,...tg]}},B={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},I={variants:[{match:[/function/,/\s+/,n,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[E],illegal:/%/},O={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function Z(M){return r.concat("(?!",M.join("|"),")")}let ie={match:r.concat(/\b/,Z([...rg,"super","import"]),n,r.lookahead(/\(/)),className:"title.function",relevance:0},N={begin:r.concat(/\./,r.lookahead(r.concat(n,/(?![0-9A-Za-z$_(])/))),end:n,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},z={match:[/get|set/,/\s+/,n,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},E]},oe="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",F={match:[/const|var|let/,/\s+/,n,/\s*/,/=\s*/,/(async\s*)?/,r.lookahead(oe)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[E]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:a,exports:{PARAMS_CONTAINS:b,CLASS_REFERENCE:R},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),B,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,m,h,g,D,{match:/\$\d+/},p,R,{className:"attr",begin:n+r.lookahead(":"),relevance:0},F,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[D,e.REGEXP_MODE,{className:"function",begin:oe,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:b}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:i.begin,end:i.end},{match:s},{begin:o.begin,"on:begin":o.isTrulyOpeningTag,end:o.end}],subLanguage:"xml",contains:[{begin:o.begin,end:o.end,skip:!0,contains:["self"]}]}]},I,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[E,e.inherit(e.TITLE_MODE,{begin:n,className:"title.function"})]},{match:/\.\.\./,relevance:0},N,{match:"\\$"+n,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[E]},ie,O,T,z,{match:/\$[(.]/}]}}function sg(e){let r=ST(e),t=la,n=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],i={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[r.exports.CLASS_REFERENCE]},s={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:n},contains:[r.exports.CLASS_REFERENCE]},o={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},a=["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"],l={$pattern:la,keyword:Qh.concat(a),literal:Zh,built_in:ig.concat(n),"variable.language":ng},u={className:"meta",begin:"@"+t},c=(d,f,m)=>{let h=d.contains.findIndex(g=>g.label===f);if(h===-1)throw new Error("can not find mode to replace");d.contains.splice(h,1,m)};Object.assign(r.keywords,l),r.exports.PARAMS_CONTAINS.push(u),r.contains=r.contains.concat([u,i,s]),c(r,"shebang",e.SHEBANG()),c(r,"use_strict",o);let p=r.contains.find(d=>d.label==="func.def");return p.relevance=0,Object.assign(r,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),r}function og(e){let r=e.regex,t={className:"string",begin:/"(""|[^/n])"C\b/},n={className:"string",begin:/"/,end:/"/,illegal:/\n/,contains:[{begin:/""/}]},i=/\d{1,2}\/\d{1,2}\/\d{4}/,s=/\d{4}-\d{1,2}-\d{1,2}/,o=/(\d|1[012])(:\d+){0,2} *(AM|PM)/,a=/\d{1,2}(:\d{1,2}){1,2}/,l={className:"literal",variants:[{begin:r.concat(/# */,r.either(s,i),/ *#/)},{begin:r.concat(/# */,a,/ *#/)},{begin:r.concat(/# */,o,/ *#/)},{begin:r.concat(/# */,r.either(s,i),/ +/,r.either(o,a),/ *#/)}]},u={className:"number",relevance:0,variants:[{begin:/\b\d[\d_]*((\.[\d_]+(E[+-]?[\d_]+)?)|(E[+-]?[\d_]+))[RFD@!#]?/},{begin:/\b\d[\d_]*((U?[SIL])|[%&])?/},{begin:/&H[\dA-F_]+((U?[SIL])|[%&])?/},{begin:/&O[0-7_]+((U?[SIL])|[%&])?/},{begin:/&B[01_]+((U?[SIL])|[%&])?/}]},c={className:"label",begin:/^\w+:/},p=e.COMMENT(/'''/,/$/,{contains:[{className:"doctag",begin:/<\/?/,end:/>/}]}),d=e.COMMENT(null,/$/,{variants:[{begin:/'/},{begin:/([\t ]|^)REM(?=\s)/}]});return{name:"Visual Basic .NET",aliases:["vb"],case_insensitive:!0,classNameAliases:{label:"symbol"},keywords:{keyword:"addhandler alias aggregate ansi as async assembly auto binary by byref byval call case catch class compare const continue custom declare default delegate dim distinct do each equals else elseif end enum erase error event exit explicit finally for friend from function get global goto group handles if implements imports in inherits interface into iterator join key let lib loop me mid module mustinherit mustoverride mybase myclass namespace narrowing new next notinheritable notoverridable of off on operator option optional order overloads overridable overrides paramarray partial preserve private property protected public raiseevent readonly redim removehandler resume return select set shadows shared skip static step stop structure strict sub synclock take text then throw to try unicode until using when where while widening with withevents writeonly yield",built_in:"addressof and andalso await directcast gettype getxmlnamespace is isfalse isnot istrue like mod nameof new not or orelse trycast typeof xor cbool cbyte cchar cdate cdbl cdec cint clng cobj csbyte cshort csng cstr cuint culng cushort",type:"boolean byte char date decimal double integer long object sbyte short single string uinteger ulong ushort",literal:"true false nothing"},illegal:"//|\\{|\\}|endif|gosub|variant|wend|^\\$ ",contains:[t,n,l,u,c,p,d,{className:"meta",begin:/[\t ]*#(const|disable|else|elseif|enable|end|externalsource|if|region)\b/,end:/$/,keywords:{keyword:"const disable else elseif enable end externalsource if region then"},contains:[d]}]}}function ag(e){e.regex;let r=e.COMMENT(/\(;/,/;\)/);r.contains.push("self");let t=e.COMMENT(/;;/,/$/),n=["anyfunc","block","br","br_if","br_table","call","call_indirect","data","drop","elem","else","end","export","func","global.get","global.set","local.get","local.set","local.tee","get_global","get_local","global","if","import","local","loop","memory","memory.grow","memory.size","module","mut","nop","offset","param","result","return","select","set_global","set_local","start","table","tee_local","then","type","unreachable"],i={begin:[/(?:func|call|call_indirect)/,/\s+/,/\$[^\s)]+/],className:{1:"keyword",3:"title.function"}},s={className:"variable",begin:/\$[\w_]+/},o={match:/(\((?!;)|\))+/,className:"punctuation",relevance:0},a={className:"number",relevance:0,match:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/},l={match:/(i32|i64|f32|f64)(?!\.)/,className:"type"},u={className:"keyword",match:/\b(f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|nearest|neg?|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|store(?:8|16|32)?|sqrt|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))\b/};return{name:"WebAssembly",keywords:{$pattern:/[\w.]+/,keyword:n},contains:[t,r,{match:[/(?:offset|align)/,/\s*/,/=/],className:{1:"keyword",3:"operator"}},s,o,i,e.QUOTE_STRING_MODE,l,u,a]}}function lg(e){let r=e.regex,t=r.concat(/[\p{L}_]/u,r.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),n=/[\p{L}0-9._:-]+/u,i={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},o=e.inherit(s,{begin:/\(/,end:/\)/}),a=e.inherit(e.APOS_STRING_MODE,{className:"string"}),l=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),u={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:n,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[i]},{begin:/'/,end:/'/,contains:[i]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,l,a,o,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,o,l,a]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},i,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[l]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[u],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[u],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:r.concat(/</,r.lookahead(r.concat(t,r.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:u}]},{className:"tag",begin:r.concat(/<\//,r.lookahead(r.concat(t,/>/))),contains:[{className:"name",begin:t,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}function ug(e){let r="true false yes no null",t="[\\w#;/?:@&=+$,.~*'()[\\]]+",n={className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},i={className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]},s={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,i]},o=e.inherit(s,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),p={className:"number",begin:"\\b"+"[0-9]{4}(-[0-9][0-9]){0,2}"+"([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?"+"(\\.[0-9]*)?"+"([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?"+"\\b"},d={end:",",endsWithParent:!0,excludeEnd:!0,keywords:r,relevance:0},f={begin:/\{/,end:/\}/,contains:[d],illegal:"\\n",relevance:0},m={begin:"\\[",end:"\\]",contains:[d],illegal:"\\n",relevance:0},h=[n,{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+t},{className:"type",begin:"!<"+t+">"},{className:"type",begin:"!"+t},{className:"type",begin:"!!"+t},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:r,keywords:{literal:r}},p,{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},f,m,s],g=[...h];return g.pop(),g.push(o),d.contains=g,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:h}}var An={arduino:sh,bash:oh,c:ah,cpp:lh,csharp:uh,css:ch,diff:ph,go:dh,graphql:fh,ini:mh,java:yh,javascript:Ch,json:Sh,kotlin:wh,less:vh,lua:Ph,makefile:Ih,markdown:Nh,objectivec:Fh,perl:_h,php:kh,"php-template":Oh,plaintext:Rh,python:Lh,"python-repl":Bh,r:Mh,ruby:$h,rust:Uh,scss:jh,shell:Kh,sql:Vh,swift:Xh,typescript:sg,vbnet:og,wasm:ag,xml:lg,yaml:ug};var Ng=K(Ig(),1);var Fg=Ng.default;var _g={},fA="hljs-";function Ju(e){let r=Fg.newInstance();return e&&s(e),{highlight:t,highlightAuto:n,listLanguages:i,register:s,registerAlias:o,registered:a};function t(l,u,c){let p=c||_g,d=typeof p.prefix=="string"?p.prefix:fA;if(!r.getLanguage(l))throw new Error("Unknown language: `"+l+"` is not registered");r.configure({__emitter:Hu,classPrefix:d});let f=r.highlight(u,{ignoreIllegals:!0,language:l});if(f.errorRaised)throw new Error("Could not highlight with `Highlight.js`",{cause:f.errorRaised});let m=f._emitter.root,h=m.data;return h.language=f.language,h.relevance=f.relevance,m}function n(l,u){let p=(u||_g).subset||i(),d=-1,f=0,m;for(;++d<p.length;){let h=p[d];if(!r.getLanguage(h))continue;let g=t(h,l,u);g.data&&g.data.relevance!==void 0&&g.data.relevance>f&&(f=g.data.relevance,m=g)}return m||{type:"root",children:[],data:{language:void 0,relevance:f}}}function i(){return r.listLanguages()}function s(l,u){if(typeof l=="string")r.registerLanguage(l,u);else{let c;for(c in l)Object.hasOwn(l,c)&&r.registerLanguage(c,l[c])}}function o(l,u){if(typeof l=="string")r.registerAliases(typeof u=="string"?u:[...u],{languageName:l});else{let c;for(c in l)if(Object.hasOwn(l,c)){let p=l[c];r.registerAliases(typeof p=="string"?p:[...p],{languageName:c})}}}function a(l){return!!r.getLanguage(l)}}var Hu=class{constructor(r){this.options=r,this.root={type:"root",children:[],data:{language:void 0,relevance:0}},this.stack=[this.root]}addText(r){if(r==="")return;let t=this.stack[this.stack.length-1],n=t.children[t.children.length-1];n&&n.type==="text"?n.value+=r:t.children.push({type:"text",value:r})}startScope(r){this.openNode(String(r))}endScope(){this.closeNode()}__addSublanguage(r,t){let n=this.stack[this.stack.length-1],i=r.root.children;t?n.children.push({type:"element",tagName:"span",properties:{className:[t]},children:i}):n.children.push(...i)}openNode(r){let t=this,n=r.split(".").map(function(o,a){return a?o+"_".repeat(a):t.options.classPrefix+o}),i=this.stack[this.stack.length-1],s={type:"element",tagName:"span",properties:{className:n},children:[]};i.children.push(s),this.stack.push(s)}closeNode(){this.stack.pop()}finalize(){}toHTML(){return""}};var kg=(e=0)=>r=>`\x1B[${r+e}m`,Og=(e=0)=>r=>`\x1B[${38+e};5;${r}m`,Rg=(e=0)=>(r,t,n)=>`\x1B[${38+e};2;${r};${t};${n}m`,qe={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},T3=Object.keys(qe.modifier),mA=Object.keys(qe.color),hA=Object.keys(qe.bgColor),A3=[...mA,...hA];function gA(){let e=new Map;for(let[r,t]of Object.entries(qe)){for(let[n,i]of Object.entries(t))qe[n]={open:`\x1B[${i[0]}m`,close:`\x1B[${i[1]}m`},t[n]=qe[n],e.set(i[0],i[1]);Object.defineProperty(qe,r,{value:t,enumerable:!1})}return Object.defineProperty(qe,"codes",{value:e,enumerable:!1}),qe.color.close="\x1B[39m",qe.bgColor.close="\x1B[49m",qe.color.ansi=kg(),qe.color.ansi256=Og(),qe.color.ansi16m=Rg(),qe.bgColor.ansi=kg(10),qe.bgColor.ansi256=Og(10),qe.bgColor.ansi16m=Rg(10),Object.defineProperties(qe,{rgbToAnsi256:{value(r,t,n){return r===t&&t===n?r<8?16:r>248?231:Math.round((r-8)/247*24)+232:16+36*Math.round(r/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(r){let t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(r.toString(16));if(!t)return[0,0,0];let[n]=t;n.length===3&&(n=[...n].map(s=>s+s).join(""));let i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,i&255]},enumerable:!1},hexToAnsi256:{value:r=>qe.rgbToAnsi256(...qe.hexToRgb(r)),enumerable:!1},ansi256ToAnsi:{value(r){if(r<8)return 30+r;if(r<16)return 90+(r-8);let t,n,i;if(r>=232)t=((r-232)*10+8)/255,n=t,i=t;else{r-=16;let a=r%36;t=Math.floor(r/36)/5,n=Math.floor(a/6)/5,i=a%6/5}let s=Math.max(t,n,i)*2;if(s===0)return 30;let o=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(t));return s===2&&(o+=60),o},enumerable:!1},rgbToAnsi:{value:(r,t,n)=>qe.ansi256ToAnsi(qe.rgbToAnsi256(r,t,n)),enumerable:!1},hexToAnsi:{value:r=>qe.ansi256ToAnsi(qe.hexToAnsi256(r)),enumerable:!1}}),qe}var yA=gA(),fr=yA;var ma=K(require("node:process"),1),Bg=K(require("node:os"),1),Yu=K(require("node:tty"),1);function tr(e,r=globalThis.Deno?globalThis.Deno.args:ma.default.argv){let t=e.startsWith("-")?"":e.length===1?"-":"--",n=r.indexOf(t+e),i=r.indexOf("--");return n!==-1&&(i===-1||n<i)}var{env:Je}=ma.default,fa;tr("no-color")||tr("no-colors")||tr("color=false")||tr("color=never")?fa=0:(tr("color")||tr("colors")||tr("color=true")||tr("color=always"))&&(fa=1);function DA(){if("FORCE_COLOR"in Je)return Je.FORCE_COLOR==="true"?1:Je.FORCE_COLOR==="false"?0:Je.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Je.FORCE_COLOR,10),3)}function bA(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function xA(e,{streamIsTTY:r,sniffFlags:t=!0}={}){let n=DA();n!==void 0&&(fa=n);let i=t?fa:n;if(i===0)return 0;if(t){if(tr("color=16m")||tr("color=full")||tr("color=truecolor"))return 3;if(tr("color=256"))return 2}if("TF_BUILD"in Je&&"AGENT_NAME"in Je)return 1;if(e&&!r&&i===void 0)return 0;let s=i||0;if(Je.TERM==="dumb")return s;if(ma.default.platform==="win32"){let o=Bg.default.release().split(".");return Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in Je)return"GITHUB_ACTIONS"in Je||"GITEA_ACTIONS"in Je?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(o=>o in Je)||Je.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in Je)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Je.TEAMCITY_VERSION)?1:0;if(Je.COLORTERM==="truecolor"||Je.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in Je){let o=Number.parseInt((Je.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Je.TERM_PROGRAM){case"iTerm.app":return o>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Je.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Je.TERM)||"COLORTERM"in Je?1:s}function Lg(e,r={}){let t=xA(e,{streamIsTTY:e&&e.isTTY,...r});return bA(t)}var EA={stdout:Lg({isTTY:Yu.default.isatty(1)}),stderr:Lg({isTTY:Yu.default.isatty(2)})},Mg=EA;function $g(e,r,t){let n=e.indexOf(r);if(n===-1)return e;let i=r.length,s=0,o="";do o+=e.slice(s,n)+r+t,s=n+i,n=e.indexOf(r,s);while(n!==-1);return o+=e.slice(s),o}function Ug(e,r,t,n){let i=0,s="";do{let o=e[n-1]==="\r";s+=e.slice(i,o?n-1:n)+r+(o?`\r
`:`
`)+t,i=n+1,n=e.indexOf(`
`,i)}while(n!==-1);return s+=e.slice(i),s}var{stdout:jg,stderr:Kg}=Mg,Xu=Symbol("GENERATOR"),_i=Symbol("STYLER"),Rs=Symbol("IS_EMPTY"),Vg=["ansi","ansi","ansi256","ansi16m"],ki=Object.create(null),CA=(e,r={})=>{if(r.level&&!(Number.isInteger(r.level)&&r.level>=0&&r.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");let t=jg?jg.level:0;e.level=r.level===void 0?t:r.level},ha=class{constructor(r){return zg(r)}},zg=e=>{let r=(...t)=>t.join(" ");return CA(r,e),Object.setPrototypeOf(r,Ls.prototype),r};function Ls(e){return zg(e)}Object.setPrototypeOf(Ls.prototype,Function.prototype);for(let[e,r]of Object.entries(fr))ki[e]={get(){let t=ga(this,Zu(r.open,r.close,this[_i]),this[Rs]);return Object.defineProperty(this,e,{value:t}),t}};ki.visible={get(){let e=ga(this,this[_i],!0);return Object.defineProperty(this,"visible",{value:e}),e}};var Qu=(e,r,t,...n)=>e==="rgb"?r==="ansi16m"?fr[t].ansi16m(...n):r==="ansi256"?fr[t].ansi256(fr.rgbToAnsi256(...n)):fr[t].ansi(fr.rgbToAnsi(...n)):e==="hex"?Qu("rgb",r,t,...fr.hexToRgb(...n)):fr[t][e](...n),SA=["rgb","hex","ansi256"];for(let e of SA){ki[e]={get(){let{level:t}=this;return function(...n){let i=Zu(Qu(e,Vg[t],"color",...n),fr.color.close,this[_i]);return ga(this,i,this[Rs])}}};let r="bg"+e[0].toUpperCase()+e.slice(1);ki[r]={get(){let{level:t}=this;return function(...n){let i=Zu(Qu(e,Vg[t],"bgColor",...n),fr.bgColor.close,this[_i]);return ga(this,i,this[Rs])}}}}var wA=Object.defineProperties(()=>{},{...ki,level:{enumerable:!0,get(){return this[Xu].level},set(e){this[Xu].level=e}}}),Zu=(e,r,t)=>{let n,i;return t===void 0?(n=e,i=r):(n=t.openAll+e,i=r+t.closeAll),{open:e,close:r,openAll:n,closeAll:i,parent:t}},ga=(e,r,t)=>{let n=(...i)=>TA(n,i.length===1?""+i[0]:i.join(" "));return Object.setPrototypeOf(n,wA),n[Xu]=e,n[_i]=r,n[Rs]=t,n},TA=(e,r)=>{if(e.level<=0||!r)return e[Rs]?"":r;let t=e[_i];if(t===void 0)return r;let{openAll:n,closeAll:i}=t;if(r.includes("\x1B"))for(;t!==void 0;)r=$g(r,t.close,t.open),t=t.parent;let s=r.indexOf(`
`);return s!==-1&&(r=Ug(r,i,n,s)),n+r+i};Object.defineProperties(Ls.prototype,ki);var k3=Ls(),O3=Ls({level:Kg?Kg.level:0});var De=new ha({level:2}),qg={comment:De.gray,quote:De.gray,keyword:De.green,"selector-tag":De.green,addition:De.green,number:De.cyan,string:De.cyan,"meta meta-string":De.cyan,literal:De.cyan,doctag:De.cyan,regexp:De.cyan,title:De.blue,section:De.blue,name:De.blue,"selector-id":De.blue,"selector-class":De.blue,attribute:De.yellow,attr:De.yellow,variable:De.yellow,"template-variable":De.yellow,"class title":De.yellow,type:De.yellow,symbol:De.magenta,bullet:De.magenta,subst:De.magenta,meta:De.magenta,"meta keyword":De.magenta,"selector-attr":De.magenta,"selector-pseudo":De.magenta,link:De.magenta,built_in:De.red,deletion:De.red,emphasis:De.italic,strong:De.bold,formula:De.inverse};function Qn(e){let r=Ju(e);return{highlight:t,highlightAuto:n,listLanguages:r.listLanguages,register:r.register,registerAlias:r.registerAlias,registered:r.registered};function t(i,s,o){let a=r.highlight(i,s),l=a.data;return{language:l.language,relevance:l.relevance,value:ec(o||qg,a)}}function n(i,s){let o,a;if(s&&("subset"in s||"sheet"in s)){let c=s;a={subset:c.subset},o=c.sheet}else o=s;let l=r.highlightAuto(i,a),u=l.data;return{language:u.language,relevance:u.relevance,value:ec(o||qg,l)}}}function ec(e,r){let t=new Set(r.type==="element"&&Array.isArray(r.properties.className)?r.properties.className.map(function(a){return String(a).replace(/^hljs-/,"")}):[]),n={},i,s="",o;for(o in e)if(Object.hasOwn(e,o)){let a=o.split(" "),l=e[o];t.has(a[0])?a.length===1?i=l:n[a.slice(1).join(" ")]=l:n[o]=l}return"value"in r?s=r.value:"children"in r&&(s=AA(n,r.children)),i&&(s=i(s)),s}function AA(e,r){let t=[],n=-1;for(;++n<r.length;)t.push(ec(e,r[n]));return t.join("")}var Wg=K(require("@sentry/node"),1),Gg=K(require("@amplitude/analytics-node"),1);async function ee(e){if(process.env.NODE_ENV!=="test")try{await Promise.allSettled([Wg.flush(2e3),Gg.flush().promise])}catch(r){console.error(r)}process.exit(e)}var mr=process.env.AIR_HOST||"https://air-layout-v2-tk43uighdq-uc.a.run.app";var $r=K(require("@amplitude/analytics-node"),1),kn=K(require("@sentry/node"),1);var Hg="1.5.12";var ht=require("node:fs/promises"),JD=require("node:crypto"),Ye=require("node:fs"),uo=require("node:os"),Ae=K(require("node:path"),1),mp=K(require("prettier"),1),YD=K(require("typescript"),1),XD=K(require("launch-editor"),1);var Zi=require("node:child_process");var fp={};JE(fp,{MagicastError:()=>St,khulnasofts:()=>q1,detectCodeFormat:()=>WD,generateCode:()=>dp,loadFile:()=>V1,parseExpression:()=>HD,parseModule:()=>GD,writeFile:()=>z1});var Ua=require("node:fs");var Ha=K(xy(),1),dD=K(Xy(),1);function Gt(e){var r=e.use(Qe),t=r.Type,n=r.builtInTypes,i=n.number;function s(u){return t.from(c=>i.check(c)&&c>=u,i+" >= "+u)}let o={null:function(){return null},emptyArray:function(){return[]},false:function(){return!1},true:function(){return!0},undefined:function(){},"use strict":function(){return"use strict"}};var a=t.or(n.string,n.number,n.boolean,n.null,n.undefined);let l=t.from(u=>{if(u===null)return!0;var c=typeof u;return!(c==="object"||c==="function")},a.toString());return{geq:s,defaults:o,isPrimitive:l}}function Oe(e){try{var r=e(),t=r.exports,n=t.default}catch{return}n&&n!==t&&typeof t=="object"&&(Object.assign(n,t,{default:n}),t.__esModule&&Object.defineProperty(n,"__esModule",{value:!0}),r.exports=n)}var gP=Object.defineProperty,yP=(e,r,t)=>r in e?gP(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ft=(e,r,t)=>(yP(e,typeof r!="symbol"?r+"":r,t),t),fD=Object.prototype,ja=fD.toString,nr=fD.hasOwnProperty,oi=class{assert(r,t){if(!this.check(r,t)){var n=ap(r);throw new Error(n+" does not match type "+this)}return!0}arrayOf(){let r=this;return new io(r)}},io=class extends oi{constructor(r){super(),this.elemType=r,Ft(this,"kind","ArrayType")}toString(){return"["+this.elemType+"]"}check(r,t){return Array.isArray(r)&&r.every(n=>this.elemType.check(n,t))}},Ka=class extends oi{constructor(r){super(),this.value=r,Ft(this,"kind","IdentityType")}toString(){return String(this.value)}check(r,t){let n=r===this.value;return!n&&typeof t=="function"&&t(this,r),n}},Va=class extends oi{constructor(r){super(),this.fields=r,Ft(this,"kind","ObjectType")}toString(){return"{ "+this.fields.join(", ")+" }"}check(r,t){return ja.call(r)===ja.call({})&&this.fields.every(n=>n.type.check(r[n.name],t))}},za=class extends oi{constructor(r){super(),this.types=r,Ft(this,"kind","OrType")}toString(){return this.types.join(" | ")}check(r,t){return this.types.some(n=>n.check(r,!!t))?!0:(typeof t=="function"&&t(this,r),!1)}},si=class extends oi{constructor(r,t){super(),this.name=r,this.predicate=t,Ft(this,"kind","PredicateType")}toString(){return this.name}check(r,t){let n=this.predicate(r,t);return!n&&typeof t=="function"&&t(this,r),n}},ro=class e{constructor(r,t){this.type=r,this.typeName=t,Ft(this,"baseNames",[]),Ft(this,"ownFields",Object.create(null)),Ft(this,"allSupertypes",Object.create(null)),Ft(this,"supertypeList",[]),Ft(this,"allFields",Object.create(null)),Ft(this,"fieldNames",[]),Ft(this,"finalized",!1),Ft(this,"buildable",!1),Ft(this,"buildParams",[])}isSupertypeOf(r){if(r instanceof e){if(this.finalized!==!0||r.finalized!==!0)throw new Error("");return nr.call(r.allSupertypes,this.typeName)}else throw new Error(r+" is not a Def")}checkAllFields(r,t){var n=this.allFields;if(this.finalized!==!0)throw new Error(""+this.typeName);function i(s){var o=n[s],a=o.type,l=o.getValue(r);return a.check(l,t)}return r!==null&&typeof r=="object"&&Object.keys(n).every(i)}bases(...r){var t=this.baseNames;if(this.finalized){if(r.length!==t.length)throw new Error("");for(var n=0;n<r.length;n++)if(r[n]!==t[n])throw new Error("");return this}return r.forEach(i=>{t.indexOf(i)<0&&t.push(i)}),this}},qa=class{constructor(r,t,n,i){this.name=r,this.type=t,this.defaultFn=n,Ft(this,"hidden"),this.hidden=!!i}toString(){return JSON.stringify(this.name)+": "+this.type}getValue(r){var t=r[this.name];return typeof t<"u"||typeof this.defaultFn=="function"&&(t=this.defaultFn.call(r)),t}};function ap(e){return Array.isArray(e)?"["+e.map(ap).join(", ")+"]":e&&typeof e=="object"?"{ "+Object.keys(e).map(function(r){return r+": "+e[r]}).join(", ")+" }":JSON.stringify(e)}function Qe(e){let r={or(...v){return new za(v.map(P=>r.from(P)))},from(v,P){if(v instanceof io||v instanceof Ka||v instanceof Va||v instanceof za||v instanceof si)return v;if(v instanceof ro)return v.type;if(a.check(v)){if(v.length!==1)throw new Error("only one element type is permitted for typed arrays");return new io(r.from(v[0]))}if(l.check(v))return new Va(Object.keys(v).map(G=>new qa(G,r.from(v[G],G))));if(typeof v=="function"){var $=t.indexOf(v);if($>=0)return n[$];if(typeof P!="string")throw new Error("missing name");return new si(P,v)}return new Ka(v)},def(v){return nr.call(y,v)?y[v]:y[v]=new C(v)},hasDef(v){return nr.call(y,v)}};var t=[],n=[];function i(v,P){let $=ja.call(P),G=new si(v,xe=>ja.call(xe)===$);return P&&typeof P.constructor=="function"&&(t.push(P.constructor),n.push(G)),G}let s=i("string","truthy"),o=i("function",function(){}),a=i("array",[]),l=i("object",{}),u=i("RegExp",/./),c=i("Date",new Date),p=i("number",3),d=i("boolean",!0),f=i("null",null),m=i("undefined",void 0),h=typeof BigInt=="function"?i("BigInt",BigInt(1234)):new si("BigInt",()=>!1),g={string:s,function:o,array:a,object:l,RegExp:u,Date:c,number:p,boolean:d,null:f,undefined:m,BigInt:h};var y=Object.create(null);function D(v){if(v&&typeof v=="object"){var P=v.type;if(typeof P=="string"&&nr.call(y,P)){var $=y[P];if($.finalized)return $}}return null}class C extends ro{constructor(P){super(new si(P,($,G)=>this.check($,G)),P)}check(P,$){if(this.finalized!==!0)throw new Error("prematurely checking unfinalized type "+this.typeName);if(P===null||typeof P!="object")return!1;var G=D(P);return G?$&&G===this?this.checkAllFields(P,$):this.isSupertypeOf(G)?$?G.checkAllFields(P,$)&&this.checkAllFields(P,!1):!0:!1:this.typeName==="SourceLocation"||this.typeName==="Position"?this.checkAllFields(P,$):!1}build(...P){if(this.buildParams=P,this.buildable)return this;this.field("type",String,()=>this.typeName),this.buildable=!0;let $=(xe,ae,he,gt)=>{if(!nr.call(xe,ae)){var At=this.allFields;if(!nr.call(At,ae))throw new Error(""+ae);var Vr=At[ae],cs=Vr.type,zr;if(gt)zr=he;else if(Vr.defaultFn)zr=Vr.defaultFn.call(xe);else{var ps="no value or default function given for field "+JSON.stringify(ae)+" of "+this.typeName+"("+this.buildParams.map(function(ve){return At[ve]}).join(", ")+")";throw new Error(ps)}if(!cs.check(zr))throw new Error(ap(zr)+" does not match field "+Vr+" of type "+this.typeName);xe[ae]=zr}},G=(...xe)=>{var ae=xe.length;if(!this.finalized)throw new Error("attempting to instantiate unfinalized type "+this.typeName);var he=Object.create(T);if(this.buildParams.forEach(function(gt,At){At<ae?$(he,gt,xe[At],!0):$(he,gt,null,!1)}),Object.keys(this.allFields).forEach(function(gt){$(he,gt,null,!1)}),he.type!==this.typeName)throw new Error("");return he};return G.from=xe=>{if(!this.finalized)throw new Error("attempting to instantiate unfinalized type "+this.typeName);var ae=Object.create(T);if(Object.keys(this.allFields).forEach(function(he){nr.call(xe,he)?$(ae,he,xe[he],!0):$(ae,he,null,!1)}),ae.type!==this.typeName)throw new Error("");return ae},Object.defineProperty(E,B(this.typeName),{enumerable:!0,value:G}),this}field(P,$,G,xe){return this.finalized?(console.error("Ignoring attempt to redefine field "+JSON.stringify(P)+" of finalized type "+JSON.stringify(this.typeName)),this):(this.ownFields[P]=new qa(P,r.from($),G,xe),this)}finalize(){if(!this.finalized){var P=this.allFields,$=this.allSupertypes;this.baseNames.forEach(xe=>{var ae=y[xe];if(ae instanceof ro)ae.finalize(),M(P,ae.allFields),M($,ae.allSupertypes);else{var he="unknown supertype name "+JSON.stringify(xe)+" for subtype "+JSON.stringify(this.typeName);throw new Error(he)}}),M(P,this.ownFields),$[this.typeName]=this,this.fieldNames.length=0;for(var G in P)nr.call(P,G)&&!P[G].hidden&&this.fieldNames.push(G);Object.defineProperty(O,this.typeName,{enumerable:!0,value:this.type}),this.finalized=!0,F(this.typeName,this.supertypeList),this.buildable&&this.supertypeList.lastIndexOf("Expression")>=0&&oe(this.typeName)}}}function x(v){if(!nr.call(y,v))throw new Error("");var P=y[v];if(P.finalized!==!0)throw new Error("");return P.supertypeList.slice(1)}function b(v){for(var P={},$=Object.keys(y),G=$.length,xe=0;xe<G;++xe){var ae=$[xe],he=y[ae];if(he.finalized!==!0)throw new Error(""+ae);for(var gt=0;gt<he.supertypeList.length;++gt){var At=he.supertypeList[gt];if(nr.call(v,At)){P[ae]=At;break}}}return P}var E=Object.create(null),T={};function R(v,P){var $=T[v];return m.check(P)?delete T[v]:(o.assert(P),Object.defineProperty(T,v,{enumerable:!0,configurable:!0,value:P})),$}function B(v){return v.replace(/^[A-Z]+/,function(P){var $=P.length;switch($){case 0:return"";case 1:return P.toLowerCase();default:return P.slice(0,$-1).toLowerCase()+P.charAt($-1)}})}function I(v){return v=B(v),v.replace(/(Expression)?$/,"Statement")}var O={};function Z(v){var P=D(v);if(P)return P.fieldNames.slice(0);if("type"in v)throw new Error("did not recognize object of type "+JSON.stringify(v.type));return Object.keys(v)}function ie(v,P){var $=D(v);if($){var G=$.allFields[P];if(G)return G.getValue(v)}return v&&v[P]}function N(v,P,$){Z(v).forEach(function(G){P.call(this,G,ie(v,G))},$)}function z(v,P,$){return Z(v).some(function(G){return P.call(this,G,ie(v,G))},$)}function oe(v){var P=I(v);if(E[P])return;var $=E[B(v)];if(!$)return;let G=function(...xe){return E.expressionStatement($.apply(E,xe))};G.from=function(...xe){return E.expressionStatement($.from.apply(E,xe))},E[P]=G}function F(v,P){P.length=0,P.push(v);for(var $=Object.create(null),G=0;G<P.length;++G){v=P[G];var xe=y[v];if(xe.finalized!==!0)throw new Error("");nr.call($,v)&&delete P[$[v]],$[v]=G,P.push.apply(P,xe.baseNames)}for(var ae=0,he=ae,gt=P.length;he<gt;++he)nr.call(P,he)&&(P[ae++]=P[he]);P.length=ae}function M(v,P){return Object.keys(P).forEach(function($){v[$]=P[$]}),v}function Y(){Object.keys(y).forEach(function(v){y[v].finalize()})}return{Type:r,builtInTypes:g,getSupertypeNames:x,computeSupertypeLookupTable:b,khulnasofts:E,defineMethod:R,getKhulnasoftName:B,getStatementKhulnasoftName:I,namedTypes:O,getFieldNames:Z,getFieldValue:ie,eachField:N,someField:z,finalize:Y}}Oe(()=>module);var DP=Object.prototype,Fa=DP.hasOwnProperty;function mD(e){var r=e.use(Qe),t=r.builtInTypes.array,n=r.builtInTypes.number;let i=function p(d,f,m){if(!(this instanceof p))throw new Error("Path constructor cannot be invoked without 'new'");if(f){if(!(f instanceof p))throw new Error("")}else f=null,m=null;this.value=d,this.parentPath=f,this.name=m,this.__childCache=null};var s=i.prototype;function o(p){return p.__childCache||(p.__childCache=Object.create(null))}function a(p,d){var f=o(p),m=p.getValueProperty(d),h=f[d];return(!Fa.call(f,d)||h.value!==m)&&(h=f[d]=new p.constructor(m,p,d)),h}s.getValueProperty=function(d){return this.value[d]},s.get=function(...d){for(var f=this,m=d.length,h=0;h<m;++h)f=a(f,d[h]);return f},s.each=function(d,f){for(var m=[],h=this.value.length,g=0,g=0;g<h;++g)Fa.call(this.value,g)&&(m[g]=this.get(g));for(f=f||this,g=0;g<h;++g)Fa.call(m,g)&&d.call(f,m[g])},s.map=function(d,f){var m=[];return this.each(function(h){m.push(d.call(this,h))},f),m},s.filter=function(d,f){var m=[];return this.each(function(h){d.call(this,h)&&m.push(h)},f),m};function l(){}function u(p,d,f,m){if(t.assert(p.value),d===0)return l;var h=p.value.length;if(h<1)return l;var g=arguments.length;g===2?(f=0,m=h):g===3?(f=Math.max(f,0),m=h):(f=Math.max(f,0),m=Math.min(m,h)),n.assert(f),n.assert(m);for(var y=Object.create(null),D=o(p),C=f;C<m;++C)if(Fa.call(p.value,C)){var x=p.get(C);if(x.name!==C)throw new Error("");var b=C+d;x.name=b,y[b]=x,delete D[C]}return delete D.length,function(){for(var E in y){var T=y[E];if(T.name!==+E)throw new Error("");D[E]=T,p.value[E]=T.value}}}s.shift=function(){var d=u(this,-1),f=this.value.shift();return d(),f},s.unshift=function(...d){var f=u(this,d.length),m=this.value.unshift.apply(this.value,d);return f(),m},s.push=function(...d){return t.assert(this.value),delete o(this).length,this.value.push.apply(this.value,d)},s.pop=function(){t.assert(this.value);var d=o(this);return delete d[this.value.length-1],delete d.length,this.value.pop()},s.insertAt=function(d){var f=arguments.length,m=u(this,f-1,d);if(m===l&&f<=1)return this;d=Math.max(d,0);for(var h=1;h<f;++h)this.value[d+h-1]=arguments[h];return m(),this},s.insertBefore=function(...d){for(var f=this.parentPath,m=d.length,h=[this.name],g=0;g<m;++g)h.push(d[g]);return f.insertAt.apply(f,h)},s.insertAfter=function(...d){for(var f=this.parentPath,m=d.length,h=[this.name+1],g=0;g<m;++g)h.push(d[g]);return f.insertAt.apply(f,h)};function c(p){if(!(p instanceof i))throw new Error("");var d=p.parentPath;if(!d)return p;var f=d.value,m=o(d);if(f[p.name]===p.value)m[p.name]=p;else if(t.check(f)){var h=f.indexOf(p.value);h>=0&&(m[p.name=h]=p)}else f[p.name]=p.value,m[p.name]=p;if(f[p.name]!==p.value)throw new Error("");if(p.parentPath.get(p.name)!==p)throw new Error("");return p}return s.replace=function(d){var f=[],m=this.parentPath.value,h=o(this.parentPath),g=arguments.length;if(c(this),t.check(m)){for(var y=m.length,D=u(this.parentPath,g-1,this.name+1),C=[this.name,1],x=0;x<g;++x)C.push(arguments[x]);var b=m.splice.apply(m,C);if(b[0]!==this.value)throw new Error("");if(m.length!==y-1+g)throw new Error("");if(D(),g===0)delete this.value,delete h[this.name],this.__childCache=null;else{if(m[this.name]!==d)throw new Error("");for(this.value!==d&&(this.value=d,this.__childCache=null),x=0;x<g;++x)f.push(this.parentPath.get(this.name+x));if(f[0]!==this)throw new Error("")}}else if(g===1)this.value!==d&&(this.__childCache=null),this.value=m[this.name]=d,f.push(this);else if(g===0)delete m[this.name],delete this.value,this.__childCache=null;else throw new Error("Could not replace path");return f},i}Oe(()=>module);var qi=Object.prototype.hasOwnProperty;function bP(e){var r=e.use(Qe),t=r.Type,n=r.namedTypes,i=n.Node,s=n.Expression,o=r.builtInTypes.array,a=r.khulnasofts;let l=function x(b,E){if(!(this instanceof x))throw new Error("Scope constructor cannot be invoked without 'new'");c.check(b.value)||u.assert(b.value);var T;if(E){if(!(E instanceof x))throw new Error("");T=E.depth+1}else E=null,T=0;Object.defineProperties(this,{path:{value:b},node:{value:b.value},isGlobal:{value:!E,enumerable:!0},depth:{value:T},parent:{value:E},bindings:{value:{}},types:{value:{}}})};var u=t.or(n.Program,n.Function,n.CatchClause),c=t.or(n.Function,n.ClassDeclaration,n.ClassExpression,n.InterfaceDeclaration,n.TSInterfaceDeclaration,n.TypeAlias,n.TSTypeAliasDeclaration),p=t.or(n.TypeParameter,n.TSTypeParameter);l.isEstablishedBy=function(x){return u.check(x)||c.check(x)};var d=l.prototype;d.didScan=!1,d.declares=function(x){return this.scan(),qi.call(this.bindings,x)},d.declaresType=function(x){return this.scan(),qi.call(this.types,x)},d.declareTemporary=function(x){if(x){if(!/^[a-z$_]/i.test(x))throw new Error("")}else x="t$";x+=this.depth.toString(36)+"$",this.scan();for(var b=0;this.declares(x+b);)++b;var E=x+b;return this.bindings[E]=r.khulnasofts.identifier(E)},d.injectTemporary=function(x,b){x||(x=this.declareTemporary());var E=this.path.get("body");return n.BlockStatement.check(E.value)&&(E=E.get("body")),E.unshift(a.variableDeclaration("var",[a.variableDeclarator(x,b||null)])),x},d.scan=function(x){if(x||!this.didScan){for(var b in this.bindings)delete this.bindings[b];for(var b in this.types)delete this.types[b];f(this.path,this.bindings,this.types),this.didScan=!0}},d.getBindings=function(){return this.scan(),this.bindings},d.getTypes=function(){return this.scan(),this.types};function f(x,b,E){var T=x.value;if(c.check(T)){let R=x.get("typeParameters","params");o.check(R.value)&&R.each(B=>{C(B,E)})}u.check(T)&&(n.CatchClause.check(T)?y(x.get("param"),b):m(x,b,E))}function m(x,b,E){var T=x.value;x.parent&&n.FunctionExpression.check(x.parent.node)&&x.parent.node.id&&y(x.parent.get("id"),b),T&&(o.check(T)?x.each(R=>{g(R,b,E)}):n.Function.check(T)?(x.get("params").each(R=>{y(R,b)}),g(x.get("body"),b,E),m(x.get("typeParameters"),b,E)):n.TypeAlias&&n.TypeAlias.check(T)||n.InterfaceDeclaration&&n.InterfaceDeclaration.check(T)||n.TSTypeAliasDeclaration&&n.TSTypeAliasDeclaration.check(T)||n.TSInterfaceDeclaration&&n.TSInterfaceDeclaration.check(T)?D(x.get("id"),E):n.VariableDeclarator.check(T)?(y(x.get("id"),b),g(x.get("init"),b,E)):T.type==="ImportSpecifier"||T.type==="ImportNamespaceSpecifier"||T.type==="ImportDefaultSpecifier"?y(x.get(T.local?"local":T.name?"name":"id"),b):i.check(T)&&!s.check(T)&&r.eachField(T,function(R,B){var I=x.get(R);if(!h(I,B))throw new Error("");g(I,b,E)}))}function h(x,b){return!!(x.value===b||Array.isArray(x.value)&&x.value.length===0&&Array.isArray(b)&&b.length===0)}function g(x,b,E){var T=x.value;if(!(!T||s.check(T)))if(n.FunctionDeclaration.check(T)&&T.id!==null)y(x.get("id"),b);else if(n.ClassDeclaration&&n.ClassDeclaration.check(T)&&T.id!==null)y(x.get("id"),b),m(x.get("typeParameters"),b,E);else if(n.InterfaceDeclaration&&n.InterfaceDeclaration.check(T)||n.TSInterfaceDeclaration&&n.TSInterfaceDeclaration.check(T))D(x.get("id"),E);else if(u.check(T)){if(n.CatchClause.check(T)&&n.Identifier.check(T.param)){var R=T.param.name,B=qi.call(b,R);m(x.get("body"),b,E),B||delete b[R]}}else m(x,b,E)}function y(x,b){var E=x.value;n.Pattern.assert(E),n.Identifier.check(E)?qi.call(b,E.name)?b[E.name].push(x):b[E.name]=[x]:n.AssignmentPattern&&n.AssignmentPattern.check(E)?y(x.get("left"),b):n.ObjectPattern&&n.ObjectPattern.check(E)?x.get("properties").each(function(T){var R=T.value;n.Pattern.check(R)?y(T,b):n.Property.check(R)||n.ObjectProperty&&n.ObjectProperty.check(R)?y(T.get("value"),b):n.SpreadProperty&&n.SpreadProperty.check(R)&&y(T.get("argument"),b)}):n.ArrayPattern&&n.ArrayPattern.check(E)?x.get("elements").each(function(T){var R=T.value;n.Pattern.check(R)?y(T,b):n.SpreadElement&&n.SpreadElement.check(R)&&y(T.get("argument"),b)}):n.PropertyPattern&&n.PropertyPattern.check(E)?y(x.get("pattern"),b):(n.SpreadElementPattern&&n.SpreadElementPattern.check(E)||n.RestElement&&n.RestElement.check(E)||n.SpreadPropertyPattern&&n.SpreadPropertyPattern.check(E))&&y(x.get("argument"),b)}function D(x,b){var E=x.value;n.Pattern.assert(E),n.Identifier.check(E)&&(qi.call(b,E.name)?b[E.name].push(x):b[E.name]=[x])}function C(x,b){var E=x.value;p.assert(E),qi.call(b,E.name)?b[E.name].push(x):b[E.name]=[x]}return d.lookup=function(x){for(var b=this;b&&!b.declares(x);b=b.parent);return b},d.lookupType=function(x){for(var b=this;b&&!b.declaresType(x);b=b.parent);return b},d.getGlobalScope=function(){for(var x=this;!x.isGlobal;)x=x.parent;return x},l}Oe(()=>module);function hD(e){var r=e.use(Qe),t=r.namedTypes,n=r.khulnasofts,i=r.builtInTypes.number,s=r.builtInTypes.array,o=e.use(mD),a=e.use(bP);let l=function g(y,D,C){if(!(this instanceof g))throw new Error("NodePath constructor cannot be invoked without 'new'");o.call(this,y,D,C)};var u=l.prototype=Object.create(o.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}});Object.defineProperties(u,{node:{get:function(){return Object.defineProperty(this,"node",{configurable:!0,value:this._computeNode()}),this.node}},parent:{get:function(){return Object.defineProperty(this,"parent",{configurable:!0,value:this._computeParent()}),this.parent}},scope:{get:function(){return Object.defineProperty(this,"scope",{configurable:!0,value:this._computeScope()}),this.scope}}}),u.replace=function(){return delete this.node,delete this.parent,delete this.scope,o.prototype.replace.apply(this,arguments)},u.prune=function(){var g=this.parent;return this.replace(),m(g)},u._computeNode=function(){var g=this.value;if(t.Node.check(g))return g;var y=this.parentPath;return y&&y.node||null},u._computeParent=function(){var g=this.value,y=this.parentPath;if(!t.Node.check(g)){for(;y&&!t.Node.check(y.value);)y=y.parentPath;y&&(y=y.parentPath)}for(;y&&!t.Node.check(y.value);)y=y.parentPath;return y||null},u._computeScope=function(){var g=this.value,y=this.parentPath,D=y&&y.scope;return t.Node.check(g)&&a.isEstablishedBy(g)&&(D=new a(this,D)),D||null},u.getValueProperty=function(g){return r.getFieldValue(this.value,g)},u.needsParens=function(g){var y=this.parentPath;if(!y)return!1;var D=this.value;if(!t.Expression.check(D)||D.type==="Identifier")return!1;for(;!t.Node.check(y.value);)if(y=y.parentPath,!y)return!1;var C=y.value;switch(D.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return C.type==="MemberExpression"&&this.name==="object"&&C.object===D;case"BinaryExpression":case"LogicalExpression":switch(C.type){case"CallExpression":return this.name==="callee"&&C.callee===D;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return this.name==="object"&&C.object===D;case"BinaryExpression":case"LogicalExpression":{let x=D,b=C.operator,E=p[b],T=x.operator,R=p[T];if(E>R)return!0;if(E===R&&this.name==="right"){if(C.right!==x)throw new Error("Nodes must be equal");return!0}}default:return!1}case"SequenceExpression":switch(C.type){case"ForStatement":return!1;case"ExpressionStatement":return this.name!=="expression";default:return!0}case"YieldExpression":switch(C.type){case"BinaryExpression":case"LogicalExpression":case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"CallExpression":case"MemberExpression":case"NewExpression":case"ConditionalExpression":case"YieldExpression":return!0;default:return!1}case"Literal":return C.type==="MemberExpression"&&i.check(D.value)&&this.name==="object"&&C.object===D;case"AssignmentExpression":case"ConditionalExpression":switch(C.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":return this.name==="callee"&&C.callee===D;case"ConditionalExpression":return this.name==="test"&&C.test===D;case"MemberExpression":return this.name==="object"&&C.object===D;default:return!1}default:if(C.type==="NewExpression"&&this.name==="callee"&&C.callee===D)return d(D)}return!!(g!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function c(g){return t.BinaryExpression.check(g)||t.LogicalExpression.check(g)}var p={};[["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]].forEach(function(g,y){g.forEach(function(D){p[D]=y})});function d(g){return t.CallExpression.check(g)?!0:s.check(g)?g.some(d):t.Node.check(g)?r.someField(g,function(y,D){return d(D)}):!1}u.canBeFirstInStatement=function(){var g=this.node;return!t.FunctionExpression.check(g)&&!t.ObjectExpression.check(g)},u.firstInStatement=function(){return f(this)};function f(g){for(var y,D;g.parent;g=g.parent){if(y=g.node,D=g.parent.node,t.BlockStatement.check(D)&&g.parent.name==="body"&&g.name===0){if(D.body[0]!==y)throw new Error("Nodes must be equal");return!0}if(t.ExpressionStatement.check(D)&&g.name==="expression"){if(D.expression!==y)throw new Error("Nodes must be equal");return!0}if(t.SequenceExpression.check(D)&&g.parent.name==="expressions"&&g.name===0){if(D.expressions[0]!==y)throw new Error("Nodes must be equal");continue}if(t.CallExpression.check(D)&&g.name==="callee"){if(D.callee!==y)throw new Error("Nodes must be equal");continue}if(t.MemberExpression.check(D)&&g.name==="object"){if(D.object!==y)throw new Error("Nodes must be equal");continue}if(t.ConditionalExpression.check(D)&&g.name==="test"){if(D.test!==y)throw new Error("Nodes must be equal");continue}if(c(D)&&g.name==="left"){if(D.left!==y)throw new Error("Nodes must be equal");continue}if(t.UnaryExpression.check(D)&&!D.prefix&&g.name==="argument"){if(D.argument!==y)throw new Error("Nodes must be equal");continue}return!1}return!0}function m(g){if(t.VariableDeclaration.check(g.node)){var y=g.get("declarations").value;if(!y||y.length===0)return g.prune()}else if(t.ExpressionStatement.check(g.node)){if(!g.get("expression").value)return g.prune()}else t.IfStatement.check(g.node)&&h(g);return g}function h(g){var y=g.get("test").value,D=g.get("alternate").value,C=g.get("consequent").value;if(!C&&!D){var x=n.expressionStatement(y);g.replace(x)}else if(!C&&D){var b=n.unaryExpression("!",y,!0);t.UnaryExpression.check(y)&&y.operator==="!"&&(b=y.argument),g.get("test").replace(b),g.get("consequent").replace(D),g.get("alternate").replace()}}return l}Oe(()=>module);var _a=Object.prototype.hasOwnProperty;function xP(e){var r=e.use(Qe),t=e.use(hD),n=r.builtInTypes.array,i=r.builtInTypes.object,s=r.builtInTypes.function,o;let a=function m(){if(!(this instanceof m))throw new Error("PathVisitor constructor cannot be invoked without 'new'");this._reusableContextStack=[],this._methodNameTable=l(this),this._shouldVisitComments=_a.call(this._methodNameTable,"Block")||_a.call(this._methodNameTable,"Line"),this.Context=d(this),this._visiting=!1,this._changeReported=!1};function l(m){var h=Object.create(null);for(var g in m)/^visit[A-Z]/.test(g)&&(h[g.slice(5)]=!0);for(var y=r.computeSupertypeLookupTable(h),D=Object.create(null),C=Object.keys(y),x=C.length,b=0;b<x;++b){var E=C[b];g="visit"+y[E],s.check(m[g])&&(D[E]=g)}return D}a.fromMethodsObject=function(h){if(h instanceof a)return h;if(!i.check(h))return new a;let g=function D(){if(!(this instanceof D))throw new Error("Visitor constructor cannot be invoked without 'new'");a.call(this)};var y=g.prototype=Object.create(c);return y.constructor=g,u(y,h),u(g,a),s.assert(g.fromMethodsObject),s.assert(g.visit),new g};function u(m,h){for(var g in h)_a.call(h,g)&&(m[g]=h[g]);return m}a.visit=function(h,g){return a.fromMethodsObject(g).visit(h)};var c=a.prototype;c.visit=function(){if(this._visiting)throw new Error("Recursively calling visitor.visit(path) resets visitor state. Try this.visit(path) or this.traverse(path) instead.");this._visiting=!0,this._changeReported=!1,this._abortRequested=!1;for(var m=arguments.length,h=new Array(m),g=0;g<m;++g)h[g]=arguments[g];h[0]instanceof t||(h[0]=new t({root:h[0]}).get("root")),this.reset.apply(this,h);var y;try{var D=this.visitWithoutReset(h[0]);y=!0}finally{if(this._visiting=!1,!y&&this._abortRequested)return h[0].value}return D},c.AbortRequest=function(){},c.abort=function(){var m=this;m._abortRequested=!0;var h=new m.AbortRequest;throw h.cancel=function(){m._abortRequested=!1},h},c.reset=function(m){},c.visitWithoutReset=function(m){if(this instanceof this.Context)return this.visitor.visitWithoutReset(m);if(!(m instanceof t))throw new Error("");var h=m.value,g=h&&typeof h=="object"&&typeof h.type=="string"&&this._methodNameTable[h.type];if(g){var y=this.acquireContext(m);try{return y.invokeVisitorMethod(g)}finally{this.releaseContext(y)}}else return p(m,this)};function p(m,h){if(!(m instanceof t))throw new Error("");if(!(h instanceof a))throw new Error("");var g=m.value;if(n.check(g))m.each(h.visitWithoutReset,h);else if(i.check(g)){var y=r.getFieldNames(g);h._shouldVisitComments&&g.comments&&y.indexOf("comments")<0&&y.push("comments");for(var D=y.length,C=[],x=0;x<D;++x){var b=y[x];_a.call(g,b)||(g[b]=r.getFieldValue(g,b)),C.push(m.get(b))}for(var x=0;x<D;++x)h.visitWithoutReset(C[x])}return m.value}c.acquireContext=function(m){return this._reusableContextStack.length===0?new this.Context(m):this._reusableContextStack.pop().reset(m)},c.releaseContext=function(m){if(!(m instanceof this.Context))throw new Error("");this._reusableContextStack.push(m),m.currentPath=null},c.reportChanged=function(){this._changeReported=!0},c.wasChangeReported=function(){return this._changeReported};function d(m){function h(y){if(!(this instanceof h))throw new Error("");if(!(this instanceof a))throw new Error("");if(!(y instanceof t))throw new Error("");Object.defineProperty(this,"visitor",{value:m,writable:!1,enumerable:!0,configurable:!1}),this.currentPath=y,this.needToCallTraverse=!0,Object.seal(this)}if(!(m instanceof a))throw new Error("");var g=h.prototype=Object.create(m);return g.constructor=h,u(g,f),h}var f=Object.create(null);return f.reset=function(h){if(!(this instanceof this.Context))throw new Error("");if(!(h instanceof t))throw new Error("");return this.currentPath=h,this.needToCallTraverse=!0,this},f.invokeVisitorMethod=function(h){if(!(this instanceof this.Context))throw new Error("");if(!(this.currentPath instanceof t))throw new Error("");var g=this.visitor[h].call(this,this.currentPath);if(g===!1?this.needToCallTraverse=!1:g!==o&&(this.currentPath=this.currentPath.replace(g)[0],this.needToCallTraverse&&this.traverse(this.currentPath)),this.needToCallTraverse!==!1)throw new Error("Must either call this.traverse or return false in "+h);var y=this.currentPath;return y&&y.value},f.traverse=function(h,g){if(!(this instanceof this.Context))throw new Error("");if(!(h instanceof t))throw new Error("");if(!(this.currentPath instanceof t))throw new Error("");return this.needToCallTraverse=!1,p(h,a.fromMethodsObject(g||this.visitor))},f.visit=function(h,g){if(!(this instanceof this.Context))throw new Error("");if(!(h instanceof t))throw new Error("");if(!(this.currentPath instanceof t))throw new Error("");return this.needToCallTraverse=!1,a.fromMethodsObject(g||this.visitor).visitWithoutReset(h)},f.reportChanged=function(){this.visitor.reportChanged()},f.abort=function(){this.needToCallTraverse=!1,this.visitor.abort()},a}Oe(()=>module);function EP(e){var r=e.use(Qe),t=r.getFieldNames,n=r.getFieldValue,i=r.builtInTypes.array,s=r.builtInTypes.object,o=r.builtInTypes.Date,a=r.builtInTypes.RegExp,l=Object.prototype.hasOwnProperty;function u(m,h,g){return i.check(g)?g.length=0:g=null,p(m,h,g)}u.assert=function(m,h){var g=[];if(!u(m,h,g))if(g.length===0){if(m!==h)throw new Error("Nodes must be equal")}else throw new Error("Nodes differ in the following path: "+g.map(c).join(""))};function c(m){return/[_$a-z][_$a-z0-9]*/i.test(m)?"."+m:"["+JSON.stringify(m)+"]"}function p(m,h,g){return m===h?!0:i.check(m)?d(m,h,g):s.check(m)?f(m,h,g):o.check(m)?o.check(h)&&+m==+h:a.check(m)?a.check(h)&&m.source===h.source&&m.global===h.global&&m.multiline===h.multiline&&m.ignoreCase===h.ignoreCase:m==h}function d(m,h,g){i.assert(m);var y=m.length;if(!i.check(h)||h.length!==y)return g&&g.push("length"),!1;for(var D=0;D<y;++D){if(g&&g.push(D),D in m!=D in h||!p(m[D],h[D],g))return!1;if(g){var C=g.pop();if(C!==D)throw new Error(""+C)}}return!0}function f(m,h,g){if(s.assert(m),!s.check(h))return!1;if(m.type!==h.type)return g&&g.push("type"),!1;var y=t(m),D=y.length,C=t(h),x=C.length;if(D===x){for(var b=0;b<D;++b){var E=y[b],T=n(m,E),R=n(h,E);if(g&&g.push(E),!p(T,R,g))return!1;if(g){var B=g.pop();if(B!==E)throw new Error(""+B)}}return!0}if(!g)return!1;var I=Object.create(null);for(b=0;b<D;++b)I[y[b]]=!0;for(b=0;b<x;++b){if(E=C[b],!l.call(I,E))return g.push(E),!1;delete I[E]}for(E in I){g.push(E);break}return!1}return u}Oe(()=>module);function CP(e){let r=SP(),t=r.use(Qe);e.forEach(r.use),t.finalize();let n=r.use(xP);return{Type:t.Type,builtInTypes:t.builtInTypes,namedTypes:t.namedTypes,khulnasofts:t.khulnasofts,defineMethod:t.defineMethod,getFieldNames:t.getFieldNames,getFieldValue:t.getFieldValue,eachField:t.eachField,someField:t.someField,getSupertypeNames:t.getSupertypeNames,getKhulnasoftName:t.getKhulnasoftName,astNodesAreEquivalent:r.use(EP),finalize:t.finalize,Path:r.use(mD),NodePath:r.use(hD),PathVisitor:n,use:r.use,visit:n.visit}}function SP(){let e=[],r=[];function t(i){var s=e.indexOf(i);return s===-1&&(s=e.length,e.push(i),r[s]=i(n)),r[s]}var n={use:t};return n}Oe(()=>module);function gD(){return{BinaryOperators:["==","!=","===","!==","<","<=",">",">=","<<",">>",">>>","+","-","*","/","%","&","|","^","in","instanceof"],AssignmentOperators:["=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","|=","^=","&="],LogicalOperators:["||","&&"]}}Oe(()=>module);function yD(e){let r=e.use(gD);return r.BinaryOperators.indexOf("**")<0&&r.BinaryOperators.push("**"),r.AssignmentOperators.indexOf("**=")<0&&r.AssignmentOperators.push("**="),r}Oe(()=>module);function DD(e){let r=e.use(yD);return r.LogicalOperators.indexOf("??")<0&&r.LogicalOperators.push("??"),r}Oe(()=>module);function wP(e){let r=e.use(DD);return r.LogicalOperators.forEach(t=>{let n=t+"=";r.AssignmentOperators.indexOf(n)<0&&r.AssignmentOperators.push(n)}),r}Oe(()=>module);function TP(e){var r=e.use(Qe),t=r.Type,n=t.def,i=t.or,s=e.use(Gt),o=s.defaults,a=s.geq;let{BinaryOperators:l,AssignmentOperators:u,LogicalOperators:c}=e.use(gD);n("Printable").field("loc",i(n("SourceLocation"),null),o.null,!0),n("Node").bases("Printable").field("type",String).field("comments",i([n("Comment")],null),o.null,!0),n("SourceLocation").field("start",n("Position")).field("end",n("Position")).field("source",i(String,null),o.null),n("Position").field("line",a(1)).field("column",a(0)),n("File").bases("Node").build("program","name").field("program",n("Program")).field("name",i(String,null),o.null),n("Program").bases("Node").build("body").field("body",[n("Statement")]),n("Function").bases("Node").field("id",i(n("Identifier"),null),o.null).field("params",[n("Pattern")]).field("body",n("BlockStatement")).field("generator",Boolean,o.false).field("async",Boolean,o.false),n("Statement").bases("Node"),n("EmptyStatement").bases("Statement").build(),n("BlockStatement").bases("Statement").build("body").field("body",[n("Statement")]),n("ExpressionStatement").bases("Statement").build("expression").field("expression",n("Expression")),n("IfStatement").bases("Statement").build("test","consequent","alternate").field("test",n("Expression")).field("consequent",n("Statement")).field("alternate",i(n("Statement"),null),o.null),n("LabeledStatement").bases("Statement").build("label","body").field("label",n("Identifier")).field("body",n("Statement")),n("BreakStatement").bases("Statement").build("label").field("label",i(n("Identifier"),null),o.null),n("ContinueStatement").bases("Statement").build("label").field("label",i(n("Identifier"),null),o.null),n("WithStatement").bases("Statement").build("object","body").field("object",n("Expression")).field("body",n("Statement")),n("SwitchStatement").bases("Statement").build("discriminant","cases","lexical").field("discriminant",n("Expression")).field("cases",[n("SwitchCase")]).field("lexical",Boolean,o.false),n("ReturnStatement").bases("Statement").build("argument").field("argument",i(n("Expression"),null)),n("ThrowStatement").bases("Statement").build("argument").field("argument",n("Expression")),n("TryStatement").bases("Statement").build("block","handler","finalizer").field("block",n("BlockStatement")).field("handler",i(n("CatchClause"),null),function(){return this.handlers&&this.handlers[0]||null}).field("handlers",[n("CatchClause")],function(){return this.handler?[this.handler]:[]},!0).field("guardedHandlers",[n("CatchClause")],o.emptyArray).field("finalizer",i(n("BlockStatement"),null),o.null),n("CatchClause").bases("Node").build("param","guard","body").field("param",n("Pattern")).field("guard",i(n("Expression"),null),o.null).field("body",n("BlockStatement")),n("WhileStatement").bases("Statement").build("test","body").field("test",n("Expression")).field("body",n("Statement")),n("DoWhileStatement").bases("Statement").build("body","test").field("body",n("Statement")).field("test",n("Expression")),n("ForStatement").bases("Statement").build("init","test","update","body").field("init",i(n("VariableDeclaration"),n("Expression"),null)).field("test",i(n("Expression"),null)).field("update",i(n("Expression"),null)).field("body",n("Statement")),n("ForInStatement").bases("Statement").build("left","right","body").field("left",i(n("VariableDeclaration"),n("Expression"))).field("right",n("Expression")).field("body",n("Statement")),n("DebuggerStatement").bases("Statement").build(),n("Declaration").bases("Statement"),n("FunctionDeclaration").bases("Function","Declaration").build("id","params","body").field("id",n("Identifier")),n("FunctionExpression").bases("Function","Expression").build("id","params","body"),n("VariableDeclaration").bases("Declaration").build("kind","declarations").field("kind",i("var","let","const")).field("declarations",[n("VariableDeclarator")]),n("VariableDeclarator").bases("Node").build("id","init").field("id",n("Pattern")).field("init",i(n("Expression"),null),o.null),n("Expression").bases("Node"),n("ThisExpression").bases("Expression").build(),n("ArrayExpression").bases("Expression").build("elements").field("elements",[i(n("Expression"),null)]),n("ObjectExpression").bases("Expression").build("properties").field("properties",[n("Property")]),n("Property").bases("Node").build("kind","key","value").field("kind",i("init","get","set")).field("key",i(n("Literal"),n("Identifier"))).field("value",n("Expression")),n("SequenceExpression").bases("Expression").build("expressions").field("expressions",[n("Expression")]);var p=i("-","+","!","~","typeof","void","delete");n("UnaryExpression").bases("Expression").build("operator","argument","prefix").field("operator",p).field("argument",n("Expression")).field("prefix",Boolean,o.true);let d=i(...l);n("BinaryExpression").bases("Expression").build("operator","left","right").field("operator",d).field("left",n("Expression")).field("right",n("Expression"));let f=i(...u);n("AssignmentExpression").bases("Expression").build("operator","left","right").field("operator",f).field("left",i(n("Pattern"),n("MemberExpression"))).field("right",n("Expression"));var m=i("++","--");n("UpdateExpression").bases("Expression").build("operator","argument","prefix").field("operator",m).field("argument",n("Expression")).field("prefix",Boolean);var h=i(...c);n("LogicalExpression").bases("Expression").build("operator","left","right").field("operator",h).field("left",n("Expression")).field("right",n("Expression")),n("ConditionalExpression").bases("Expression").build("test","consequent","alternate").field("test",n("Expression")).field("consequent",n("Expression")).field("alternate",n("Expression")),n("NewExpression").bases("Expression").build("callee","arguments").field("callee",n("Expression")).field("arguments",[n("Expression")]),n("CallExpression").bases("Expression").build("callee","arguments").field("callee",n("Expression")).field("arguments",[n("Expression")]),n("MemberExpression").bases("Expression").build("object","property","computed").field("object",n("Expression")).field("property",i(n("Identifier"),n("Expression"))).field("computed",Boolean,function(){var g=this.property.type;return g==="Literal"||g==="MemberExpression"||g==="BinaryExpression"}),n("Pattern").bases("Node"),n("SwitchCase").bases("Node").build("test","consequent").field("test",i(n("Expression"),null)).field("consequent",[n("Statement")]),n("Identifier").bases("Expression","Pattern").build("name").field("name",String).field("optional",Boolean,o.false),n("Literal").bases("Expression").build("value").field("value",i(String,Boolean,null,Number,RegExp,BigInt)),n("Comment").bases("Printable").field("value",String).field("leading",Boolean,o.true).field("trailing",Boolean,o.false)}Oe(()=>module);function AP(e){e.use(TP);let r=e.use(Qe),t=r.Type.def,n=r.Type.or,i=e.use(Gt).defaults;t("Function").field("generator",Boolean,i.false).field("expression",Boolean,i.false).field("defaults",[n(t("Expression"),null)],i.emptyArray).field("rest",n(t("Identifier"),null),i.null),t("RestElement").bases("Pattern").build("argument").field("argument",t("Pattern")).field("typeAnnotation",n(t("TypeAnnotation"),t("TSTypeAnnotation"),null),i.null),t("SpreadElementPattern").bases("Pattern").build("argument").field("argument",t("Pattern")),t("FunctionDeclaration").build("id","params","body","generator","expression").field("id",n(t("Identifier"),null)),t("FunctionExpression").build("id","params","body","generator","expression"),t("ArrowFunctionExpression").bases("Function","Expression").build("params","body","expression").field("id",null,i.null).field("body",n(t("BlockStatement"),t("Expression"))).field("generator",!1,i.false),t("ForOfStatement").bases("Statement").build("left","right","body").field("left",n(t("VariableDeclaration"),t("Pattern"))).field("right",t("Expression")).field("body",t("Statement")),t("YieldExpression").bases("Expression").build("argument","delegate").field("argument",n(t("Expression"),null)).field("delegate",Boolean,i.false),t("GeneratorExpression").bases("Expression").build("body","blocks","filter").field("body",t("Expression")).field("blocks",[t("ComprehensionBlock")]).field("filter",n(t("Expression"),null)),t("ComprehensionExpression").bases("Expression").build("body","blocks","filter").field("body",t("Expression")).field("blocks",[t("ComprehensionBlock")]).field("filter",n(t("Expression"),null)),t("ComprehensionBlock").bases("Node").build("left","right","each").field("left",t("Pattern")).field("right",t("Expression")).field("each",Boolean),t("Property").field("key",n(t("Literal"),t("Identifier"),t("Expression"))).field("value",n(t("Expression"),t("Pattern"))).field("method",Boolean,i.false).field("shorthand",Boolean,i.false).field("computed",Boolean,i.false),t("ObjectProperty").field("shorthand",Boolean,i.false),t("PropertyPattern").bases("Pattern").build("key","pattern").field("key",n(t("Literal"),t("Identifier"),t("Expression"))).field("pattern",t("Pattern")).field("computed",Boolean,i.false),t("ObjectPattern").bases("Pattern").build("properties").field("properties",[n(t("PropertyPattern"),t("Property"))]),t("ArrayPattern").bases("Pattern").build("elements").field("elements",[n(t("Pattern"),null)]),t("SpreadElement").bases("Node").build("argument").field("argument",t("Expression")),t("ArrayExpression").field("elements",[n(t("Expression"),t("SpreadElement"),t("RestElement"),null)]),t("NewExpression").field("arguments",[n(t("Expression"),t("SpreadElement"))]),t("CallExpression").field("arguments",[n(t("Expression"),t("SpreadElement"))]),t("AssignmentPattern").bases("Pattern").build("left","right").field("left",t("Pattern")).field("right",t("Expression")),t("MethodDefinition").bases("Declaration").build("kind","key","value","static").field("kind",n("constructor","method","get","set")).field("key",t("Expression")).field("value",t("Function")).field("computed",Boolean,i.false).field("static",Boolean,i.false);let s=n(t("MethodDefinition"),t("VariableDeclarator"),t("ClassPropertyDefinition"),t("ClassProperty"),t("StaticBlock"));t("ClassProperty").bases("Declaration").build("key").field("key",n(t("Literal"),t("Identifier"),t("Expression"))).field("computed",Boolean,i.false),t("ClassPropertyDefinition").bases("Declaration").build("definition").field("definition",s),t("ClassBody").bases("Declaration").build("body").field("body",[s]),t("ClassDeclaration").bases("Declaration").build("id","body","superClass").field("id",n(t("Identifier"),null)).field("body",t("ClassBody")).field("superClass",n(t("Expression"),null),i.null),t("ClassExpression").bases("Expression").build("id","body","superClass").field("id",n(t("Identifier"),null),i.null).field("body",t("ClassBody")).field("superClass",n(t("Expression"),null),i.null),t("Super").bases("Expression").build(),t("Specifier").bases("Node"),t("ModuleSpecifier").bases("Specifier").field("local",n(t("Identifier"),null),i.null).field("id",n(t("Identifier"),null),i.null).field("name",n(t("Identifier"),null),i.null),t("ImportSpecifier").bases("ModuleSpecifier").build("imported","local").field("imported",t("Identifier")),t("ImportDefaultSpecifier").bases("ModuleSpecifier").build("local"),t("ImportNamespaceSpecifier").bases("ModuleSpecifier").build("local"),t("ImportDeclaration").bases("Declaration").build("specifiers","source","importKind").field("specifiers",[n(t("ImportSpecifier"),t("ImportNamespaceSpecifier"),t("ImportDefaultSpecifier"))],i.emptyArray).field("source",t("Literal")).field("importKind",n("value","type"),function(){return"value"}),t("ExportNamedDeclaration").bases("Declaration").build("declaration","specifiers","source").field("declaration",n(t("Declaration"),null)).field("specifiers",[t("ExportSpecifier")],i.emptyArray).field("source",n(t("Literal"),null),i.null),t("ExportSpecifier").bases("ModuleSpecifier").build("local","exported").field("exported",t("Identifier")),t("ExportDefaultDeclaration").bases("Declaration").build("declaration").field("declaration",n(t("Declaration"),t("Expression"))),t("ExportAllDeclaration").bases("Declaration").build("source").field("source",t("Literal")),t("TaggedTemplateExpression").bases("Expression").build("tag","quasi").field("tag",t("Expression")).field("quasi",t("TemplateLiteral")),t("TemplateLiteral").bases("Expression").build("quasis","expressions").field("quasis",[t("TemplateElement")]).field("expressions",[t("Expression")]),t("TemplateElement").bases("Node").build("value","tail").field("value",{cooked:String,raw:String}).field("tail",Boolean),t("MetaProperty").bases("Expression").build("meta","property").field("meta",t("Identifier")).field("property",t("Identifier"))}Oe(()=>module);function vP(e){e.use(yD),e.use(AP)}Oe(()=>module);function PP(e){e.use(vP);let t=e.use(Qe).Type.def,n=e.use(Gt).defaults;t("Function").field("async",Boolean,n.false),t("AwaitExpression").bases("Expression").build("argument").field("argument",t("Expression"))}Oe(()=>module);function IP(e){e.use(PP);let r=e.use(Qe),t=r.Type.def,n=r.Type.or,i=e.use(Gt).defaults;t("ForOfStatement").field("await",Boolean,i.false),t("SpreadProperty").bases("Node").build("argument").field("argument",t("Expression")),t("ObjectExpression").field("properties",[n(t("Property"),t("SpreadProperty"),t("SpreadElement"))]),t("TemplateElement").field("value",{cooked:n(String,null),raw:String}),t("SpreadPropertyPattern").bases("Pattern").build("argument").field("argument",t("Pattern")),t("ObjectPattern").field("properties",[n(t("PropertyPattern"),t("Property"),t("RestElement"),t("SpreadPropertyPattern"))])}Oe(()=>module);function NP(e){e.use(IP);let r=e.use(Qe),t=r.Type.def,n=r.Type.or,i=e.use(Gt).defaults;t("CatchClause").field("param",n(t("Pattern"),null),i.null)}Oe(()=>module);function FP(e){e.use(DD),e.use(NP);let r=e.use(Qe),t=r.Type.def,n=r.Type.or,s=e.use(Gt).defaults;t("ImportExpression").bases("Expression").build("source").field("source",t("Expression")),t("ExportAllDeclaration").bases("Declaration").build("source","exported").field("source",t("Literal")).field("exported",n(t("Identifier"),null,void 0),s.null),t("ChainElement").bases("Node").field("optional",Boolean,s.false),t("CallExpression").bases("Expression","ChainElement"),t("MemberExpression").bases("Expression","ChainElement"),t("ChainExpression").bases("Expression").build("expression").field("expression",t("ChainElement")),t("OptionalCallExpression").bases("CallExpression").build("callee","arguments","optional").field("optional",Boolean,s.true),t("OptionalMemberExpression").bases("MemberExpression").build("object","property","computed","optional").field("optional",Boolean,s.true)}Oe(()=>module);function _P(e){e.use(wP),e.use(FP)}Oe(()=>module);function kP(e){e.use(_P);let t=e.use(Qe).Type.def;t("StaticBlock").bases("Declaration").build("body").field("body",[t("Statement")])}Oe(()=>module);function lo(e){e.use(kP);let r=e.use(Qe),t=r.Type,n=r.Type.def,i=t.or,o=e.use(Gt).defaults;n("AwaitExpression").build("argument","all").field("argument",i(n("Expression"),null)).field("all",Boolean,o.false),n("Decorator").bases("Node").build("expression").field("expression",n("Expression")),n("Property").field("decorators",i([n("Decorator")],null),o.null),n("MethodDefinition").field("decorators",i([n("Decorator")],null),o.null),n("PrivateName").bases("Expression","Pattern").build("id").field("id",n("Identifier")),n("ClassPrivateProperty").bases("ClassProperty").build("key","value").field("key",n("PrivateName")).field("value",i(n("Expression"),null),o.null),n("ImportAttribute").bases("Node").build("key","value").field("key",i(n("Identifier"),n("Literal"))).field("value",n("Expression")),["ImportDeclaration","ExportAllDeclaration","ExportNamedDeclaration"].forEach(a=>{n(a).field("assertions",[n("ImportAttribute")],o.emptyArray)}),n("RecordExpression").bases("Expression").build("properties").field("properties",[i(n("ObjectProperty"),n("ObjectMethod"),n("SpreadElement"))]),n("TupleExpression").bases("Expression").build("elements").field("elements",[i(n("Expression"),n("SpreadElement"),null)]),n("ModuleExpression").bases("Node").build("body").field("body",n("Program"))}Oe(()=>module);function OP(e){e.use(lo);let r=e.use(Qe),t=r.Type.def,n=r.Type.or,i=e.use(Gt).defaults;t("JSXAttribute").bases("Node").build("name","value").field("name",n(t("JSXIdentifier"),t("JSXNamespacedName"))).field("value",n(t("Literal"),t("JSXExpressionContainer"),t("JSXElement"),t("JSXFragment"),null),i.null),t("JSXIdentifier").bases("Identifier").build("name").field("name",String),t("JSXNamespacedName").bases("Node").build("namespace","name").field("namespace",t("JSXIdentifier")).field("name",t("JSXIdentifier")),t("JSXMemberExpression").bases("MemberExpression").build("object","property").field("object",n(t("JSXIdentifier"),t("JSXMemberExpression"))).field("property",t("JSXIdentifier")).field("computed",Boolean,i.false);let s=n(t("JSXIdentifier"),t("JSXNamespacedName"),t("JSXMemberExpression"));t("JSXSpreadAttribute").bases("Node").build("argument").field("argument",t("Expression"));let o=[n(t("JSXAttribute"),t("JSXSpreadAttribute"))];t("JSXExpressionContainer").bases("Expression").build("expression").field("expression",n(t("Expression"),t("JSXEmptyExpression")));let a=[n(t("JSXText"),t("JSXExpressionContainer"),t("JSXSpreadChild"),t("JSXElement"),t("JSXFragment"),t("Literal"))];t("JSXElement").bases("Expression").build("openingElement","closingElement","children").field("openingElement",t("JSXOpeningElement")).field("closingElement",n(t("JSXClosingElement"),null),i.null).field("children",a,i.emptyArray).field("name",s,function(){return this.openingElement.name},!0).field("selfClosing",Boolean,function(){return this.openingElement.selfClosing},!0).field("attributes",o,function(){return this.openingElement.attributes},!0),t("JSXOpeningElement").bases("Node").build("name","attributes","selfClosing").field("name",s).field("attributes",o,i.emptyArray).field("selfClosing",Boolean,i.false),t("JSXClosingElement").bases("Node").build("name").field("name",s),t("JSXFragment").bases("Expression").build("openingFragment","closingFragment","children").field("openingFragment",t("JSXOpeningFragment")).field("closingFragment",t("JSXClosingFragment")).field("children",a,i.emptyArray),t("JSXOpeningFragment").bases("Node").build(),t("JSXClosingFragment").bases("Node").build(),t("JSXText").bases("Literal").build("value","raw").field("value",String).field("raw",String,function(){return this.value}),t("JSXEmptyExpression").bases("Node").build(),t("JSXSpreadChild").bases("Node").build("expression").field("expression",t("Expression"))}Oe(()=>module);function bD(e){var r=e.use(Qe),t=r.Type.def,n=r.Type.or,i=e.use(Gt).defaults,s=n(t("TypeAnnotation"),t("TSTypeAnnotation"),null),o=n(t("TypeParameterDeclaration"),t("TSTypeParameterDeclaration"),null);t("Identifier").field("typeAnnotation",s,i.null),t("ObjectPattern").field("typeAnnotation",s,i.null),t("Function").field("returnType",s,i.null).field("typeParameters",o,i.null),t("ClassProperty").build("key","value","typeAnnotation","static").field("value",n(t("Expression"),null)).field("static",Boolean,i.false).field("typeAnnotation",s,i.null),["ClassDeclaration","ClassExpression"].forEach(a=>{t(a).field("typeParameters",o,i.null).field("superTypeParameters",n(t("TypeParameterInstantiation"),t("TSTypeParameterInstantiation"),null),i.null).field("implements",n([t("ClassImplements")],[t("TSExpressionWithTypeArguments")]),i.emptyArray)})}Oe(()=>module);function xD(e){e.use(lo),e.use(bD);let r=e.use(Qe),t=r.Type.def,n=r.Type.or,i=e.use(Gt).defaults;t("Flow").bases("Node"),t("FlowType").bases("Flow"),t("AnyTypeAnnotation").bases("FlowType").build(),t("EmptyTypeAnnotation").bases("FlowType").build(),t("MixedTypeAnnotation").bases("FlowType").build(),t("VoidTypeAnnotation").bases("FlowType").build(),t("SymbolTypeAnnotation").bases("FlowType").build(),t("NumberTypeAnnotation").bases("FlowType").build(),t("BigIntTypeAnnotation").bases("FlowType").build(),t("NumberLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),t("NumericLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Number).field("raw",String),t("BigIntLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",null).field("raw",String),t("StringTypeAnnotation").bases("FlowType").build(),t("StringLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",String).field("raw",String),t("BooleanTypeAnnotation").bases("FlowType").build(),t("BooleanLiteralTypeAnnotation").bases("FlowType").build("value","raw").field("value",Boolean).field("raw",String),t("TypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",t("FlowType")),t("NullableTypeAnnotation").bases("FlowType").build("typeAnnotation").field("typeAnnotation",t("FlowType")),t("NullLiteralTypeAnnotation").bases("FlowType").build(),t("NullTypeAnnotation").bases("FlowType").build(),t("ThisTypeAnnotation").bases("FlowType").build(),t("ExistsTypeAnnotation").bases("FlowType").build(),t("ExistentialTypeParam").bases("FlowType").build(),t("FunctionTypeAnnotation").bases("FlowType").build("params","returnType","rest","typeParameters").field("params",[t("FunctionTypeParam")]).field("returnType",t("FlowType")).field("rest",n(t("FunctionTypeParam"),null)).field("typeParameters",n(t("TypeParameterDeclaration"),null)),t("FunctionTypeParam").bases("Node").build("name","typeAnnotation","optional").field("name",n(t("Identifier"),null)).field("typeAnnotation",t("FlowType")).field("optional",Boolean),t("ArrayTypeAnnotation").bases("FlowType").build("elementType").field("elementType",t("FlowType")),t("ObjectTypeAnnotation").bases("FlowType").build("properties","indexers","callProperties").field("properties",[n(t("ObjectTypeProperty"),t("ObjectTypeSpreadProperty"))]).field("indexers",[t("ObjectTypeIndexer")],i.emptyArray).field("callProperties",[t("ObjectTypeCallProperty")],i.emptyArray).field("inexact",n(Boolean,void 0),i.undefined).field("exact",Boolean,i.false).field("internalSlots",[t("ObjectTypeInternalSlot")],i.emptyArray),t("Variance").bases("Node").build("kind").field("kind",n("plus","minus"));let s=n(t("Variance"),"plus","minus",null);t("ObjectTypeProperty").bases("Node").build("key","value","optional").field("key",n(t("Literal"),t("Identifier"))).field("value",t("FlowType")).field("optional",Boolean).field("variance",s,i.null),t("ObjectTypeIndexer").bases("Node").build("id","key","value").field("id",t("Identifier")).field("key",t("FlowType")).field("value",t("FlowType")).field("variance",s,i.null).field("static",Boolean,i.false),t("ObjectTypeCallProperty").bases("Node").build("value").field("value",t("FunctionTypeAnnotation")).field("static",Boolean,i.false),t("QualifiedTypeIdentifier").bases("Node").build("qualification","id").field("qualification",n(t("Identifier"),t("QualifiedTypeIdentifier"))).field("id",t("Identifier")),t("GenericTypeAnnotation").bases("FlowType").build("id","typeParameters").field("id",n(t("Identifier"),t("QualifiedTypeIdentifier"))).field("typeParameters",n(t("TypeParameterInstantiation"),null)),t("MemberTypeAnnotation").bases("FlowType").build("object","property").field("object",t("Identifier")).field("property",n(t("MemberTypeAnnotation"),t("GenericTypeAnnotation"))),t("IndexedAccessType").bases("FlowType").build("objectType","indexType").field("objectType",t("FlowType")).field("indexType",t("FlowType")),t("OptionalIndexedAccessType").bases("FlowType").build("objectType","indexType","optional").field("objectType",t("FlowType")).field("indexType",t("FlowType")).field("optional",Boolean),t("UnionTypeAnnotation").bases("FlowType").build("types").field("types",[t("FlowType")]),t("IntersectionTypeAnnotation").bases("FlowType").build("types").field("types",[t("FlowType")]),t("TypeofTypeAnnotation").bases("FlowType").build("argument").field("argument",t("FlowType")),t("ObjectTypeSpreadProperty").bases("Node").build("argument").field("argument",t("FlowType")),t("ObjectTypeInternalSlot").bases("Node").build("id","value","optional","static","method").field("id",t("Identifier")).field("value",t("FlowType")).field("optional",Boolean).field("static",Boolean).field("method",Boolean),t("TypeParameterDeclaration").bases("Node").build("params").field("params",[t("TypeParameter")]),t("TypeParameterInstantiation").bases("Node").build("params").field("params",[t("FlowType")]),t("TypeParameter").bases("FlowType").build("name","variance","bound","default").field("name",String).field("variance",s,i.null).field("bound",n(t("TypeAnnotation"),null),i.null).field("default",n(t("FlowType"),null),i.null),t("ClassProperty").field("variance",s,i.null),t("ClassImplements").bases("Node").build("id").field("id",t("Identifier")).field("superClass",n(t("Expression"),null),i.null).field("typeParameters",n(t("TypeParameterInstantiation"),null),i.null),t("InterfaceTypeAnnotation").bases("FlowType").build("body","extends").field("body",t("ObjectTypeAnnotation")).field("extends",n([t("InterfaceExtends")],null),i.null),t("InterfaceDeclaration").bases("Declaration").build("id","body","extends").field("id",t("Identifier")).field("typeParameters",n(t("TypeParameterDeclaration"),null),i.null).field("body",t("ObjectTypeAnnotation")).field("extends",[t("InterfaceExtends")]),t("DeclareInterface").bases("InterfaceDeclaration").build("id","body","extends"),t("InterfaceExtends").bases("Node").build("id").field("id",t("Identifier")).field("typeParameters",n(t("TypeParameterInstantiation"),null),i.null),t("TypeAlias").bases("Declaration").build("id","typeParameters","right").field("id",t("Identifier")).field("typeParameters",n(t("TypeParameterDeclaration"),null)).field("right",t("FlowType")),t("DeclareTypeAlias").bases("TypeAlias").build("id","typeParameters","right"),t("OpaqueType").bases("Declaration").build("id","typeParameters","impltype","supertype").field("id",t("Identifier")).field("typeParameters",n(t("TypeParameterDeclaration"),null)).field("impltype",t("FlowType")).field("supertype",n(t("FlowType"),null)),t("DeclareOpaqueType").bases("OpaqueType").build("id","typeParameters","supertype").field("impltype",n(t("FlowType"),null)),t("TypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",t("Expression")).field("typeAnnotation",t("TypeAnnotation")),t("TupleTypeAnnotation").bases("FlowType").build("types").field("types",[t("FlowType")]),t("DeclareVariable").bases("Statement").build("id").field("id",t("Identifier")),t("DeclareFunction").bases("Statement").build("id").field("id",t("Identifier")).field("predicate",n(t("FlowPredicate"),null),i.null),t("DeclareClass").bases("InterfaceDeclaration").build("id"),t("DeclareModule").bases("Statement").build("id","body").field("id",n(t("Identifier"),t("Literal"))).field("body",t("BlockStatement")),t("DeclareModuleExports").bases("Statement").build("typeAnnotation").field("typeAnnotation",t("TypeAnnotation")),t("DeclareExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",n(t("DeclareVariable"),t("DeclareFunction"),t("DeclareClass"),t("FlowType"),t("TypeAlias"),t("DeclareOpaqueType"),t("InterfaceDeclaration"),null)).field("specifiers",[n(t("ExportSpecifier"),t("ExportBatchSpecifier"))],i.emptyArray).field("source",n(t("Literal"),null),i.null),t("DeclareExportAllDeclaration").bases("Declaration").build("source").field("source",n(t("Literal"),null),i.null),t("ImportDeclaration").field("importKind",n("value","type","typeof"),()=>"value"),t("FlowPredicate").bases("Flow"),t("InferredPredicate").bases("FlowPredicate").build(),t("DeclaredPredicate").bases("FlowPredicate").build("value").field("value",t("Expression")),t("Function").field("predicate",n(t("FlowPredicate"),null),i.null),t("CallExpression").field("typeArguments",n(null,t("TypeParameterInstantiation")),i.null),t("NewExpression").field("typeArguments",n(null,t("TypeParameterInstantiation")),i.null),t("EnumDeclaration").bases("Declaration").build("id","body").field("id",t("Identifier")).field("body",n(t("EnumBooleanBody"),t("EnumNumberBody"),t("EnumStringBody"),t("EnumSymbolBody"))),t("EnumBooleanBody").build("members","explicitType").field("members",[t("EnumBooleanMember")]).field("explicitType",Boolean),t("EnumNumberBody").build("members","explicitType").field("members",[t("EnumNumberMember")]).field("explicitType",Boolean),t("EnumStringBody").build("members","explicitType").field("members",n([t("EnumStringMember")],[t("EnumDefaultedMember")])).field("explicitType",Boolean),t("EnumSymbolBody").build("members").field("members",[t("EnumDefaultedMember")]),t("EnumBooleanMember").build("id","init").field("id",t("Identifier")).field("init",n(t("Literal"),Boolean)),t("EnumNumberMember").build("id","init").field("id",t("Identifier")).field("init",t("Literal")),t("EnumStringMember").build("id","init").field("id",t("Identifier")).field("init",t("Literal")),t("EnumDefaultedMember").build("id").field("id",t("Identifier"))}Oe(()=>module);function RP(e){e.use(lo);var r=e.use(Qe),t=e.use(Gt).defaults,n=r.Type.def,i=r.Type.or;n("VariableDeclaration").field("declarations",[i(n("VariableDeclarator"),n("Identifier"))]),n("Property").field("value",i(n("Expression"),n("Pattern"))),n("ArrayPattern").field("elements",[i(n("Pattern"),n("SpreadElement"),null)]),n("ObjectPattern").field("properties",[i(n("Property"),n("PropertyPattern"),n("SpreadPropertyPattern"),n("SpreadProperty"))]),n("ExportSpecifier").bases("ModuleSpecifier").build("id","name"),n("ExportBatchSpecifier").bases("Specifier").build(),n("ExportDeclaration").bases("Declaration").build("default","declaration","specifiers","source").field("default",Boolean).field("declaration",i(n("Declaration"),n("Expression"),null)).field("specifiers",[i(n("ExportSpecifier"),n("ExportBatchSpecifier"))],t.emptyArray).field("source",i(n("Literal"),null),t.null),n("Block").bases("Comment").build("value","leading","trailing"),n("Line").bases("Comment").build("value","leading","trailing")}Oe(()=>module);function ED(e){e.use(lo);let r=e.use(Qe),t=e.use(Gt).defaults,n=r.Type.def,i=r.Type.or,{undefined:s}=r.builtInTypes;n("Noop").bases("Statement").build(),n("DoExpression").bases("Expression").build("body").field("body",[n("Statement")]),n("BindExpression").bases("Expression").build("object","callee").field("object",i(n("Expression"),null)).field("callee",n("Expression")),n("ParenthesizedExpression").bases("Expression").build("expression").field("expression",n("Expression")),n("ExportNamespaceSpecifier").bases("Specifier").build("exported").field("exported",n("Identifier")),n("ExportDefaultSpecifier").bases("Specifier").build("exported").field("exported",n("Identifier")),n("CommentBlock").bases("Comment").build("value","leading","trailing"),n("CommentLine").bases("Comment").build("value","leading","trailing"),n("Directive").bases("Node").build("value").field("value",n("DirectiveLiteral")),n("DirectiveLiteral").bases("Node","Expression").build("value").field("value",String,t["use strict"]),n("InterpreterDirective").bases("Node").build("value").field("value",String),n("BlockStatement").bases("Statement").build("body").field("body",[n("Statement")]).field("directives",[n("Directive")],t.emptyArray),n("Program").bases("Node").build("body").field("body",[n("Statement")]).field("directives",[n("Directive")],t.emptyArray).field("interpreter",i(n("InterpreterDirective"),null),t.null);function o(c=String,p){return["extra",{rawValue:c,raw:String},function(){let f=r.getFieldValue(this,"value");return{rawValue:f,raw:p?p(f):String(f)}}]}n("StringLiteral").bases("Literal").build("value").field("value",String).field(...o(String,c=>JSON.stringify(c))),n("NumericLiteral").bases("Literal").build("value").field("value",Number).field("raw",i(String,null),t.null).field(...o(Number)),n("BigIntLiteral").bases("Literal").build("value").field("value",i(String,Number)).field(...o(String,c=>c+"n")),n("DecimalLiteral").bases("Literal").build("value").field("value",String).field(...o(String,c=>c+"m")),n("NullLiteral").bases("Literal").build().field("value",null,t.null),n("BooleanLiteral").bases("Literal").build("value").field("value",Boolean),n("RegExpLiteral").bases("Literal").build("pattern","flags").field("pattern",String).field("flags",String).field("value",RegExp,function(){return new RegExp(this.pattern,this.flags)}).field(...o(i(RegExp,s),c=>`/${c.pattern}/${c.flags||""}`)).field("regex",{pattern:String,flags:String},function(){return{pattern:this.pattern,flags:this.flags}});var a=i(n("Property"),n("ObjectMethod"),n("ObjectProperty"),n("SpreadProperty"),n("SpreadElement"));n("ObjectExpression").bases("Expression").build("properties").field("properties",[a]),n("ObjectMethod").bases("Node","Function").build("kind","key","params","body","computed").field("kind",i("method","get","set")).field("key",i(n("Literal"),n("Identifier"),n("Expression"))).field("params",[n("Pattern")]).field("body",n("BlockStatement")).field("computed",Boolean,t.false).field("generator",Boolean,t.false).field("async",Boolean,t.false).field("accessibility",i(n("Literal"),null),t.null).field("decorators",i([n("Decorator")],null),t.null),n("ObjectProperty").bases("Node").build("key","value").field("key",i(n("Literal"),n("Identifier"),n("Expression"))).field("value",i(n("Expression"),n("Pattern"))).field("accessibility",i(n("Literal"),null),t.null).field("computed",Boolean,t.false);var l=i(n("MethodDefinition"),n("VariableDeclarator"),n("ClassPropertyDefinition"),n("ClassProperty"),n("ClassPrivateProperty"),n("ClassMethod"),n("ClassPrivateMethod"),n("ClassAccessorProperty"),n("StaticBlock"));n("ClassBody").bases("Declaration").build("body").field("body",[l]),n("ClassMethod").bases("Declaration","Function").build("kind","key","params","body","computed","static").field("key",i(n("Literal"),n("Identifier"),n("Expression"))),n("ClassPrivateMethod").bases("Declaration","Function").build("key","params","body","kind","computed","static").field("key",n("PrivateName")),n("ClassAccessorProperty").bases("Declaration").build("key","value","decorators","computed","static").field("key",i(n("Literal"),n("Identifier"),n("PrivateName"),n("Expression"))).field("value",i(n("Expression"),null),t.null),["ClassMethod","ClassPrivateMethod"].forEach(c=>{n(c).field("kind",i("get","set","method","constructor"),()=>"method").field("body",n("BlockStatement")).field("access",i("public","private","protected",null),t.null)}),["ClassMethod","ClassPrivateMethod","ClassAccessorProperty"].forEach(c=>{n(c).field("computed",Boolean,t.false).field("static",Boolean,t.false).field("abstract",Boolean,t.false).field("accessibility",i("public","private","protected",null),t.null).field("decorators",i([n("Decorator")],null),t.null).field("definite",Boolean,t.false).field("optional",Boolean,t.false).field("override",Boolean,t.false).field("readonly",Boolean,t.false)});var u=i(n("Property"),n("PropertyPattern"),n("SpreadPropertyPattern"),n("SpreadProperty"),n("ObjectProperty"),n("RestProperty"),n("RestElement"));n("ObjectPattern").bases("Pattern").build("properties").field("properties",[u]).field("decorators",i([n("Decorator")],null),t.null),n("SpreadProperty").bases("Node").build("argument").field("argument",n("Expression")),n("RestProperty").bases("Node").build("argument").field("argument",n("Expression")),n("ForAwaitStatement").bases("Statement").build("left","right","body").field("left",i(n("VariableDeclaration"),n("Expression"))).field("right",n("Expression")).field("body",n("Statement")),n("Import").bases("Expression").build()}Oe(()=>module);function LP(e){let t=e.use(Qe).Type.def;e.use(ED),e.use(xD),t("V8IntrinsicIdentifier").bases("Expression").build("name").field("name",String),t("TopicReference").bases("Expression").build()}Oe(()=>module);function BP(e){e.use(ED),e.use(bD);var r=e.use(Qe),t=r.namedTypes,n=r.Type.def,i=r.Type.or,s=e.use(Gt).defaults,o=r.Type.from(function(c,p){return!!(t.StringLiteral&&t.StringLiteral.check(c,p)||t.Literal&&t.Literal.check(c,p)&&typeof c.value=="string")},"StringLiteral");n("TSType").bases("Node");var a=i(n("Identifier"),n("TSQualifiedName"));n("TSTypeReference").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("typeName","typeParameters").field("typeName",a),n("TSHasOptionalTypeParameterInstantiation").field("typeParameters",i(n("TSTypeParameterInstantiation"),null),s.null),n("TSHasOptionalTypeParameters").field("typeParameters",i(n("TSTypeParameterDeclaration"),null,void 0),s.null),n("TSHasOptionalTypeAnnotation").field("typeAnnotation",i(n("TSTypeAnnotation"),null),s.null),n("TSQualifiedName").bases("Node").build("left","right").field("left",a).field("right",a),n("TSAsExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",n("Expression")).field("typeAnnotation",n("TSType")).field("extra",i({parenthesized:Boolean},null),s.null),n("TSTypeCastExpression").bases("Expression").build("expression","typeAnnotation").field("expression",n("Expression")).field("typeAnnotation",n("TSType")),n("TSSatisfiesExpression").bases("Expression","Pattern").build("expression","typeAnnotation").field("expression",n("Expression")).field("typeAnnotation",n("TSType")),n("TSNonNullExpression").bases("Expression","Pattern").build("expression").field("expression",n("Expression")),["TSAnyKeyword","TSBigIntKeyword","TSBooleanKeyword","TSNeverKeyword","TSNullKeyword","TSNumberKeyword","TSObjectKeyword","TSStringKeyword","TSSymbolKeyword","TSUndefinedKeyword","TSUnknownKeyword","TSVoidKeyword","TSIntrinsicKeyword","TSThisType"].forEach(c=>{n(c).bases("TSType").build()}),n("TSArrayType").bases("TSType").build("elementType").field("elementType",n("TSType")),n("TSLiteralType").bases("TSType").build("literal").field("literal",i(n("NumericLiteral"),n("StringLiteral"),n("BooleanLiteral"),n("TemplateLiteral"),n("UnaryExpression"),n("BigIntLiteral"))),n("TemplateLiteral").field("expressions",i([n("Expression")],[n("TSType")])),["TSUnionType","TSIntersectionType"].forEach(c=>{n(c).bases("TSType").build("types").field("types",[n("TSType")])}),n("TSConditionalType").bases("TSType").build("checkType","extendsType","trueType","falseType").field("checkType",n("TSType")).field("extendsType",n("TSType")).field("trueType",n("TSType")).field("falseType",n("TSType")),n("TSInferType").bases("TSType").build("typeParameter").field("typeParameter",n("TSTypeParameter")),n("TSParenthesizedType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType"));var l=[i(n("Identifier"),n("RestElement"),n("ArrayPattern"),n("ObjectPattern"))];["TSFunctionType","TSConstructorType"].forEach(c=>{n(c).bases("TSType","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters").field("parameters",l)}),n("TSDeclareFunction").bases("Declaration","TSHasOptionalTypeParameters").build("id","params","returnType").field("declare",Boolean,s.false).field("async",Boolean,s.false).field("generator",Boolean,s.false).field("id",i(n("Identifier"),null),s.null).field("params",[n("Pattern")]).field("returnType",i(n("TSTypeAnnotation"),n("Noop"),null),s.null),n("TSDeclareMethod").bases("Declaration","TSHasOptionalTypeParameters").build("key","params","returnType").field("async",Boolean,s.false).field("generator",Boolean,s.false).field("params",[n("Pattern")]).field("abstract",Boolean,s.false).field("accessibility",i("public","private","protected",void 0),s.undefined).field("static",Boolean,s.false).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("key",i(n("Identifier"),n("StringLiteral"),n("NumericLiteral"),n("Expression"))).field("kind",i("get","set","method","constructor"),function(){return"method"}).field("access",i("public","private","protected",void 0),s.undefined).field("decorators",i([n("Decorator")],null),s.null).field("returnType",i(n("TSTypeAnnotation"),n("Noop"),null),s.null),n("TSMappedType").bases("TSType").build("typeParameter","typeAnnotation").field("readonly",i(Boolean,"+","-"),s.false).field("typeParameter",n("TSTypeParameter")).field("optional",i(Boolean,"+","-"),s.false).field("typeAnnotation",i(n("TSType"),null),s.null),n("TSTupleType").bases("TSType").build("elementTypes").field("elementTypes",[i(n("TSType"),n("TSNamedTupleMember"))]),n("TSNamedTupleMember").bases("TSType").build("label","elementType","optional").field("label",n("Identifier")).field("optional",Boolean,s.false).field("elementType",n("TSType")),n("TSRestType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType")),n("TSOptionalType").bases("TSType").build("typeAnnotation").field("typeAnnotation",n("TSType")),n("TSIndexedAccessType").bases("TSType").build("objectType","indexType").field("objectType",n("TSType")).field("indexType",n("TSType")),n("TSTypeOperator").bases("TSType").build("operator").field("operator",String).field("typeAnnotation",n("TSType")),n("TSTypeAnnotation").bases("Node").build("typeAnnotation").field("typeAnnotation",i(n("TSType"),n("TSTypeAnnotation"))),n("TSIndexSignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",[n("Identifier")]).field("readonly",Boolean,s.false),n("TSPropertySignature").bases("Declaration","TSHasOptionalTypeAnnotation").build("key","typeAnnotation","optional").field("key",n("Expression")).field("computed",Boolean,s.false).field("readonly",Boolean,s.false).field("optional",Boolean,s.false).field("initializer",i(n("Expression"),null),s.null),n("TSMethodSignature").bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("key","parameters","typeAnnotation").field("key",n("Expression")).field("computed",Boolean,s.false).field("optional",Boolean,s.false).field("parameters",l),n("TSTypePredicate").bases("TSTypeAnnotation","TSType").build("parameterName","typeAnnotation","asserts").field("parameterName",i(n("Identifier"),n("TSThisType"))).field("typeAnnotation",i(n("TSTypeAnnotation"),null),s.null).field("asserts",Boolean,s.false),["TSCallSignatureDeclaration","TSConstructSignatureDeclaration"].forEach(c=>{n(c).bases("Declaration","TSHasOptionalTypeParameters","TSHasOptionalTypeAnnotation").build("parameters","typeAnnotation").field("parameters",l)}),n("TSEnumMember").bases("Node").build("id","initializer").field("id",i(n("Identifier"),o)).field("initializer",i(n("Expression"),null),s.null),n("TSTypeQuery").bases("TSType").build("exprName").field("exprName",i(a,n("TSImportType")));var u=i(n("TSCallSignatureDeclaration"),n("TSConstructSignatureDeclaration"),n("TSIndexSignature"),n("TSMethodSignature"),n("TSPropertySignature"));n("TSTypeLiteral").bases("TSType").build("members").field("members",[u]),n("TSTypeParameter").bases("Identifier").build("name","constraint","default").field("name",i(n("Identifier"),String)).field("constraint",i(n("TSType"),void 0),s.undefined).field("default",i(n("TSType"),void 0),s.undefined),n("TSTypeAssertion").bases("Expression","Pattern").build("typeAnnotation","expression").field("typeAnnotation",n("TSType")).field("expression",n("Expression")).field("extra",i({parenthesized:Boolean},null),s.null),n("TSTypeParameterDeclaration").bases("Declaration").build("params").field("params",[n("TSTypeParameter")]),n("TSInstantiationExpression").bases("Expression","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",n("Expression")),n("TSTypeParameterInstantiation").bases("Node").build("params").field("params",[n("TSType")]),n("TSEnumDeclaration").bases("Declaration").build("id","members").field("id",n("Identifier")).field("const",Boolean,s.false).field("declare",Boolean,s.false).field("members",[n("TSEnumMember")]).field("initializer",i(n("Expression"),null),s.null),n("TSTypeAliasDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","typeAnnotation").field("id",n("Identifier")).field("declare",Boolean,s.false).field("typeAnnotation",n("TSType")),n("TSModuleBlock").bases("Node").build("body").field("body",[n("Statement")]),n("TSModuleDeclaration").bases("Declaration").build("id","body").field("id",i(o,a)).field("declare",Boolean,s.false).field("global",Boolean,s.false).field("body",i(n("TSModuleBlock"),n("TSModuleDeclaration"),null),s.null),n("TSImportType").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("argument","qualifier","typeParameters").field("argument",o).field("qualifier",i(a,void 0),s.undefined),n("TSImportEqualsDeclaration").bases("Declaration").build("id","moduleReference").field("id",n("Identifier")).field("isExport",Boolean,s.false).field("moduleReference",i(a,n("TSExternalModuleReference"))),n("TSExternalModuleReference").bases("Declaration").build("expression").field("expression",o),n("TSExportAssignment").bases("Statement").build("expression").field("expression",n("Expression")),n("TSNamespaceExportDeclaration").bases("Declaration").build("id").field("id",n("Identifier")),n("TSInterfaceBody").bases("Node").build("body").field("body",[u]),n("TSExpressionWithTypeArguments").bases("TSType","TSHasOptionalTypeParameterInstantiation").build("expression","typeParameters").field("expression",a),n("TSInterfaceDeclaration").bases("Declaration","TSHasOptionalTypeParameters").build("id","body").field("id",a).field("declare",Boolean,s.false).field("extends",i([n("TSExpressionWithTypeArguments")],null),s.null).field("body",n("TSInterfaceBody")),n("TSParameterProperty").bases("Pattern").build("parameter").field("accessibility",i("public","private","protected",void 0),s.undefined).field("readonly",Boolean,s.false).field("parameter",i(n("Identifier"),n("AssignmentPattern"))),n("ClassProperty").field("access",i("public","private","protected",void 0),s.undefined),n("ClassAccessorProperty").bases("Declaration","TSHasOptionalTypeAnnotation"),n("ClassBody").field("body",[i(n("MethodDefinition"),n("VariableDeclarator"),n("ClassPropertyDefinition"),n("ClassProperty"),n("ClassPrivateProperty"),n("ClassAccessorProperty"),n("ClassMethod"),n("ClassPrivateMethod"),n("StaticBlock"),n("TSDeclareMethod"),u)])}Oe(()=>module);var Dr;Dr||(Dr={});var{astNodesAreEquivalent:c8,khulnasofts:Qi,builtInTypes:br,defineMethod:p8,eachField:d8,finalize:f8,getKhulnasoftName:m8,getFieldNames:MP,getFieldValue:cn,getSupertypeNames:h8,namedTypes:$P,NodePath:UP,Path:g8,PathVisitor:y8,someField:jP,Type:D8,use:b8,visit:x8}=CP([lo,OP,xD,RP,LP,BP]);Object.assign(Dr,$P);var ka=Dr,Qy=Ha.default.SourceMapConsumer,KP=Ha.default.SourceMapGenerator,CD=Object.prototype.hasOwnProperty;function VP(){return`
`}function Zy(e,r,t){return e&&CD.call(e,r)?e[r]:t}function zP(...e){let r={},t=e.length;for(let n=0;n<t;++n){let i=Object.keys(e[n]),s=i.length;for(let o=0;o<s;++o)r[i[o]]=!0}return r}function Te(e,r){return e.line-r.line||e.column-r.column}function _n(e){return{line:e.line,column:e.column}}function qP(e,r){if(e){if(!r)return e}else return r||null;let t=new Qy(e),n=new Qy(r),i=new KP({file:r.file,sourceRoot:r.sourceRoot}),s={};return n.eachMapping(function(o){let a=t.originalPositionFor({line:o.originalLine,column:o.originalColumn}),l=a.source;if(l===null)return;i.addMapping({source:l,original:_n(a),generated:{line:o.generatedLine,column:o.generatedColumn},name:o.name});let u=t.sourceContentFor(l);u&&!CD.call(s,l)&&(s[l]=u,i.setSourceContent(l,u))}),i.toJSON()}function SD(e,r){if(!e.loc)return null;let t={start:e.loc.start,end:e.loc.end};function n(i){Qc(t,i.loc)}return e.declaration&&e.declaration.decorators&&Ja(e)&&e.declaration.decorators.forEach(n),Te(t.start,t.end)<0&&(t.start=_n(t.start),r.skipSpaces(t.start,!1,!0),Te(t.start,t.end)<0&&(t.end=_n(t.end),r.skipSpaces(t.end,!0,!0))),e.comments&&e.comments.forEach(n),t}function Qc(e,r){e&&r&&(Te(r.start,e.start)<0&&(e.start=r.start),Te(e.end,r.end)<0&&(e.end=r.end))}function lp(e,r){let t=e.loc;if(t&&(t.start.line<1&&(t.start.line=1),t.end.line<1&&(t.end.line=1)),e.type==="File"&&(t.start=r.firstPos(),t.end=r.lastPos()),WP(e,r),GP(e,r),t&&e.decorators)e.decorators.forEach(function(n){Qc(t,n.loc)});else if(e.declaration&&Ja(e)){e.declaration.loc=null;let n=e.declaration.decorators;n&&n.forEach(function(i){Qc(t,i.loc)})}else if(ka.MethodDefinition&&ka.MethodDefinition.check(e)||ka.Property.check(e)&&(e.method||e.shorthand))e.value.loc=null,ka.FunctionExpression.check(e.value)&&(e.value.id=null);else if(e.type==="ObjectTypeProperty"){let n=e.loc,i=n&&n.end;i&&(i=_n(i),r.prevPos(i)&&r.charAt(i)===","&&(i=r.skipSpaces(i,!0,!0))&&(n.end=i))}}function WP(e,r){if(e.type!=="ForStatement")return;function t(n){let i=n&&n.loc,s=i&&i.start,o=i&&_n(i.end);for(;s&&o&&Te(s,o)<0&&(r.prevPos(o),r.charAt(o)===";");)i.end.line=o.line,i.end.column=o.column}t(e.init),t(e.test),t(e.update)}function GP(e,r){if(e.type==="TemplateLiteral"&&e.quasis.length!==0){if(e.loc){let t=_n(e.loc.start),n=e.quasis[0];Te(n.loc.start,t)<0&&(n.loc.start=t);let i=_n(e.loc.end),s=e.quasis[e.quasis.length-1];Te(i,s.loc.end)<0&&(s.loc.end=i)}e.expressions.forEach(function(t,n){let i=r.skipSpaces(t.loc.start,!0,!1);if(r.prevPos(i)&&r.charAt(i)==="{"&&r.prevPos(i)&&r.charAt(i)==="$"){let o=e.quasis[n];Te(i,o.loc.end)<0&&(o.loc.end=i)}let s=r.skipSpaces(t.loc.end,!1,!1);if(r.charAt(s)==="}"){let o=e.quasis[n+1];Te(o.loc.start,s)<0&&(o.loc.start=s)}})}}function Ja(e){if(e)switch(e.type){case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportDefaultSpecifier":case"DeclareExportDeclaration":case"ExportNamedDeclaration":case"ExportAllDeclaration":return!0}return!1}function wD(e){let r=e.getParentNode();return e.getName()==="declaration"&&Ja(r)?r:null}function no(e,r){let t=e.trailingComma;return typeof t=="object"?!!t[r]:!!t}var Zc={tabWidth:4,useTabs:!1,reuseWhitespace:!0,lineTerminator:VP(),wrapColumn:74,sourceFileName:null,sourceMapName:null,sourceRoot:null,inputSourceMap:null,range:!1,tolerant:!0,quote:null,trailingComma:!1,arrayBracketSpacing:!1,objectCurlySpacing:!0,arrowParensAlways:!1,flowObjectCommas:!0,tokens:!0},HP=Zc.hasOwnProperty;function Ya(e){let r=e||Zc;function t(n){return HP.call(r,n)?r[n]:Zc[n]}return{tabWidth:+t("tabWidth"),useTabs:!!t("useTabs"),reuseWhitespace:!!t("reuseWhitespace"),lineTerminator:t("lineTerminator"),wrapColumn:Math.max(t("wrapColumn"),0),sourceFileName:t("sourceFileName"),sourceMapName:t("sourceMapName"),sourceRoot:t("sourceRoot"),inputSourceMap:t("inputSourceMap"),parser:t("esprima")||t("parser"),range:t("range"),tolerant:t("tolerant"),quote:t("quote"),trailingComma:t("trailingComma"),arrayBracketSpacing:t("arrayBracketSpacing"),objectCurlySpacing:t("objectCurlySpacing"),arrowParensAlways:t("arrowParensAlways"),flowObjectCommas:t("flowObjectCommas"),tokens:!!t("tokens")}}var ep=class e{constructor(r,t,n=t){this.sourceLines=r,this.sourceLoc=t,this.targetLoc=n}slice(r,t,n=r.lastPos()){let i=this.sourceLines,s=this.sourceLoc,o=this.targetLoc;function a(l){let u=s[l],c=o[l],p=t;return l==="end"&&(p=n),JP(i,u,r,c,p)}if(Te(t,o.start)<=0)if(Te(o.end,n)<=0)o={start:Fn(o.start,t.line,t.column),end:Fn(o.end,t.line,t.column)};else{if(Te(n,o.start)<=0)return null;s={start:s.start,end:a("end")},o={start:Fn(o.start,t.line,t.column),end:Fn(n,t.line,t.column)}}else{if(Te(o.end,t)<=0)return null;Te(o.end,n)<=0?(s={start:a("start"),end:s.end},o={start:{line:1,column:0},end:Fn(o.end,t.line,t.column)}):(s={start:a("start"),end:a("end")},o={start:{line:1,column:0},end:Fn(n,t.line,t.column)})}return new e(this.sourceLines,s,o)}add(r,t){return new e(this.sourceLines,this.sourceLoc,{start:eD(this.targetLoc.start,r,t),end:eD(this.targetLoc.end,r,t)})}subtract(r,t){return new e(this.sourceLines,this.sourceLoc,{start:Fn(this.targetLoc.start,r,t),end:Fn(this.targetLoc.end,r,t)})}indent(r,t=!1,n=!1){if(r===0)return this;let i=this.targetLoc,s=i.start.line,o=i.end.line;if(t&&s===1&&o===1)return this;if(i={start:i.start,end:i.end},!t||s>1){let a=i.start.column+r;i.start={line:s,column:n?Math.max(0,a):a}}if(!t||o>1){let a=i.end.column+r;i.end={line:o,column:n?Math.max(0,a):a}}return new e(this.sourceLines,this.sourceLoc,i)}};function eD(e,r,t){return{line:e.line+r-1,column:e.line===1?e.column+t:e.column}}function Fn(e,r,t){return{line:e.line-r+1,column:e.line===r?e.column-t:e.column}}function JP(e,r,t,n,i){let s=Te(n,i);if(s===0)return r;let o,a;if(s<0){o=e.skipSpaces(r)||e.lastPos(),a=t.skipSpaces(n)||t.lastPos();let l=i.line-a.line;for(o.line+=l,a.line+=l,l>0&&(o.column=0,a.column=0);Te(a,i)<0&&t.nextPos(a,!0););}else{o=e.skipSpaces(r,!0)||e.firstPos(),a=t.skipSpaces(n,!0)||t.firstPos();let l=i.line-a.line;for(o.line+=l,a.line+=l,l<0&&(o.column=e.getLineLength(o.line),a.column=t.getLineLength(a.line));Te(i,a)<0&&t.prevPos(a,!0););}return o}var YP=Object.defineProperty,XP=(e,r,t)=>r in e?YP(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Ys=(e,r,t)=>(XP(e,typeof r!="symbol"?r+"":r,t),t),Yi=class e{constructor(r,t=null){this.infos=r,Ys(this,"length"),Ys(this,"name"),Ys(this,"mappings",[]),Ys(this,"cachedSourceMap",null),Ys(this,"cachedTabWidth"),this.length=r.length,this.name=t||null,this.name&&this.mappings.push(new ep(this,{start:this.firstPos(),end:this.lastPos()}))}toString(r){return this.sliceString(this.firstPos(),this.lastPos(),r)}getSourceMap(r,t){if(!r)return null;let n=this;function i(a){return a=a||{},a.file=r,t&&(a.sourceRoot=t),a}if(n.cachedSourceMap)return i(n.cachedSourceMap.toJSON());let s=new Ha.default.SourceMapGenerator(i()),o={};return n.mappings.forEach(function(a){let l=a.sourceLines.skipSpaces(a.sourceLoc.start)||a.sourceLines.lastPos(),u=n.skipSpaces(a.targetLoc.start)||n.lastPos();for(;Te(l,a.sourceLoc.end)<0&&Te(u,a.targetLoc.end)<0;){a.sourceLines.charAt(l),n.charAt(u);let c=a.sourceLines.name;if(s.addMapping({source:c,original:{line:l.line,column:l.column},generated:{line:u.line,column:u.column}}),!tp.call(o,c)){let p=a.sourceLines.toString();s.setSourceContent(c,p),o[c]=p}n.nextPos(u,!0),a.sourceLines.nextPos(l,!0)}}),n.cachedSourceMap=s,s.toJSON()}bootstrapCharAt(r){let t=r.line,n=r.column,i=this.toString().split(rp),s=i[t-1];return typeof s>"u"?"":n===s.length&&t<i.length?`
`:n>=s.length?"":s.charAt(n)}charAt(r){let t=r.line,n=r.column,i=this,s=i.infos,o=s[t-1],a=n;if(typeof o>"u"||a<0)return"";let l=this.getIndentAt(t);return a<l?" ":(a+=o.sliceStart-l,a===o.sliceEnd&&t<this.length?`
`:a>=o.sliceEnd?"":o.line.charAt(a))}stripMargin(r,t){if(r===0)return this;if(t&&this.length===1)return this;let n=new e(this.infos.map(function(i,s){return i.line&&(s>0||!t)&&(i={...i,indent:Math.max(0,i.indent-r)}),i}));if(this.mappings.length>0){let i=n.mappings;this.mappings.forEach(function(s){i.push(s.indent(r,t,!0))})}return n}indent(r){if(r===0)return this;let t=new e(this.infos.map(function(n){return n.line&&!n.locked&&(n={...n,indent:n.indent+r}),n}));if(this.mappings.length>0){let n=t.mappings;this.mappings.forEach(function(i){n.push(i.indent(r))})}return t}indentTail(r){if(r===0)return this;if(this.length<2)return this;let t=new e(this.infos.map(function(n,i){return i>0&&n.line&&!n.locked&&(n={...n,indent:n.indent+r}),n}));if(this.mappings.length>0){let n=t.mappings;this.mappings.forEach(function(i){n.push(i.indent(r,!0))})}return t}lockIndentTail(){return this.length<2?this:new e(this.infos.map((r,t)=>({...r,locked:t>0})))}getIndentAt(r){return Math.max(this.infos[r-1].indent,0)}guessTabWidth(){if(typeof this.cachedTabWidth=="number")return this.cachedTabWidth;let r=[],t=0;for(let s=1,o=this.length;s<=o;++s){let a=this.infos[s-1],l=a.line.slice(a.sliceStart,a.sliceEnd);if(Wi(l))continue;let u=Math.abs(a.indent-t);r[u]=~~r[u]+1,t=a.indent}let n=-1,i=2;for(let s=1;s<r.length;s+=1)tp.call(r,s)&&r[s]>n&&(n=r[s],i=s);return this.cachedTabWidth=i}startsWithComment(){if(this.infos.length===0)return!1;let r=this.infos[0],t=r.sliceStart,n=r.sliceEnd,i=r.line.slice(t,n).trim();return i.length===0||i.slice(0,2)==="//"||i.slice(0,2)==="/*"}isOnlyWhitespace(){return Wi(this.toString())}isPrecededOnlyByWhitespace(r){let t=this.infos[r.line-1],n=Math.max(t.indent,0),i=r.column-n;if(i<=0)return!0;let s=t.sliceStart,o=Math.min(s+i,t.sliceEnd),a=t.line.slice(s,o);return Wi(a)}getLineLength(r){let t=this.infos[r-1];return this.getIndentAt(r)+t.sliceEnd-t.sliceStart}nextPos(r,t=!1){let n=Math.max(r.line,0);return Math.max(r.column,0)<this.getLineLength(n)?(r.column+=1,t?!!this.skipSpaces(r,!1,!0):!0):n<this.length?(r.line+=1,r.column=0,t?!!this.skipSpaces(r,!1,!0):!0):!1}prevPos(r,t=!1){let n=r.line,i=r.column;if(i<1){if(n-=1,n<1)return!1;i=this.getLineLength(n)}else i=Math.min(i-1,this.getLineLength(n));return r.line=n,r.column=i,t?!!this.skipSpaces(r,!0,!0):!0}firstPos(){return{line:1,column:0}}lastPos(){return{line:this.length,column:this.getLineLength(this.length)}}skipSpaces(r,t=!1,n=!1){if(r?r=n?r:{line:r.line,column:r.column}:t?r=this.lastPos():r=this.firstPos(),t){for(;this.prevPos(r);)if(!Wi(this.charAt(r))&&this.nextPos(r))return r;return null}else{for(;Wi(this.charAt(r));)if(!this.nextPos(r))return null;return r}}trimLeft(){let r=this.skipSpaces(this.firstPos(),!1,!0);return r?this.slice(r):ii}trimRight(){let r=this.skipSpaces(this.lastPos(),!0,!0);return r?this.slice(this.firstPos(),r):ii}trim(){let r=this.skipSpaces(this.firstPos(),!1,!0);if(r===null)return ii;let t=this.skipSpaces(this.lastPos(),!0,!0);return t===null?ii:this.slice(r,t)}eachPos(r,t=this.firstPos(),n=!1){let i=this.firstPos();if(t&&(i.line=t.line,i.column=t.column),!(n&&!this.skipSpaces(i,!1,!0)))do r.call(this,i);while(this.nextPos(i,n))}bootstrapSlice(r,t){let n=this.toString().split(rp).slice(r.line-1,t.line);return n.length>0&&(n.push(n.pop().slice(0,t.column)),n[0]=n[0].slice(r.column)),A(n.join(`
`))}slice(r,t){if(!t){if(!r)return this;t=this.lastPos()}if(!r)throw new Error("cannot slice with end but not start");let n=this.infos.slice(r.line-1,t.line);r.line===t.line?n[0]=Gi(n[0],r.column,t.column):(n[0]=Gi(n[0],r.column),n.push(Gi(n.pop(),0,t.column)));let i=new e(n);if(this.mappings.length>0){let s=i.mappings;this.mappings.forEach(function(o){let a=o.slice(this,r,t);a&&s.push(a)},this)}return i}bootstrapSliceString(r,t,n){return this.slice(r,t).toString(n)}sliceString(r=this.firstPos(),t=this.lastPos(),n){let{tabWidth:i,useTabs:s,reuseWhitespace:o,lineTerminator:a}=Ya(n),l=[];for(let u=r.line;u<=t.line;++u){let c=this.infos[u-1];u===r.line?u===t.line?c=Gi(c,r.column,t.column):c=Gi(c,r.column):u===t.line&&(c=Gi(c,0,t.column));let p=Math.max(c.indent,0),d=c.line.slice(0,c.sliceStart);if(o&&Wi(d)&&TD(d,i)===p){l.push(c.line.slice(0,c.sliceEnd));continue}let f=0,m=p;s&&(f=Math.floor(p/i),m-=f*i);let h="";f>0&&(h+=new Array(f+1).join("	")),m>0&&(h+=new Array(m+1).join(" ")),h+=c.line.slice(c.sliceStart,c.sliceEnd),l.push(h)}return l.join(a)}isEmpty(){return this.length<2&&this.getLineLength(1)<1}join(r){let t=this,n=[],i=[],s;function o(u){if(u!==null){if(s){let c=u.infos[0],p=new Array(c.indent+1).join(" "),d=n.length,f=Math.max(s.indent,0)+s.sliceEnd-s.sliceStart;s.line=s.line.slice(0,s.sliceEnd)+p+c.line.slice(c.sliceStart,c.sliceEnd),s.locked=s.locked||c.locked,s.sliceEnd=s.line.length,u.mappings.length>0&&u.mappings.forEach(function(m){i.push(m.add(d,f))})}else u.mappings.length>0&&i.push.apply(i,u.mappings);u.infos.forEach(function(c,p){(!s||p>0)&&(s={...c},n.push(s))})}}function a(u,c){c>0&&o(t),o(u)}if(r.map(function(u){let c=A(u);return c.isEmpty()?null:c}).forEach((u,c)=>{t.isEmpty()?o(u):a(u,c)}),n.length<1)return ii;let l=new e(n);return l.mappings=i,l}concat(...r){let t=[this];return t.push.apply(t,r),ii.join(t)}},Ma={},tp=Ma.hasOwnProperty,QP=10;function TD(e,r){let t=0,n=e.length;for(let i=0;i<n;++i)switch(e.charCodeAt(i)){case 9:{let s=Math.ceil(t/r)*r;s===t?t+=r:t=s;break}case 11:case 12:case 13:case 65279:break;case 32:default:t+=1;break}return t}var ZP=/^\s*/,rp=/\u000D\u000A|\u000D(?!\u000A)|\u000A|\u2028|\u2029/;function A(e,r){if(e instanceof Yi)return e;e+="";let t=r&&r.tabWidth,n=e.indexOf("	")<0,i=!r&&n&&e.length<=QP;if(i&&tp.call(Ma,e))return Ma[e];let s=new Yi(e.split(rp).map(function(o){let a=ZP.exec(o)[0];return{line:o,indent:TD(a,t),locked:!1,sliceStart:a.length,sliceEnd:o.length}}),Ya(r).sourceFileName);return i&&(Ma[e]=s),s}function Wi(e){return!/\S/.test(e)}function Gi(e,r,t){let n=e.sliceStart,i=e.sliceEnd,s=Math.max(e.indent,0),o=s+i-n;return typeof t>"u"&&(t=o),r=Math.max(r,0),t=Math.min(t,o),t=Math.max(t,r),t<s?(s=t,i=n):i-=o-t,o=t,o-=r,r<s?s-=r:(r-=s,s=0,n+=r),e.indent===s&&e.sliceStart===n&&e.sliceEnd===i?e:{line:e.line,indent:s,locked:!1,sliceStart:n,sliceEnd:i}}function w(e){return ii.join(e)}var ii=A(""),Xi=Dr,AD=br.array,e1=br.object,tD=new WeakMap;function vD(e,r,t){if(!e)return t;if(lp(e,r),t){if(Xi.Node.check(e)&&Xi.SourceLocation.check(e.loc)){let i=t.length-1;for(;i>=0;--i){let s=t[i];if(s&&s.loc&&Te(s.loc.end,e.loc.start)<=0)break}return t.splice(i+1,0,e),t}}else{let i=tD.get(e);if(i)return i}let n;if(AD.check(e))n=Object.keys(e);else if(e1.check(e))n=MP(e);else return t;t||tD.set(e,t=[]);for(let i=0,s=n.length;i<s;++i)vD(e[n[i]],r,t);return t}function PD(e,r,t){let n=vD(e,t),i=0,s=n&&n.length,o,a;for(;typeof s=="number"&&i<s;){let l=i+s>>1,u=n[l];if(Te(u.loc.start,r.loc.start)<=0&&Te(r.loc.end,u.loc.end)<=0){PD(r.enclosingNode=u,r,t);return}if(Te(u.loc.end,r.loc.start)<=0){o=u,i=l+1;continue}if(Te(r.loc.end,u.loc.start)<=0){a=u,s=l;continue}throw new Error("Comment location overlaps with node location")}o&&(r.precedingNode=o),a&&(r.followingNode=a)}function t1(e,r,t){if(!AD.check(e))return;let n=[];e.forEach(function(i){i.loc.lines=t,PD(r,i,t);let s=i.precedingNode,o=i.enclosingNode,a=i.followingNode;if(s&&a){let l=n.length;l>0&&n[l-1].followingNode!==i.followingNode&&Xs(n,t),n.push(i)}else if(s)Xs(n,t),ND(s,i);else if(a)Xs(n,t),ID(a,i);else if(o)Xs(n,t),r1(o,i);else throw new Error("AST contains no nodes at all?")}),Xs(n,t),e.forEach(function(i){delete i.precedingNode,delete i.enclosingNode,delete i.followingNode})}function Xs(e,r){let t=e.length;if(t===0)return;let n=e[0].precedingNode,i=e[0].followingNode,s=i.loc.start,o=t,a;for(;o>0;--o){a=e[o-1];let l=r.sliceString(a.loc.end,s);if(/\S/.test(l))break;s=a.loc.start}for(;o<=t&&(a=e[o])&&(a.type==="Line"||a.type==="CommentLine")&&a.loc.start.column>i.loc.start.column;)++o;if(o){let{enclosingNode:l}=e[o-1];l?.type==="CallExpression"&&--o}e.forEach(function(l,u){u<o?ND(n,l):ID(i,l)}),e.length=0}function up(e,r){(e.comments||(e.comments=[])).push(r)}function ID(e,r){r.leading=!0,r.trailing=!1,up(e,r)}function r1(e,r){r.leading=!1,r.trailing=!1,up(e,r)}function ND(e,r){r.leading=!1,r.trailing=!0,up(e,r)}function n1(e,r){let t=e.getValue();Xi.Comment.assert(t);let n=t.loc,i=n&&n.lines,s=[r(e)];if(t.trailing)s.push(`
`);else if(i instanceof Yi){let o=i.slice(n.end,i.skipSpaces(n.end)||i.lastPos());o.length===1?s.push(o):s.push(new Array(o.length).join(`
`))}else s.push(`
`);return w(s)}function i1(e,r){let t=e.getValue(e);Xi.Comment.assert(t);let n=t.loc,i=n&&n.lines,s=[];if(i instanceof Yi){let o=i.skipSpaces(n.start,!0)||i.firstPos(),a=i.slice(o,n.start);a.length===1?s.push(a):s.push(new Array(a.length).join(`
`))}return s.push(r(e)),w(s)}function rD(e,r){let t=e.getValue(),n=r(e),i=Xi.Node.check(t)&&cn(t,"comments");if(!i||i.length===0)return n;let s=[],o=[n];return e.each(function(a){let l=a.getValue(),u=cn(l,"leading"),c=cn(l,"trailing");u||c&&!(Xi.Statement.check(t)||l.type==="Block"||l.type==="CommentBlock")?s.push(n1(a,r)):c&&o.push(i1(a,r))},"comments"),s.push.apply(s,o),w(s)}var s1=Qi,o1=br.object,a1=br.array;function FD(e,r){r=Ya(r);let t=A(e,r),n=t.toString({tabWidth:r.tabWidth,reuseWhitespace:!1,useTabs:!1}),i=[],s=r.parser.parse(n,{jsx:!0,loc:!0,locations:!0,range:r.range,comment:!0,onComment:i,tolerant:Zy(r,"tolerant",!0),ecmaVersion:6,sourceType:Zy(r,"sourceType","module")}),o=Array.isArray(s.tokens)?s.tokens:!1;delete s.tokens,o.forEach(function(c){typeof c.value!="string"&&(c.value=t.sliceString(c.loc.start,c.loc.end))}),Array.isArray(s.comments)&&(i=s.comments,delete s.comments),s.loc?lp(s,t):s.loc={start:t.firstPos(),end:t.lastPos()},s.loc.lines=t,s.loc.indent=0;let a,l;s.type==="Program"?(l=s,a=s1.file(s,r.sourceFileName||null),a.loc={start:t.firstPos(),end:t.lastPos(),lines:t,indent:0}):s.type==="File"&&(a=s,l=a.program),r.tokens&&(a.tokens=o);let u=SD({type:l.type,loc:l.loc,body:[],comments:i},t);return l.loc.start=u.start,l.loc.end=u.end,t1(i,l.body.length?a.program:a,t),new _D(t,o).copy(a)}var _D=function(r,t){this.lines=r,this.tokens=t,this.startTokenIndex=0,this.endTokenIndex=t.length,this.indent=0,this.seen=new Map},kD=_D.prototype;kD.copy=function(e){if(this.seen.has(e))return this.seen.get(e);if(a1.check(e)){let u=new Array(e.length);return this.seen.set(e,u),e.forEach(function(c,p){u[p]=this.copy(c)},this),u}if(!o1.check(e))return e;lp(e,this.lines);let r=Object.create(Object.getPrototypeOf(e),{original:{value:e,configurable:!1,enumerable:!1,writable:!0}});this.seen.set(e,r);let t=e.loc,n=this.indent,i=n,s=this.startTokenIndex,o=this.endTokenIndex;t&&((e.type==="Block"||e.type==="Line"||e.type==="CommentBlock"||e.type==="CommentLine"||this.lines.isPrecededOnlyByWhitespace(t.start))&&(i=this.indent=t.start.column),t.lines=this.lines,t.tokens=this.tokens,t.indent=i,this.findTokenRange(t));let a=Object.keys(e),l=a.length;for(let u=0;u<l;++u){let c=a[u];c==="loc"||c==="tokens"&&e.type==="File"?r[c]=e[c]:r[c]=this.copy(e[c])}return this.indent=n,this.startTokenIndex=s,this.endTokenIndex=o,r};kD.findTokenRange=function(e){for(;this.startTokenIndex>0;){let r=e.tokens[this.startTokenIndex];if(Te(e.start,r.loc.start)<0)--this.startTokenIndex;else break}for(;this.endTokenIndex<e.tokens.length;){let r=e.tokens[this.endTokenIndex];if(Te(r.loc.end,e.end)<0)++this.endTokenIndex;else break}for(;this.startTokenIndex<this.endTokenIndex;){let r=e.tokens[this.startTokenIndex];if(Te(r.loc.start,e.start)<0)++this.startTokenIndex;else break}for(e.start.token=this.startTokenIndex;this.endTokenIndex>this.startTokenIndex;){let r=e.tokens[this.endTokenIndex-1];if(Te(e.end,r.loc.end)<0)--this.endTokenIndex;else break}e.end.token=this.endTokenIndex};var Ve=Dr,l1=br.array,u1=br.number,np={};[["??"],["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"],["**"]].forEach(function(e,r){e.forEach(function(t){np[t]=r})});var yr=function(r){this.stack=[r]},wt=yr.prototype;yr.from=function(e){if(e instanceof yr)return e.copy();if(e instanceof UP){let r=Object.create(yr.prototype),t=[e.value];for(let n;n=e.parentPath;e=n)t.push(e.name,n.value);return r.stack=t.reverse(),r}return new yr(e)};wt.copy=function(){let r=Object.create(yr.prototype);return r.stack=this.stack.slice(0),r};wt.getName=function(){let r=this.stack,t=r.length;return t>1?r[t-2]:null};wt.getValue=function(){let r=this.stack;return r[r.length-1]};wt.valueIsDuplicate=function(){let e=this.stack,r=e.length-1;return e.lastIndexOf(e[r],r-1)>=0};function OD(e,r){let t=e.stack;for(let n=t.length-1;n>=0;n-=2){let i=t[n];if(Ve.Node.check(i)&&--r<0)return i}return null}wt.getNode=function(r=0){return OD(this,~~r)};wt.getParentNode=function(r=0){return OD(this,~~r+1)};wt.getRootValue=function(){let r=this.stack;return r.length%2===0?r[1]:r[0]};wt.call=function(r){let t=this.stack,n=t.length,i=t[n-1],s=arguments.length;for(let a=1;a<s;++a){let l=arguments[a];i=i[l],t.push(l,i)}let o=r(this);return t.length=n,o};wt.each=function(r){let t=this.stack,n=t.length,i=t[n-1],s=arguments.length;for(let o=1;o<s;++o){let a=arguments[o];i=i[a],t.push(a,i)}for(let o=0;o<i.length;++o)o in i&&(t.push(o,i[o]),r(this),t.length-=2);t.length=n};wt.map=function(r){let t=this.stack,n=t.length,i=t[n-1],s=arguments.length;for(let a=1;a<s;++a){let l=arguments[a];i=i[l],t.push(l,i)}let o=new Array(i.length);for(let a=0;a<i.length;++a)a in i&&(t.push(a,i[a]),o[a]=r(this,a),t.length-=2);return t.length=n,o};wt.hasParens=function(){let e=this.getNode(),r=this.getPrevToken(e);if(!r)return!1;let t=this.getNextToken(e);return t?!!(r.value==="("&&(t.value===")"||!this.canBeFirstInStatement()&&this.firstInStatement()&&!this.needsParens(!0))):!1};wt.getPrevToken=function(e){e=e||this.getNode();let r=e&&e.loc,t=r&&r.tokens;if(t&&r.start.token>0){let n=t[r.start.token-1];if(n){let i=this.getRootValue().loc;if(Te(i.start,n.loc.start)<=0)return n}}return null};wt.getNextToken=function(e){e=e||this.getNode();let r=e&&e.loc,t=r&&r.tokens;if(t&&r.end.token<t.length){let n=t[r.end.token];if(n){let i=this.getRootValue().loc;if(Te(n.loc.end,i.end)<=0)return n}}return null};wt.needsParens=function(e){let r=this.getNode();if(r.type==="AssignmentExpression"&&r.left.type==="ObjectPattern")return!0;let t=this.getParentNode(),n=this.getName();if(this.getValue()!==r||Ve.Statement.check(r)||r.type==="Identifier"||t&&t.type==="ParenthesizedExpression")return!1;if(r.extra&&r.extra.parenthesized)return!0;if(!t)return!1;if(r.type==="UnaryExpression"&&t.type==="BinaryExpression"&&n==="left"&&t.left===r&&t.operator==="**")return!0;switch(r.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return t.type==="MemberExpression"&&n==="object"&&t.object===r;case"BinaryExpression":case"LogicalExpression":switch(t.type){case"CallExpression":return n==="callee"&&t.callee===r;case"UnaryExpression":case"SpreadElement":case"SpreadProperty":return!0;case"MemberExpression":return n==="object"&&t.object===r;case"BinaryExpression":case"LogicalExpression":{let i=t.operator,s=np[i],o=r.operator,a=np[o];if(s>a||s===a&&n==="right")return!0;break}default:return!1}break;case"SequenceExpression":switch(t.type){case"ReturnStatement":return!1;case"ForStatement":return!1;case"ExpressionStatement":return n!=="expression";default:return!0}case"OptionalIndexedAccessType":return r.optional&&t.type==="IndexedAccessType";case"IntersectionTypeAnnotation":case"UnionTypeAnnotation":return t.type==="NullableTypeAnnotation";case"Literal":return t.type==="MemberExpression"&&u1.check(r.value)&&n==="object"&&t.object===r;case"NumericLiteral":return t.type==="MemberExpression"&&n==="object"&&t.object===r;case"YieldExpression":case"AwaitExpression":case"AssignmentExpression":case"ConditionalExpression":switch(t.type){case"UnaryExpression":case"SpreadElement":case"SpreadProperty":case"BinaryExpression":case"LogicalExpression":return!0;case"CallExpression":case"NewExpression":return n==="callee"&&t.callee===r;case"ConditionalExpression":return n==="test"&&t.test===r;case"MemberExpression":return n==="object"&&t.object===r;default:return!1}case"ArrowFunctionExpression":return Ve.CallExpression.check(t)&&n==="callee"&&t.callee===r||Ve.MemberExpression.check(t)&&n==="object"&&t.object===r||Ve.TSAsExpression&&Ve.TSAsExpression.check(t)&&n==="expression"&&t.expression===r?!0:RD(t);case"ObjectExpression":if(t.type==="ArrowFunctionExpression"&&n==="body"&&t.body===r)return!0;break;case"TSAsExpression":if(t.type==="ArrowFunctionExpression"&&n==="body"&&t.body===r&&r.expression.type==="ObjectExpression")return!0;break;case"CallExpression":if(n==="declaration"&&Ve.ExportDefaultDeclaration.check(t)&&Ve.FunctionExpression.check(r.callee))return!0}return t.type==="NewExpression"&&n==="callee"&&t.callee===r?ip(r):!!(e!==!0&&!this.canBeFirstInStatement()&&this.firstInStatement())};function RD(e){return Ve.BinaryExpression.check(e)||Ve.LogicalExpression.check(e)}function ip(e){return Ve.CallExpression.check(e)?!0:l1.check(e)?e.some(ip):Ve.Node.check(e)?jP(e,(r,t)=>ip(t)):!1}wt.canBeFirstInStatement=function(){let e=this.getNode();return!(Ve.FunctionExpression.check(e)||Ve.ObjectExpression.check(e)||Ve.ClassExpression.check(e))};wt.firstInStatement=function(){let e=this.stack,r,t,n,i;for(let s=e.length-1;s>=0;s-=2)if(Ve.Node.check(e[s])&&(n=r,i=t,r=e[s-1],t=e[s]),!(!t||!i)){if(Ve.BlockStatement.check(t)&&r==="body"&&n===0||Ve.ExpressionStatement.check(t)&&n==="expression"||Ve.AssignmentExpression.check(t)&&n==="left"||Ve.ArrowFunctionExpression.check(t)&&n==="body")return!0;if(!(Ve.SequenceExpression.check(t)&&e[s+1]==="expressions"&&n===0)&&!(Ve.CallExpression.check(t)&&n==="callee")&&!(Ve.MemberExpression.check(t)&&n==="object")&&!(Ve.ConditionalExpression.check(t)&&n==="test")&&!(RD(t)&&n==="left")&&!(Ve.UnaryExpression.check(t)&&!t.prefix&&n==="argument"))return!1}return!0};var so=Dr.Printable,nD=Dr.Expression,c1=Dr.ReturnStatement,p1=Dr.SourceLocation,oo=br.object,sp=br.array,d1=br.string,Wa=/[0-9a-z_$]/i,LD=function(r){let t=this,n=[];t.replace=function(i,s){d1.check(s)&&(s=A(s)),n.push({lines:s,start:i.start,end:i.end})},t.get=function(i){i=i||{start:{line:1,column:0},end:{line:r.length,column:r.getLineLength(r.length)}};let s=i.start,o=[];function a(l,u){o.push(r.slice(l,u))}return n.sort((l,u)=>Te(l.start,u.start)).forEach(function(l){Te(s,l.start)>0||(a(s,l.start),o.push(l.lines),s=l.end)}),a(s,i.end),w(o)}},BD=LD.prototype;BD.tryToReprintComments=function(e,r,t){let n=this;if(!e.comments&&!r.comments)return!0;let i=yr.from(e),s=yr.from(r);i.stack.push("comments",iD(e)),s.stack.push("comments",iD(r));let o=[],a=$D(i,s,o);return a&&o.length>0&&o.forEach(function(l){let u=l.oldPath.getValue();n.replace(u.loc,t(l.newPath).indentTail(u.loc.indent))}),a};function iD(e){let r=[];return e.comments&&e.comments.length>0&&e.comments.forEach(function(t){(t.leading||t.trailing)&&r.push(t)}),r}BD.deleteComments=function(e){if(!e.comments)return;let r=this;e.comments.forEach(function(t){t.leading?r.replace({start:t.loc.start,end:e.loc.lines.skipSpaces(t.loc.end,!1,!1)},""):t.trailing&&r.replace({start:e.loc.lines.skipSpaces(t.loc.start,!0,!1),end:t.loc.end},"")})};function f1(e){let r=e.getValue();if(!so.check(r))return;let t=r.original,n=t&&t.loc,i=n&&n.lines,s=[];if(!(!i||!g1(e,s)))return function(o){let a=new LD(i);s.forEach(function(u){let c=u.newPath.getValue(),p=u.oldPath.getValue();p1.assert(p.loc,!0);let d=!a.tryToReprintComments(c,p,o);d&&a.deleteComments(p);let f=o(u.newPath,{includeComments:d,avoidRootParens:p.type===c.type&&u.oldPath.hasParens()}).indentTail(p.loc.indent),m=m1(i,p.loc,f),h=h1(i,p.loc,f);if(m||h){let g=[];m&&g.push(" "),g.push(f),h&&g.push(" "),f=w(g)}a.replace(p.loc,f)});let l=a.get(n).indentTail(-t.loc.indent);return e.needsParens()?w(["(",l,")"]):l}}function m1(e,r,t){let n=_n(r.start),i=e.prevPos(n)&&e.charAt(n),s=t.charAt(t.firstPos());return i&&Wa.test(i)&&s&&Wa.test(s)}function h1(e,r,t){let n=e.charAt(r.end),i=t.lastPos(),s=t.prevPos(i)&&t.charAt(i);return s&&Wa.test(s)&&n&&Wa.test(n)}function g1(e,r){let t=e.getValue();so.assert(t);let n=t.original;if(so.assert(n),t.type!==n.type)return!1;let i=new yr(n),s=op(e,i,r);return s||(r.length=0),s}function MD(e,r,t){let n=e.getValue(),i=r.getValue();return n===i?!0:sp.check(n)?$D(e,r,t):oo.check(n)?y1(e,r,t):!1}function $D(e,r,t){let n=e.getValue(),i=r.getValue();if(n===i||e.valueIsDuplicate()||r.valueIsDuplicate())return!0;sp.assert(n);let s=n.length;if(!(sp.check(i)&&i.length===s))return!1;for(let o=0;o<s;++o){e.stack.push(o,n[o]),r.stack.push(o,i[o]);let a=MD(e,r,t);if(e.stack.length-=2,r.stack.length-=2,!a)return!1}return!0}function y1(e,r,t){let n=e.getValue();if(oo.assert(n),n.original===null)return!1;let i=r.getValue();if(!oo.check(i))return!1;if(n===i||e.valueIsDuplicate()||r.valueIsDuplicate())return!0;if(so.check(n)){if(!so.check(i))return!1;let s=e.getParentNode(),o=r.getParentNode();if(o!==null&&o.type==="FunctionTypeAnnotation"&&s!==null&&s.type==="FunctionTypeAnnotation"){let a=o.params.length!==1||!!o.params[0].name,l=s.params.length!==1||!!s.params[0].name;if(!a&&l)return!1}if(n.type===i.type){let a=[];if(op(e,r,a))t.push.apply(t,a);else if(i.loc)t.push({oldPath:r.copy(),newPath:e.copy()});else return!1;return!0}return nD.check(n)&&nD.check(i)&&i.loc?(t.push({oldPath:r.copy(),newPath:e.copy()}),!0):!1}return op(e,r,t)}function op(e,r,t){let n=e.getValue(),i=r.getValue();if(oo.assert(n),oo.assert(i),n.original===null||e.needsParens()&&!r.hasParens())return!1;let s=zP(i,n);(i.type==="File"||n.type==="File")&&delete s.tokens,delete s.loc;let o=t.length;for(let a in s){if(a.charAt(0)==="_")continue;e.stack.push(a,cn(n,a)),r.stack.push(a,cn(i,a));let l=MD(e,r,t);if(e.stack.length-=2,r.stack.length-=2,!l)return!1}return!(c1.check(e.getNode())&&t.length>o)}var rt=Dr,cp=br.string,D1=br.object,Ga=function(r,t){cp.assert(r),this.code=r,t&&(D1.assert(t),this.map=t)},b1=Ga.prototype,sD=!1;b1.toString=function(){return sD||(console.warn("Deprecation warning: recast.print now returns an object with a .code property. You appear to be treating the object as a string, which might still work but is strongly discouraged."),sD=!0),this.code};var oD=new Ga(""),x1=function(r){let t=r&&r.tabWidth;r=Ya(r),r.sourceFileName=null;function n(s,o){return s=Object.assign({},s,o),a=>i(a,s)}function i(s,o){if(o=o||{},o.includeComments)return rD(s,n(o,{includeComments:!1}));let a=r.tabWidth;if(!t){let c=s.getNode().loc;c&&c.lines&&c.lines.guessTabWidth&&(r.tabWidth=c.lines.guessTabWidth())}let l=f1(s),u=l?l(i):aD(s,r,o,n(o,{includeComments:!0,avoidRootParens:!1}));return r.tabWidth=a,u}this.print=function(s){if(!s)return oD;let o=i(yr.from(s),{includeComments:!0,avoidRootParens:!1});return new Ga(o.toString(r),qP(r.inputSourceMap,o.getSourceMap(r.sourceMapName,r.sourceRoot)))},this.printGenerically=function(s){if(!s)return oD;function o(c){return rD(c,p=>aD(p,r,{includeComments:!0,avoidRootParens:!1},o))}let a=yr.from(s),l=r.reuseWhitespace;r.reuseWhitespace=!1;let u=new Ga(o(a).toString(r));return r.reuseWhitespace=l,u}};function aD(e,r,t,n){let i=e.getValue(),s=[],o=E1(e,r,n);if(!i||o.isEmpty())return o;let a=!1,l=C1(e,n);return l.isEmpty()?t.avoidRootParens||(a=e.needsParens()):s.push(l),a&&s.unshift("("),s.push(o),a&&s.push(")"),w(s)}function E1(e,r,t){let n=e.getValue();if(!n)return A("");if(typeof n=="string")return A(n,r);rt.Printable.assert(n);let i=[];switch(n.type){case"File":return e.call(t,"program");case"Program":return n.directives&&e.each(function(s){i.push(t(s),`;
`)},"directives"),n.interpreter&&i.push(e.call(t,"interpreter")),i.push(e.call(s=>Hi(s,r,t),"body")),w(i);case"Noop":case"EmptyStatement":return A("");case"ExpressionStatement":return w([e.call(t,"expression"),";"]);case"ParenthesizedExpression":return w(["(",e.call(t,"expression"),")"]);case"BinaryExpression":case"LogicalExpression":case"AssignmentExpression":return A(" ").join([e.call(t,"left"),n.operator,e.call(t,"right")]);case"AssignmentPattern":return w([e.call(t,"left")," = ",e.call(t,"right")]);case"MemberExpression":case"OptionalMemberExpression":{i.push(e.call(t,"object"));let s=e.call(t,"property"),o=cn(n,"optional");return n.computed?i.push(o?"?.[":"[",s,"]"):i.push(o?"?.":".",s),w(i)}case"ChainExpression":return e.call(t,"expression");case"MetaProperty":return w([e.call(t,"meta"),".",e.call(t,"property")]);case"BindExpression":return n.object&&i.push(e.call(t,"object")),i.push("::",e.call(t,"callee")),w(i);case"Path":return A(".").join(n.body);case"Identifier":return w([A(n.name,r),n.optional?"?":"",e.call(t,"typeAnnotation")]);case"SpreadElement":case"SpreadElementPattern":case"RestProperty":case"SpreadProperty":case"SpreadPropertyPattern":case"ObjectTypeSpreadProperty":case"RestElement":return w(["...",e.call(t,"argument"),e.call(t,"typeAnnotation")]);case"FunctionDeclaration":case"FunctionExpression":case"TSDeclareFunction":return n.declare&&i.push("declare "),n.async&&i.push("async "),i.push("function"),n.generator&&i.push("*"),n.id?i.push(" ",e.call(t,"id"),e.call(t,"typeParameters")):n.typeParameters&&i.push(e.call(t,"typeParameters")),i.push("(",Mr(e,r,t),")",e.call(t,"returnType")),n.body&&i.push(" ",e.call(t,"body")),w(i);case"ArrowFunctionExpression":return n.async&&i.push("async "),n.typeParameters&&i.push(e.call(t,"typeParameters")),!r.arrowParensAlways&&n.params.length===1&&!n.rest&&n.params[0].type==="Identifier"&&!n.params[0].typeAnnotation&&!n.returnType?i.push(e.call(t,"params",0)):i.push("(",Mr(e,r,t),")",e.call(t,"returnType")),i.push(" => ",e.call(t,"body")),w(i);case"MethodDefinition":return Jc(e,r,t);case"YieldExpression":return i.push("yield"),n.delegate&&i.push("*"),n.argument&&i.push(" ",e.call(t,"argument")),w(i);case"AwaitExpression":return i.push("await"),n.all&&i.push("*"),n.argument&&i.push(" ",e.call(t,"argument")),w(i);case"ModuleExpression":return w([`module {
`,e.call(t,"body").indent(r.tabWidth),`
}`]);case"ModuleDeclaration":return i.push("module",e.call(t,"id")),n.source?i.push("from",e.call(t,"source")):i.push(e.call(t,"body")),A(" ").join(i);case"ImportSpecifier":return n.importKind&&n.importKind!=="value"&&i.push(n.importKind+" "),n.imported?(i.push(e.call(t,"imported")),n.local&&n.local.name!==n.imported.name&&i.push(" as ",e.call(t,"local"))):n.id&&(i.push(e.call(t,"id")),n.name&&i.push(" as ",e.call(t,"name"))),w(i);case"ExportSpecifier":return n.exportKind&&n.exportKind!=="value"&&i.push(n.exportKind+" "),n.local?(i.push(e.call(t,"local")),n.exported&&n.exported.name!==n.local.name&&i.push(" as ",e.call(t,"exported"))):n.id&&(i.push(e.call(t,"id")),n.name&&i.push(" as ",e.call(t,"name"))),w(i);case"ExportBatchSpecifier":return A("*");case"ImportNamespaceSpecifier":return i.push("* as "),n.local?i.push(e.call(t,"local")):n.id&&i.push(e.call(t,"id")),w(i);case"ImportDefaultSpecifier":return n.local?e.call(t,"local"):e.call(t,"id");case"TSExportAssignment":return w(["export = ",e.call(t,"expression")]);case"ExportDeclaration":case"ExportDefaultDeclaration":case"ExportNamedDeclaration":return uD(e,r,t);case"ExportAllDeclaration":return i.push("export *"),n.exported&&i.push(" as ",e.call(t,"exported")),i.push(" from ",e.call(t,"source"),";"),w(i);case"TSNamespaceExportDeclaration":return i.push("export as namespace ",e.call(t,"id")),$a(w(i));case"ExportNamespaceSpecifier":return w(["* as ",e.call(t,"exported")]);case"ExportDefaultSpecifier":return e.call(t,"exported");case"Import":return A("import",r);case"ImportExpression":return w(["import(",e.call(t,"source"),")"]);case"ImportDeclaration":{if(i.push("import "),n.importKind&&n.importKind!=="value"&&i.push(n.importKind+" "),n.specifiers&&n.specifiers.length>0){let s=[],o=[];if(e.each(function(a){let l=a.getValue();l.type==="ImportSpecifier"?o.push(t(a)):(l.type==="ImportDefaultSpecifier"||l.type==="ImportNamespaceSpecifier")&&s.push(t(a))},"specifiers"),s.forEach((a,l)=>{l>0&&i.push(", "),i.push(a)}),o.length>0){let a=A(", ").join(o);a.getLineLength(1)>r.wrapColumn&&(a=w([A(`,
`).join(o).indent(r.tabWidth),","])),s.length>0&&i.push(", "),a.length>1?i.push(`{
`,a,`
}`):r.objectCurlySpacing?i.push("{ ",a," }"):i.push("{",a,"}")}i.push(" from ")}return i.push(e.call(t,"source"),jD(e,r,t),";"),w(i)}case"ImportAttribute":return w([e.call(t,"key"),": ",e.call(t,"value")]);case"StaticBlock":i.push("static ");case"BlockStatement":{let s=e.call(o=>Hi(o,r,t),"body");return s.isEmpty()&&(!n.directives||n.directives.length===0)?(i.push("{}"),w(i)):(i.push(`{
`),n.directives&&e.each(function(o){i.push($a(t(o).indent(r.tabWidth)),n.directives.length>1||!s.isEmpty()?`
`:"")},"directives"),i.push(s.indent(r.tabWidth)),i.push(`
}`),w(i))}case"ReturnStatement":{if(i.push("return"),n.argument){let s=e.call(t,"argument");s.startsWithComment()||s.length>1&&rt.JSXElement&&rt.JSXElement.check(n.argument)?i.push(` (
`,s.indent(r.tabWidth),`
)`):i.push(" ",s)}return i.push(";"),w(i)}case"CallExpression":case"OptionalCallExpression":return i.push(e.call(t,"callee")),n.typeParameters&&i.push(e.call(t,"typeParameters")),n.typeArguments&&i.push(e.call(t,"typeArguments")),cn(n,"optional")&&i.push("?."),i.push(lD(e,r,t)),w(i);case"RecordExpression":i.push("#");case"ObjectExpression":case"ObjectPattern":case"ObjectTypeAnnotation":{let s=n.type==="ObjectTypeAnnotation",o=r.flowObjectCommas?",":s?";":",",a=[],l=!1;s&&(a.push("indexers","callProperties"),n.internalSlots!=null&&a.push("internalSlots")),a.push("properties");let u=0;a.forEach(function(h){u+=n[h].length});let c=s&&u===1||u===0,p=n.exact?"{|":"{",d=n.exact?"|}":"}";i.push(c?p:p+`
`);let f=i.length-1,m=0;if(a.forEach(function(h){e.each(function(g){let y=t(g);c||(y=y.indent(r.tabWidth));let D=!s&&y.length>1;D&&l&&i.push(`
`),i.push(y),m<u-1?(i.push(o+(D?`

`:`
`)),l=!D):(u!==1&&s||!c&&no(r,"objects")&&g.getValue().type!=="RestElement")&&i.push(o),m++},h)}),n.inexact){let h=A("...",r);c?(u>0&&i.push(o," "),i.push(h)):i.push(`
`,h.indent(r.tabWidth))}return i.push(c?d:`
`+d),m!==0&&c&&r.objectCurlySpacing&&(i[f]=p+" ",i[i.length-1]=" "+d),n.typeAnnotation&&i.push(e.call(t,"typeAnnotation")),w(i)}case"PropertyPattern":return w([e.call(t,"key"),": ",e.call(t,"pattern")]);case"ObjectProperty":case"Property":{if(n.method||n.kind==="get"||n.kind==="set")return Jc(e,r,t);if(n.shorthand&&n.value.type==="AssignmentPattern")return e.call(t,"value");let s=e.call(t,"key");return n.computed?i.push("[",s,"]"):i.push(s),(!n.shorthand||n.key.name!==n.value.name)&&i.push(": ",e.call(t,"value")),w(i)}case"ClassMethod":case"ObjectMethod":case"ClassPrivateMethod":case"TSDeclareMethod":return Jc(e,r,t);case"PrivateName":return w(["#",e.call(t,"id")]);case"Decorator":return w(["@",e.call(t,"expression")]);case"TupleExpression":i.push("#");case"ArrayExpression":case"ArrayPattern":{let o=n.elements.length,a=e.map(t,"elements"),u=A(", ").join(a).getLineLength(1)<=r.wrapColumn;return u?r.arrayBracketSpacing?i.push("[ "):i.push("["):i.push(`[
`),e.each(function(c){let p=c.getName();if(!c.getValue())i.push(",");else{let f=a[p];u?p>0&&i.push(" "):f=f.indent(r.tabWidth),i.push(f),(p<o-1||!u&&no(r,"arrays"))&&i.push(","),u||i.push(`
`)}},"elements"),u&&r.arrayBracketSpacing?i.push(" ]"):i.push("]"),n.typeAnnotation&&i.push(e.call(t,"typeAnnotation")),w(i)}case"SequenceExpression":return A(", ").join(e.map(t,"expressions"));case"ThisExpression":return A("this");case"Super":return A("super");case"NullLiteral":return A("null");case"RegExpLiteral":return A(Ji(n)||`/${n.pattern}/${n.flags||""}`,r);case"BigIntLiteral":return A(Ji(n)||n.value+"n",r);case"NumericLiteral":return A(Ji(n)||n.value,r);case"DecimalLiteral":return A(Ji(n)||n.value+"m",r);case"StringLiteral":return A(eo(n.value,r));case"BooleanLiteral":case"Literal":return A(Ji(n)||(typeof n.value=="string"?eo(n.value,r):n.value),r);case"Directive":return e.call(t,"value");case"DirectiveLiteral":return A(Ji(n)||eo(n.value,r),r);case"InterpreterDirective":return A(`#!${n.value}
`,r);case"ModuleSpecifier":if(n.local)throw new Error("The ESTree ModuleSpecifier type should be abstract");return A(eo(n.value,r),r);case"UnaryExpression":return i.push(n.operator),/[a-z]$/.test(n.operator)&&i.push(" "),i.push(e.call(t,"argument")),w(i);case"UpdateExpression":return i.push(e.call(t,"argument"),n.operator),n.prefix&&i.reverse(),w(i);case"ConditionalExpression":return w([e.call(t,"test")," ? ",e.call(t,"consequent")," : ",e.call(t,"alternate")]);case"NewExpression":return i.push("new ",e.call(t,"callee")),n.typeParameters&&i.push(e.call(t,"typeParameters")),n.typeArguments&&i.push(e.call(t,"typeArguments")),n.arguments&&i.push(lD(e,r,t)),w(i);case"VariableDeclaration":{n.declare&&i.push("declare "),i.push(n.kind," ");let s=0,o=e.map(function(l){let u=t(l);return s=Math.max(u.length,s),u},"declarations");s===1?i.push(A(", ").join(o)):o.length>1?i.push(A(`,
`).join(o).indentTail(n.kind.length+1)):i.push(o[0]);let a=e.getParentNode();return!rt.ForStatement.check(a)&&!rt.ForInStatement.check(a)&&!(rt.ForOfStatement&&rt.ForOfStatement.check(a))&&!(rt.ForAwaitStatement&&rt.ForAwaitStatement.check(a))&&i.push(";"),w(i)}case"VariableDeclarator":return n.init?A(" = ").join([e.call(t,"id"),e.call(t,"init")]):e.call(t,"id");case"WithStatement":return w(["with (",e.call(t,"object"),") ",e.call(t,"body")]);case"IfStatement":{let s=ni(e.call(t,"consequent"),r);return i.push("if (",e.call(t,"test"),")",s),n.alternate&&i.push(cD(s)?" else":`
else`,ni(e.call(t,"alternate"),r)),w(i)}case"ForStatement":{let s=e.call(t,"init"),o=s.length>1?`;
`:"; ",a="for (",l=A(o).join([s,e.call(t,"test"),e.call(t,"update")]).indentTail(a.length),u=w([a,l,")"]),c=ni(e.call(t,"body"),r);return i.push(u),u.length>1&&(i.push(`
`),c=c.trimLeft()),i.push(c),w(i)}case"WhileStatement":return w(["while (",e.call(t,"test"),")",ni(e.call(t,"body"),r)]);case"ForInStatement":return w([n.each?"for each (":"for (",e.call(t,"left")," in ",e.call(t,"right"),")",ni(e.call(t,"body"),r)]);case"ForOfStatement":case"ForAwaitStatement":return i.push("for "),(n.await||n.type==="ForAwaitStatement")&&i.push("await "),i.push("(",e.call(t,"left")," of ",e.call(t,"right"),")",ni(e.call(t,"body"),r)),w(i);case"DoWhileStatement":{let s=w(["do",ni(e.call(t,"body"),r)]);return i.push(s),cD(s)?i.push(" while"):i.push(`
while`),i.push(" (",e.call(t,"test"),");"),w(i)}case"DoExpression":{let s=e.call(o=>Hi(o,r,t),"body");return w([`do {
`,s.indent(r.tabWidth),`
}`])}case"BreakStatement":return i.push("break"),n.label&&i.push(" ",e.call(t,"label")),i.push(";"),w(i);case"ContinueStatement":return i.push("continue"),n.label&&i.push(" ",e.call(t,"label")),i.push(";"),w(i);case"LabeledStatement":return w([e.call(t,"label"),`:
`,e.call(t,"body")]);case"TryStatement":return i.push("try ",e.call(t,"block")),n.handler?i.push(" ",e.call(t,"handler")):n.handlers&&e.each(function(s){i.push(" ",t(s))},"handlers"),n.finalizer&&i.push(" finally ",e.call(t,"finalizer")),w(i);case"CatchClause":return i.push("catch "),n.param&&i.push("(",e.call(t,"param")),n.guard&&i.push(" if ",e.call(t,"guard")),n.param&&i.push(") "),i.push(e.call(t,"body")),w(i);case"ThrowStatement":return w(["throw ",e.call(t,"argument"),";"]);case"SwitchStatement":return w(["switch (",e.call(t,"discriminant"),`) {
`,A(`
`).join(e.map(t,"cases")),`
}`]);case"SwitchCase":return n.test?i.push("case ",e.call(t,"test"),":"):i.push("default:"),n.consequent.length>0&&i.push(`
`,e.call(s=>Hi(s,r,t),"consequent").indent(r.tabWidth)),w(i);case"DebuggerStatement":return A("debugger;");case"JSXAttribute":return i.push(e.call(t,"name")),n.value&&i.push("=",e.call(t,"value")),w(i);case"JSXIdentifier":return A(n.name,r);case"JSXNamespacedName":return A(":").join([e.call(t,"namespace"),e.call(t,"name")]);case"JSXMemberExpression":return A(".").join([e.call(t,"object"),e.call(t,"property")]);case"JSXSpreadAttribute":return w(["{...",e.call(t,"argument"),"}"]);case"JSXSpreadChild":return w(["{...",e.call(t,"expression"),"}"]);case"JSXExpressionContainer":return w(["{",e.call(t,"expression"),"}"]);case"JSXElement":case"JSXFragment":{let s="opening"+(n.type==="JSXElement"?"Element":"Fragment"),o="closing"+(n.type==="JSXElement"?"Element":"Fragment"),a=e.call(t,s);if(n[s].selfClosing)return a;let l=w(e.map(function(c){let p=c.getValue();if(rt.Literal.check(p)&&typeof p.value=="string"){if(/\S/.test(p.value))return p.value.replace(/^\s+|\s+$/g,"");if(/\n/.test(p.value))return`
`}return t(c)},"children")).indentTail(r.tabWidth),u=e.call(t,o);return w([a,l,u])}case"JSXOpeningElement":{i.push("<",e.call(t,"name"));let s=[];e.each(function(l){s.push(" ",t(l))},"attributes");let o=w(s);return(o.length>1||o.getLineLength(1)>r.wrapColumn)&&(s.forEach(function(l,u){l===" "&&(s[u]=`
`)}),o=w(s).indentTail(r.tabWidth)),i.push(o,n.selfClosing?" />":">"),w(i)}case"JSXClosingElement":return w(["</",e.call(t,"name"),">"]);case"JSXOpeningFragment":return A("<>");case"JSXClosingFragment":return A("</>");case"JSXText":return A(n.value,r);case"JSXEmptyExpression":return A("");case"TypeAnnotatedIdentifier":return w([e.call(t,"annotation")," ",e.call(t,"identifier")]);case"ClassBody":return n.body.length===0?A("{}"):w([`{
`,e.call(s=>Hi(s,r,t),"body").indent(r.tabWidth),`
}`]);case"ClassPropertyDefinition":return i.push("static ",e.call(t,"definition")),rt.MethodDefinition.check(n.definition)||i.push(";"),w(i);case"ClassProperty":{n.declare&&i.push("declare ");let s=n.accessibility||n.access;typeof s=="string"&&i.push(s," "),n.static&&i.push("static "),n.abstract&&i.push("abstract "),n.readonly&&i.push("readonly ");let o=e.call(t,"key");return n.computed&&(o=w(["[",o,"]"])),n.variance&&(o=w([Zs(e,t),o])),i.push(o),n.optional&&i.push("?"),n.definite&&i.push("!"),n.typeAnnotation&&i.push(e.call(t,"typeAnnotation")),n.value&&i.push(" = ",e.call(t,"value")),i.push(";"),w(i)}case"ClassPrivateProperty":return n.static&&i.push("static "),i.push(e.call(t,"key")),n.typeAnnotation&&i.push(e.call(t,"typeAnnotation")),n.value&&i.push(" = ",e.call(t,"value")),i.push(";"),w(i);case"ClassAccessorProperty":return i.push(...UD(n),"accessor "),n.computed?i.push("[",e.call(t,"key"),"]"):i.push(e.call(t,"key")),n.optional&&i.push("?"),n.definite&&i.push("!"),n.typeAnnotation&&i.push(e.call(t,"typeAnnotation")),n.value&&i.push(" = ",e.call(t,"value")),i.push(";"),w(i);case"ClassDeclaration":case"ClassExpression":case"DeclareClass":return n.declare&&i.push("declare "),n.abstract&&i.push("abstract "),i.push("class"),n.id&&i.push(" ",e.call(t,"id")),n.typeParameters&&i.push(e.call(t,"typeParameters")),n.superClass&&i.push(" extends ",e.call(t,"superClass"),e.call(t,"superTypeParameters")),n.extends&&n.extends.length>0&&i.push(" extends ",A(", ").join(e.map(t,"extends"))),n.implements&&n.implements.length>0&&i.push(" implements ",A(", ").join(e.map(t,"implements"))),i.push(" ",e.call(t,"body")),n.type==="DeclareClass"?Qs(e,i):w(i);case"TemplateElement":return A(n.value.raw,r).lockIndentTail();case"TemplateLiteral":{let s=e.map(t,"expressions");return i.push("`"),e.each(function(o){let a=o.getName();i.push(t(o)),a<s.length&&i.push("${",s[a],"}")},"quasis"),i.push("`"),w(i).lockIndentTail()}case"TaggedTemplateExpression":return w([e.call(t,"tag"),e.call(t,"quasi")]);case"Node":case"Printable":case"SourceLocation":case"Position":case"Statement":case"Function":case"Pattern":case"Expression":case"Declaration":case"Specifier":case"NamedSpecifier":case"Comment":case"Flow":case"FlowType":case"FlowPredicate":case"MemberTypeAnnotation":case"Type":case"TSHasOptionalTypeParameterInstantiation":case"TSHasOptionalTypeParameters":case"TSHasOptionalTypeAnnotation":case"ChainElement":throw new Error("unprintable type: "+JSON.stringify(n.type));case"CommentBlock":case"Block":return w(["/*",A(n.value,r),"*/"]);case"CommentLine":case"Line":return w(["//",A(n.value,r)]);case"TypeAnnotation":return n.typeAnnotation?(n.typeAnnotation.type!=="FunctionTypeAnnotation"&&i.push(": "),i.push(e.call(t,"typeAnnotation")),w(i)):A("");case"ExistentialTypeParam":case"ExistsTypeAnnotation":return A("*",r);case"EmptyTypeAnnotation":return A("empty",r);case"AnyTypeAnnotation":return A("any",r);case"MixedTypeAnnotation":return A("mixed",r);case"ArrayTypeAnnotation":return w([e.call(t,"elementType"),"[]"]);case"TupleTypeAnnotation":{let s=e.map(t,"types"),a=A(", ").join(s).getLineLength(1)<=r.wrapColumn;return a?r.arrayBracketSpacing?i.push("[ "):i.push("["):i.push(`[
`),e.each(function(l){let u=l.getName();if(!l.getValue())i.push(",");else{let p=s[u];a?u>0&&i.push(" "):p=p.indent(r.tabWidth),i.push(p),(u<n.types.length-1||!a&&no(r,"arrays"))&&i.push(","),a||i.push(`
`)}},"types"),a&&r.arrayBracketSpacing?i.push(" ]"):i.push("]"),w(i)}case"BooleanTypeAnnotation":return A("boolean",r);case"BooleanLiteralTypeAnnotation":return A(""+n.value,r);case"InterfaceTypeAnnotation":return i.push("interface"),n.extends&&n.extends.length>0&&i.push(" extends ",A(", ").join(e.map(t,"extends"))),i.push(" ",e.call(t,"body")),w(i);case"DeclareFunction":return Qs(e,["function ",e.call(t,"id"),";"]);case"DeclareModule":return Qs(e,["module ",e.call(t,"id")," ",e.call(t,"body")]);case"DeclareModuleExports":return Qs(e,["module.exports",e.call(t,"typeAnnotation")]);case"DeclareVariable":return Qs(e,["var ",e.call(t,"id"),";"]);case"DeclareExportDeclaration":case"DeclareExportAllDeclaration":return w(["declare ",uD(e,r,t)]);case"EnumDeclaration":return w(["enum ",e.call(t,"id"),e.call(t,"body")]);case"EnumBooleanBody":case"EnumNumberBody":case"EnumStringBody":case"EnumSymbolBody":return(n.type==="EnumSymbolBody"||n.explicitType)&&i.push(" of ",n.type.slice(4,-4).toLowerCase()),i.push(` {
`,A(`
`).join(e.map(t,"members")).indent(r.tabWidth),`
}`),w(i);case"EnumDefaultedMember":return w([e.call(t,"id"),","]);case"EnumBooleanMember":case"EnumNumberMember":case"EnumStringMember":return w([e.call(t,"id")," = ",e.call(t,"init"),","]);case"InferredPredicate":return A("%checks",r);case"DeclaredPredicate":return w(["%checks(",e.call(t,"value"),")"]);case"FunctionTypeAnnotation":{let s=e.getParentNode(0),o=!(rt.ObjectTypeCallProperty.check(s)||rt.ObjectTypeInternalSlot.check(s)&&s.method||rt.DeclareFunction.check(e.getParentNode(2)));o&&!rt.FunctionTypeParam.check(s)&&!rt.TypeAlias.check(s)&&i.push(": ");let l=!!n.typeParameters,u=l||n.params.length!==1||n.params[0].name;return i.push(l?e.call(t,"typeParameters"):"",u?"(":"",Mr(e,r,t),u?")":""),n.returnType&&i.push(o?" => ":": ",e.call(t,"returnType")),w(i)}case"FunctionTypeParam":{let s=e.call(t,"name");return i.push(s),n.optional&&i.push("?"),s.infos[0].line&&i.push(": "),i.push(e.call(t,"typeAnnotation")),w(i)}case"GenericTypeAnnotation":return w([e.call(t,"id"),e.call(t,"typeParameters")]);case"DeclareInterface":i.push("declare ");case"InterfaceDeclaration":case"TSInterfaceDeclaration":return n.declare&&i.push("declare "),i.push("interface ",e.call(t,"id"),e.call(t,"typeParameters")," "),n.extends&&n.extends.length>0&&i.push("extends ",A(", ").join(e.map(t,"extends"))," "),n.body&&i.push(e.call(t,"body")),w(i);case"ClassImplements":case"InterfaceExtends":return w([e.call(t,"id"),e.call(t,"typeParameters")]);case"IntersectionTypeAnnotation":return A(" & ").join(e.map(t,"types"));case"NullableTypeAnnotation":return w(["?",e.call(t,"typeAnnotation")]);case"NullLiteralTypeAnnotation":return A("null",r);case"ThisTypeAnnotation":return A("this",r);case"NumberTypeAnnotation":return A("number",r);case"ObjectTypeCallProperty":return e.call(t,"value");case"ObjectTypeIndexer":return n.static&&i.push("static "),i.push(Zs(e,t),"["),n.id&&i.push(e.call(t,"id"),": "),i.push(e.call(t,"key"),"]: ",e.call(t,"value")),w(i);case"ObjectTypeProperty":return w([Zs(e,t),e.call(t,"key"),n.optional?"?":"",": ",e.call(t,"value")]);case"ObjectTypeInternalSlot":return w([n.static?"static ":"","[[",e.call(t,"id"),"]]",n.optional?"?":"",n.value.type!=="FunctionTypeAnnotation"?": ":"",e.call(t,"value")]);case"QualifiedTypeIdentifier":return w([e.call(t,"qualification"),".",e.call(t,"id")]);case"StringLiteralTypeAnnotation":return A(eo(n.value,r),r);case"NumberLiteralTypeAnnotation":case"NumericLiteralTypeAnnotation":return A(JSON.stringify(n.value),r);case"BigIntLiteralTypeAnnotation":return A(n.raw,r);case"StringTypeAnnotation":return A("string",r);case"DeclareTypeAlias":i.push("declare ");case"TypeAlias":return w(["type ",e.call(t,"id"),e.call(t,"typeParameters")," = ",e.call(t,"right"),";"]);case"DeclareOpaqueType":i.push("declare ");case"OpaqueType":return i.push("opaque type ",e.call(t,"id"),e.call(t,"typeParameters")),n.supertype&&i.push(": ",e.call(t,"supertype")),n.impltype&&i.push(" = ",e.call(t,"impltype")),i.push(";"),w(i);case"TypeCastExpression":return w(["(",e.call(t,"expression"),e.call(t,"typeAnnotation"),")"]);case"TypeParameterDeclaration":case"TypeParameterInstantiation":return w(["<",A(", ").join(e.map(t,"params")),">"]);case"Variance":return n.kind==="plus"?A("+"):n.kind==="minus"?A("-"):A("");case"TypeParameter":return n.variance&&i.push(Zs(e,t)),i.push(e.call(t,"name")),n.bound&&i.push(e.call(t,"bound")),n.default&&i.push("=",e.call(t,"default")),w(i);case"TypeofTypeAnnotation":return w([A("typeof ",r),e.call(t,"argument")]);case"IndexedAccessType":case"OptionalIndexedAccessType":return w([e.call(t,"objectType"),n.optional?"?.":"","[",e.call(t,"indexType"),"]"]);case"UnionTypeAnnotation":return A(" | ").join(e.map(t,"types"));case"VoidTypeAnnotation":return A("void",r);case"NullTypeAnnotation":return A("null",r);case"SymbolTypeAnnotation":return A("symbol",r);case"BigIntTypeAnnotation":return A("bigint",r);case"TSType":throw new Error("unprintable type: "+JSON.stringify(n.type));case"TSNumberKeyword":return A("number",r);case"TSBigIntKeyword":return A("bigint",r);case"TSObjectKeyword":return A("object",r);case"TSBooleanKeyword":return A("boolean",r);case"TSStringKeyword":return A("string",r);case"TSSymbolKeyword":return A("symbol",r);case"TSAnyKeyword":return A("any",r);case"TSVoidKeyword":return A("void",r);case"TSIntrinsicKeyword":return A("intrinsic",r);case"TSThisType":return A("this",r);case"TSNullKeyword":return A("null",r);case"TSUndefinedKeyword":return A("undefined",r);case"TSUnknownKeyword":return A("unknown",r);case"TSNeverKeyword":return A("never",r);case"TSArrayType":return w([e.call(t,"elementType"),"[]"]);case"TSLiteralType":return e.call(t,"literal");case"TSUnionType":return A(" | ").join(e.map(t,"types"));case"TSIntersectionType":return A(" & ").join(e.map(t,"types"));case"TSConditionalType":return i.push(e.call(t,"checkType")," extends ",e.call(t,"extendsType")," ? ",e.call(t,"trueType")," : ",e.call(t,"falseType")),w(i);case"TSInferType":return i.push("infer ",e.call(t,"typeParameter")),w(i);case"TSParenthesizedType":return w(["(",e.call(t,"typeAnnotation"),")"]);case"TSFunctionType":return w([e.call(t,"typeParameters"),"(",Mr(e,r,t),") => ",e.call(t,"typeAnnotation","typeAnnotation")]);case"TSConstructorType":return w(["new ",e.call(t,"typeParameters"),"(",Mr(e,r,t),") => ",e.call(t,"typeAnnotation","typeAnnotation")]);case"TSMappedType":return i.push(n.readonly?"readonly ":"","[",e.call(t,"typeParameter"),"]",n.optional?"?":""),n.typeAnnotation&&i.push(": ",e.call(t,"typeAnnotation"),";"),w([`{
`,w(i).indent(r.tabWidth),`
}`]);case"TSTupleType":return w(["[",A(", ").join(e.map(t,"elementTypes")),"]"]);case"TSNamedTupleMember":return i.push(e.call(t,"label")),n.optional&&i.push("?"),i.push(": ",e.call(t,"elementType")),w(i);case"TSRestType":return w(["...",e.call(t,"typeAnnotation")]);case"TSOptionalType":return w([e.call(t,"typeAnnotation"),"?"]);case"TSIndexedAccessType":return w([e.call(t,"objectType"),"[",e.call(t,"indexType"),"]"]);case"TSTypeOperator":return w([e.call(t,"operator")," ",e.call(t,"typeAnnotation")]);case"TSTypeLiteral":{let s=A(`
`).join(e.map(t,"members").map(o=>ao(o)!==";"?o.concat(";"):o));return s.isEmpty()?A("{}",r):(i.push(`{
`,s.indent(r.tabWidth),`
}`),w(i))}case"TSEnumMember":return i.push(e.call(t,"id")),n.initializer&&i.push(" = ",e.call(t,"initializer")),w(i);case"TSTypeQuery":return w(["typeof ",e.call(t,"exprName")]);case"TSParameterProperty":return n.accessibility&&i.push(n.accessibility," "),n.export&&i.push("export "),n.static&&i.push("static "),n.readonly&&i.push("readonly "),i.push(e.call(t,"parameter")),w(i);case"TSTypeReference":return w([e.call(t,"typeName"),e.call(t,"typeParameters")]);case"TSQualifiedName":return w([e.call(t,"left"),".",e.call(t,"right")]);case"TSAsExpression":case"TSSatisfiesExpression":{let s=e.call(t,"expression");return i.push(s,n.type==="TSSatisfiesExpression"?" satisfies ":" as ",e.call(t,"typeAnnotation")),w(i)}case"TSTypeCastExpression":return w([e.call(t,"expression"),e.call(t,"typeAnnotation")]);case"TSNonNullExpression":return w([e.call(t,"expression"),"!"]);case"TSTypeAnnotation":return w([": ",e.call(t,"typeAnnotation")]);case"TSIndexSignature":return w([n.readonly?"readonly ":"","[",e.map(t,"parameters"),"]",e.call(t,"typeAnnotation")]);case"TSPropertySignature":return i.push(Zs(e,t),n.readonly?"readonly ":""),n.computed?i.push("[",e.call(t,"key"),"]"):i.push(e.call(t,"key")),i.push(n.optional?"?":"",e.call(t,"typeAnnotation")),w(i);case"TSMethodSignature":return n.computed?i.push("[",e.call(t,"key"),"]"):i.push(e.call(t,"key")),n.optional&&i.push("?"),i.push(e.call(t,"typeParameters"),"(",Mr(e,r,t),")",e.call(t,"typeAnnotation")),w(i);case"TSTypePredicate":return n.asserts&&i.push("asserts "),i.push(e.call(t,"parameterName")),n.typeAnnotation&&i.push(" is ",e.call(t,"typeAnnotation","typeAnnotation")),w(i);case"TSCallSignatureDeclaration":return w([e.call(t,"typeParameters"),"(",Mr(e,r,t),")",e.call(t,"typeAnnotation")]);case"TSConstructSignatureDeclaration":return n.typeParameters?i.push("new",e.call(t,"typeParameters")):i.push("new "),i.push("(",Mr(e,r,t),")",e.call(t,"typeAnnotation")),w(i);case"TSTypeAliasDeclaration":return w([n.declare?"declare ":"","type ",e.call(t,"id"),e.call(t,"typeParameters")," = ",e.call(t,"typeAnnotation"),";"]);case"TSTypeParameter":{i.push(e.call(t,"name"));let s=e.getParentNode(0),o=rt.TSMappedType.check(s);return n.constraint&&i.push(o?" in ":" extends ",e.call(t,"constraint")),n.default&&i.push(" = ",e.call(t,"default")),w(i)}case"TSTypeAssertion":return i.push("<",e.call(t,"typeAnnotation"),"> ",e.call(t,"expression")),w(i);case"TSTypeParameterDeclaration":case"TSTypeParameterInstantiation":return w(["<",A(", ").join(e.map(t,"params")),">"]);case"TSEnumDeclaration":{i.push(n.declare?"declare ":"",n.const?"const ":"","enum ",e.call(t,"id"));let s=A(`,
`).join(e.map(t,"members"));return s.isEmpty()?i.push(" {}"):i.push(` {
`,s.indent(r.tabWidth),`
}`),w(i)}case"TSExpressionWithTypeArguments":return w([e.call(t,"expression"),e.call(t,"typeParameters")]);case"TSInterfaceBody":{let s=A(`
`).join(e.map(t,"body").map(o=>ao(o)!==";"?o.concat(";"):o));return s.isEmpty()?A("{}",r):w([`{
`,s.indent(r.tabWidth),`
}`])}case"TSImportType":return i.push("import(",e.call(t,"argument"),")"),n.qualifier&&i.push(".",e.call(t,"qualifier")),n.typeParameters&&i.push(e.call(t,"typeParameters")),w(i);case"TSImportEqualsDeclaration":return n.isExport&&i.push("export "),i.push("import ",e.call(t,"id")," = ",e.call(t,"moduleReference")),$a(w(i));case"TSExternalModuleReference":return w(["require(",e.call(t,"expression"),")"]);case"TSModuleDeclaration":return e.getParentNode().type==="TSModuleDeclaration"?i.push("."):(n.declare&&i.push("declare "),n.global||(n.id.type==="StringLiteral"||n.id.type==="Literal"&&typeof n.id.value=="string"||n.loc&&n.loc.lines&&n.id.loc&&n.loc.lines.sliceString(n.loc.start,n.id.loc.start).indexOf("module")>=0?i.push("module "):i.push("namespace "))),i.push(e.call(t,"id")),n.body&&(i.push(" "),i.push(e.call(t,"body"))),w(i);case"TSModuleBlock":{let s=e.call(o=>Hi(o,r,t),"body");return s.isEmpty()?i.push("{}"):i.push(`{
`,s.indent(r.tabWidth),`
}`),w(i)}case"TSInstantiationExpression":return i.push(e.call(t,"expression"),e.call(t,"typeParameters")),w(i);case"V8IntrinsicIdentifier":return w(["%",e.call(t,"name")]);case"TopicReference":return A("#");case"ClassHeritage":case"ComprehensionBlock":case"ComprehensionExpression":case"Glob":case"GeneratorExpression":case"LetStatement":case"LetExpression":case"GraphExpression":case"GraphIndexExpression":case"XMLDefaultDeclaration":case"XMLAnyName":case"XMLQualifiedIdentifier":case"XMLFunctionQualifiedIdentifier":case"XMLAttributeSelector":case"XMLFilterExpression":case"XML":case"XMLElement":case"XMLList":case"XMLEscape":case"XMLText":case"XMLStartTag":case"XMLEndTag":case"XMLPointTag":case"XMLName":case"XMLAttribute":case"XMLCdata":case"XMLComment":case"XMLProcessingInstruction":default:debugger;throw new Error("unknown type: "+JSON.stringify(n.type))}}function C1(e,r){let t=[],n=e.getValue();return n.decorators&&n.decorators.length>0&&!wD(e)?e.each(function(i){t.push(r(i),`
`)},"decorators"):Ja(n)&&n.declaration&&n.declaration.decorators&&e.each(function(i){t.push(r(i),`
`)},"declaration","decorators"),w(t)}function Hi(e,r,t){let n=[];e.each(function(a){let l=a.getValue();l&&(l.type==="EmptyStatement"&&!(l.comments&&l.comments.length>0)||(rt.Comment.check(l)||rt.Statement.check(l)||cp.assert(l),n.push({node:l,printed:t(a)})))});let i=null,s=n.length,o=[];return n.forEach(function(a,l){let u=a.printed,c=a.node,p=u.length>1,d=l>0,f=l<s-1,m,h,g=c&&c.loc&&c.loc.lines,y=g&&r.reuseWhitespace&&SD(c,g);if(d)if(y){let D=g.skipSpaces(y.start,!0),C=D?D.line:1,x=y.start.line-C;m=Array(x+1).join(`
`)}else m=p?`

`:`
`;else m="";if(f)if(y){let D=g.skipSpaces(y.end),x=(D?D.line:g.length)-y.end.line;h=Array(x+1).join(`
`)}else h=p?`

`:`
`;else h="";o.push(S1(i,m),u),f?i=h:h&&o.push(h)}),w(o)}function S1(e,r){if(!e&&!r)return A("");if(!e)return A(r);if(!r)return A(e);let t=A(e),n=A(r);return n.length>t.length?n:t}function UD(e){let r=[];e.declare&&r.push("declare ");let t=e.accessibility||e.access;return typeof t=="string"&&r.push(t," "),e.static&&r.push("static "),e.override&&r.push("override "),e.abstract&&r.push("abstract "),e.readonly&&r.push("readonly "),r}function Jc(e,r,t){let n=e.getNode(),i=n.kind,s=[],o=n.value;rt.FunctionExpression.check(o)||(o=n),s.push(...UD(n)),o.async&&s.push("async "),o.generator&&s.push("*"),(i==="get"||i==="set")&&s.push(i," ");let a=e.call(t,"key");return n.computed&&(a=w(["[",a,"]"])),s.push(a),n.optional&&s.push("?"),n===o?(s.push(e.call(t,"typeParameters"),"(",Mr(e,r,t),")",e.call(t,"returnType")),n.body?s.push(" ",e.call(t,"body")):s.push(";")):(s.push(e.call(t,"value","typeParameters"),"(",e.call(l=>Mr(l,r,t),"value"),")",e.call(t,"value","returnType")),o.body?s.push(" ",e.call(t,"value","body")):s.push(";")),w(s)}function lD(e,r,t){let n=e.map(t,"arguments"),i=no(r,"parameters"),s=A(", ").join(n);return s.getLineLength(1)>r.wrapColumn?(s=A(`,
`).join(n),w([`(
`,s.indent(r.tabWidth),i?`,
)`:`
)`])):w(["(",s,")"])}function Mr(e,r,t){let n=e.getValue(),i,s=[];n.params?(i=n.params,s=e.map(t,"params")):n.parameters&&(i=n.parameters,s=e.map(t,"parameters")),n.defaults&&e.each(function(a){let l=a.getName(),u=s[l];u&&a.getValue()&&(s[l]=w([u," = ",t(a)]))},"defaults"),n.rest&&s.push(w(["...",e.call(t,"rest")]));let o=A(", ").join(s);return o.length>1||o.getLineLength(1)>r.wrapColumn?(o=A(`,
`).join(s),no(r,"parameters")&&!n.rest&&i[i.length-1].type!=="RestElement"?o=w([o,`,
`]):o=w([o,`
`]),w([`
`,o.indent(r.tabWidth)])):o}function jD(e,r,t){let n=e.getValue();if(n.assertions&&n.assertions.length>0){let i=[" assert {"],s=e.map(t,"assertions"),o=A(", ").join(s);return o.length>1||o.getLineLength(1)>r.wrapColumn?i.push(`
`,A(`,
`).join(s).indent(r.tabWidth),`
}`):i.push(" ",o," }"),w(i)}return A("")}function uD(e,r,t){let n=e.getValue(),i=["export "];n.exportKind&&n.exportKind==="type"&&(n.declaration||i.push("type "));let s=r.objectCurlySpacing;if(rt.Declaration.assert(n),(n.default||n.type==="ExportDefaultDeclaration")&&i.push("default "),n.declaration)i.push(e.call(t,"declaration"));else if(n.specifiers){if(n.specifiers.length===1&&n.specifiers[0].type==="ExportBatchSpecifier")i.push("*");else if(n.specifiers.length===0)i.push("{}");else if(n.specifiers[0].type==="ExportDefaultSpecifier"){let a=[],l=[];if(e.each(function(u){u.getValue().type==="ExportDefaultSpecifier"?a.push(t(u)):l.push(t(u))},"specifiers"),a.forEach((u,c)=>{c>0&&i.push(", "),i.push(u)}),l.length>0){let u=A(", ").join(l);u.getLineLength(1)>r.wrapColumn&&(u=w([A(`,
`).join(l).indent(r.tabWidth),","])),a.length>0&&i.push(", "),u.length>1?i.push(`{
`,u,`
}`):r.objectCurlySpacing?i.push("{ ",u," }"):i.push("{",u,"}")}}else i.push(s?"{ ":"{",A(", ").join(e.map(t,"specifiers")),s?" }":"}");n.source&&i.push(" from ",e.call(t,"source"),jD(e,r,t))}let o=w(i);return ao(o)!==";"&&!(n.declaration&&(n.declaration.type==="FunctionDeclaration"||n.declaration.type==="ClassDeclaration"||n.declaration.type==="TSModuleDeclaration"||n.declaration.type==="TSInterfaceDeclaration"||n.declaration.type==="TSEnumDeclaration"))&&(o=w([o,";"])),o}function Qs(e,r){return wD(e)||r.unshift("declare "),w(r)}function Zs(e,r){return e.call(function(t){let n=t.getValue();return n?n==="plus"?A("+"):n==="minus"?A("-"):r(t):A("")},"variance")}function ni(e,r){return e.length>1?w([" ",e]):w([`
`,$a(e).indent(r.tabWidth)])}function ao(e){let r=e.lastPos();do{let t=e.charAt(r);if(/\S/.test(t))return t}while(e.prevPos(r))}function cD(e){return ao(e)==="}"}function Oa(e){return e.replace(/['"]/g,r=>r==='"'?"'":'"')}function Ji(e){let r=cn(e,"value"),t=cn(e,"extra");if(t&&typeof t.raw=="string"&&r==t.rawValue)return t.raw;if(e.type==="Literal"){let n=e.raw;if(typeof n=="string"&&r==n)return n}}function Ra(e){return JSON.stringify(e).replace(/[\u2028\u2029]/g,function(r){return"\\u"+r.charCodeAt(0).toString(16)})}function eo(e,r){switch(cp.assert(e),r.quote){case"auto":{let t=Ra(e),n=Oa(Ra(Oa(e)));return t.length>n.length?n:t}case"single":return Oa(Ra(Oa(e)));case"double":default:return Ra(e)}}function $a(e){let r=ao(e);return!r||`
};`.indexOf(r)<0?w([e,";"]):e}function w1(e,r){return new x1(r).print(e)}var La;function KD(){if(La)return La;let e=T1();return La={parse(r,t){return dD.parse(r,{...e,...t})}},La}function T1(){return{sourceType:"module",strictMode:!1,allowImportExportEverywhere:!0,allowReturnOutsideFunction:!0,startLine:1,tokens:!0,plugins:["asyncGenerators","bigInt","classPrivateMethods","classPrivateProperties","classProperties","classStaticBlock","decimal","decorators-legacy","doExpressions","dynamicImport","exportDefaultFrom","exportExtensions","exportNamespaceFrom","functionBind","functionSent","importAssertions","importMeta","nullishCoalescingOperator","numericSeparator","objectRestSpread","optionalCatchBinding","optionalChaining",["pipelineOperator",{proposal:"minimal"}],["recordAndTuple",{syntaxType:"hash"}],"throwExpressions","topLevelAwait","v8intrinsic","jsx","typescript"]}}var A1=Object.defineProperty,v1=(e,r,t)=>r in e?A1(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,pD=(e,r,t)=>(v1(e,typeof r!="symbol"?r+"":r,t),t),St=class extends Error{constructor(r,t){if(super(""),pD(this,"rawMessage"),pD(this,"options"),this.name="MagicastError",this.rawMessage=r,this.options=t,t?.ast&&t?.code&&t.ast.loc){let{line:n,column:i}=t.ast.loc.start,s=t.code.split(`
`),o=Math.max(0,n-3),a=Math.min(s.length,n+3),l=s.slice(o,a).map((u,c)=>(u=`${(o+c+1).toString().padStart(3," ")} | ${u}`,o+c===n-1&&(u+=`
${" ".repeat(6+i)}^`),u));r+=`

${l.join(`
`)}
`}this.message=r}},P1=new Set(["Literal","StringLiteral","NumericLiteral","BooleanLiteral","NullLiteral","RegExpLiteral","BigIntLiteral"]),VD=new Set(["string","number","boolean","bigint","symbol","undefined"]),st=Qi;function I1(e){return/^[$A-Z_a-z][\w$]*$/.test(e)}var pp="__magicast_proxy";function kt(e,r=new Set){if(e===void 0)return st.identifier("undefined");if(e===null)return st.literal(null);if(VD.has(typeof e))return st.literal(e);if(r.has(e))throw new St("Can not serialize circular reference");if(r.add(e),e[pp])return e.$ast;if(e instanceof RegExp){let t=st.regExpLiteral(e.source,e.flags);return delete t.extra.raw,t}return e instanceof Set?st.newExpression(st.identifier("Set"),[st.arrayExpression([...e].map(t=>kt(t,r)))]):e instanceof Date?st.newExpression(st.identifier("Date"),[st.literal(e.toISOString())]):e instanceof Map?st.newExpression(st.identifier("Map"),[st.arrayExpression([...e].map(([t,n])=>st.arrayExpression([kt(t,r),kt(n,r)])))]):Array.isArray(e)?st.arrayExpression(e.map(t=>kt(t,r))):typeof e=="object"?st.objectExpression(Object.entries(e).map(([t,n])=>st.property("init",/^[$A-Z_a-z][\w$]*$/g.test(t)?st.identifier(t):st.literal(t),kt(n,r)))):st.literal(e)}function N1(e,r={}){let t=r;return t[pp]=!0,t.$ast=e,t.$type||(t.$type="object"),t}var F1={enumerable:!0,configurable:!0};function ir(e,r,t){let n=N1(e,r);return new Proxy({},{ownKeys(){return Object.keys(n).filter(i=>i!==pp&&!i.startsWith("$"))},getOwnPropertyDescriptor(){return F1},has(i,s){return s in n},...t,get(i,s,o){if(s in n)return n[s];if(t.get)return t.get(i,s,o)},set(i,s,o,a){return s in n?(n[s]=o,!0):t.set?t.set(i,s,o,a):!1}})}var Wt=Qi,Yc=new WeakMap;function _1(e,r,t){if(Yc.has(r))return Yc.get(r);let n=ir(r,{get $declaration(){return e},get imported(){return r.type==="ImportDefaultSpecifier"?"default":r.type==="ImportNamespaceSpecifier"?"*":r.imported.type==="Identifier"?r.imported.name:r.imported.value},set imported(i){if(r.type!=="ImportSpecifier")throw new St("Changing import name is not yet implemented");r.imported.type==="Identifier"?r.imported.name=i:r.imported.value=i},get local(){return r.local.name},set local(i){r.local.name=i},get from(){return e.source.value},set from(i){if(i===e.source.value)return;e.specifiers=e.specifiers.filter(o=>o!==r),e.specifiers.length===0&&(t.body=t.body.filter(o=>o!==e));let s=t.body.find(o=>o.type==="ImportDeclaration"&&o.source.value===i);s?s.specifiers.push(r):t.body.unshift(Wt.importDeclaration([r],Wt.stringLiteral(i)))},toJSON(){return{imported:this.imported,local:this.local,from:this.from}}},{ownKeys(){return["imported","local","from","toJSON"]}});return Yc.set(r,n),n}function k1(e,r){let t=()=>{let o=[];for(let a of e.body)if(a.type==="ImportDeclaration")for(let l of a.specifiers)o.push(_1(a,l,e));return o},n=(o,a,l)=>{let u=t(),c=u.find(m=>m.local===o),p=a.local||o;if(c)return c.imported=a.imported,c.local=p,c.from=a.from,!0;let d=a.imported==="default"?Wt.importDefaultSpecifier(Wt.identifier(p)):a.imported==="*"?Wt.importNamespaceSpecifier(Wt.identifier(p)):Wt.importSpecifier(Wt.identifier(a.imported),Wt.identifier(p)),f=u.find(m=>m.from===a.from)?.$declaration;if(f)f.specifiers.push(d);else if(l==="prepend"||u.length===0)e.body.unshift(Wt.importDeclaration([d],Wt.stringLiteral(a.from)));else{let m=u.at(-1).$declaration,h=e.body.indexOf(m);e.body.splice(h+1,0,Wt.importDeclaration([d],Wt.stringLiteral(a.from)))}return!0},i=o=>{let a=t().find(c=>c.local===o);if(!a)return!1;let l=a.$declaration,u=a.$ast;return l.specifiers=l.specifiers.filter(c=>c!==u),l.specifiers.length===0&&(e.body=e.body.filter(c=>c!==l)),!0};return ir(e,{$type:"imports",$add(o){n(o.local||o.imported,o,"prepend")},$prepend(o){n(o.local||o.imported,o,"prepend")},$append(o){n(o.local||o.imported,o,"append")},get $items(){return t()},toJSON(){return t().reduce((o,a)=>(o[a.local]=a,o),{})}},{get(o,a){return t().find(l=>l.local===a)},set(o,a,l){return n(a,l,"prepend")},deleteProperty(o,a){return i(a)},ownKeys(){return t().map(o=>o.local)},has(o,a){return t().some(l=>l.local===a)}})}function Xa(e,r,t){let n=s=>r[s],i=(s,o)=>{r[s]=o};return ir(e,{$type:"array",push(s){r.push(kt(s))},pop(){return _t(r.pop(),t)},unshift(s){r.unshift(kt(s))},shift(){return _t(r.shift(),t)},splice(s,o,...a){return r.splice(s,o,...a.map(u=>kt(u))).map(u=>_t(u,t))},find(s){return r.map(o=>_t(o,t)).find(s)},findIndex(s){return r.map(o=>_t(o,t)).findIndex(s)},includes(s){return r.map(o=>_t(o,t)).includes(s)},toJSON(){return r.map(s=>_t(s,t))}},{get(s,o){if(o==="length")return r.length;if(o===Symbol.iterator)return function*(){for(let u of r)yield _t(u,t)};if(typeof o=="symbol")return;let a=+o;if(Number.isNaN(a))return;let l=n(a);if(l)return _t(l,t)},set(s,o,a){if(typeof o=="symbol")return!1;let l=+o;return Number.isNaN(l)?!1:(i(l,kt(a)),!0)},deleteProperty(s,o){if(typeof o=="symbol")return!1;let a=+o;return Number.isNaN(a)?!1:(r[a]=kt(void 0),!0)},ownKeys(){return["length",...r.map((s,o)=>o.toString())]}})}function O1(e,r){if("elements"in e)return Xa(e,e.elements,r)}function zD(e,r){if(e.type!=="CallExpression")throw new St("Not a function call");function t(i){if(i.type==="Identifier")return i.name;if(i.type==="MemberExpression")return`${t(i.object)}.${t(i.property)}`;throw new St("Not implemented")}let n=Xa(e,e.arguments,r);return ir(e,{$type:"function-call",$callee:t(e.callee),$args:n},{})}function R1(e,r){if(e.type!=="ArrowFunctionExpression")throw new St("Not an arrow function expression");let t=Xa(e,e.params,r);return ir(e,{$type:"arrow-function-expression",$params:t,$body:_t(e.body,r)},{})}var L1=Qi;function B1(e,r){if(!("properties"in e))return;let t=s=>{for(let o of e.properties){if("key"in o&&"name"in o.key&&o.key.name===s)return o.value;if(o.type==="ObjectProperty"&&(o.key.type==="StringLiteral"||o.key.type==="NumericLiteral"||o.key.type==="BooleanLiteral")&&o.key.value.toString()===s)return o.value.value??o.value}},n=(s,o=!1)=>{if("key"in s&&"name"in s.key)return s.key.name;if(s.type==="ObjectProperty"&&(s.key.type==="StringLiteral"||s.key.type==="NumericLiteral"||s.key.type==="BooleanLiteral"))return s.key.value.toString();if(o)throw new St(`Casting "${s.type}" is not supported`,{ast:s,code:r?.$code})},i=(s,o)=>{let a=e.properties.find(l=>n(l)===s);a?a.value=o:I1(s)?e.properties.push({type:"Property",key:{type:"Identifier",name:s},value:o}):e.properties.push({type:"ObjectProperty",key:L1.stringLiteral(s),value:o})};return ir(e,{$type:"object",toJSON(){return e.properties.reduce((s,o)=>("key"in o&&"name"in o.key&&(s[o.key.name]=_t(o.value,r)),s),{})}},{get(s,o){let a=t(o);if(a)return _t(a,r)},set(s,o,a){return typeof o!="string"&&(o=String(o)),i(o,kt(a)),!0},deleteProperty(s,o){typeof o!="string"&&(o=String(o));let a=e.properties.findIndex(l=>"key"in l&&"name"in l.key&&l.key.name===o);return a!==-1&&e.properties.splice(a,1),!0},ownKeys(){return e.properties.map(s=>n(s,!0)).filter(Boolean)}})}function qD(e,r){if(e.type!=="NewExpression")throw new St("Not a new expression");function t(i){if(i.type==="Identifier")return i.name;if(i.type==="MemberExpression")return`${t(i.object)}.${t(i.property)}`;throw new St("Not implemented")}let n=Xa(e,e.arguments,r);return ir(e,{$type:"new-expression",$callee:t(e.callee),$args:n},{})}function M1(e){if(e.type!=="Identifier")throw new St("Not an identifier");return ir(e,{$type:"identifier",$name:e.name},{})}function $1(e){if(e.type!=="LogicalExpression")throw new St("Not a logical expression");return ir(e,{$type:"logicalExpression"},{})}function U1(e){if(e.type!=="MemberExpression")throw new St("Not a member expression");return ir(e,{$type:"memberExpression"},{})}var Xc=new WeakMap;function _t(e,r){if(VD.has(typeof e))return e;if(P1.has(e.type))return e.value;if(Xc.has(e))return Xc.get(e);let t;switch(e.type){case"ObjectExpression":{t=B1(e,r);break}case"ArrayExpression":{t=O1(e,r);break}case"CallExpression":{t=zD(e,r);break}case"ArrowFunctionExpression":{t=R1(e,r);break}case"NewExpression":{t=qD(e,r);break}case"Identifier":{t=M1(e);break}case"LogicalExpression":{t=$1(e);break}case"MemberExpression":{t=U1(e);break}case"TSAsExpression":case"TSSatisfiesExpression":{t=_t(e.expression,r);break}default:throw new St(`Casting "${e.type}" is not supported`,{ast:e,code:r?.$code})}return Xc.set(e,t),t}var to=Qi;function j1(e,r){let t=i=>{let s=i==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration";for(let o of e.body)if(o.type===s){if(i==="default")return o.declaration;if(o.declaration&&"declarations"in o.declaration){let a=o.declaration.declarations[0];if("name"in a.id&&a.id.name===i)return a.init}}},n=(i,s)=>{let o=i==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration",a=kt(s);for(let l of e.body)if(l.type===o){if(i==="default"){l.declaration=a;return}if(l.declaration&&"declarations"in l.declaration){let u=l.declaration.declarations[0];if("name"in u.id&&u.id.name===i){u.init=a;return}}}e.body.push(i==="default"?to.exportDefaultDeclaration(a):to.exportNamedDeclaration(to.variableDeclaration("const",[to.variableDeclarator(to.identifier(i),a)])))};return ir(e,{$type:"exports"},{get(i,s){let o=t(s);if(o)return _t(o,r)},set(i,s,o){return n(s,o),!0},ownKeys(){return e.body.flatMap(i=>i.type==="ExportDefaultDeclaration"?["default"]:i.type==="ExportNamedDeclaration"&&i.declaration&&"declarations"in i.declaration?i.declaration.declarations.map(s=>"name"in s.id?s.id.name:""):[]).filter(Boolean)},deleteProperty(i,s){let o=s==="default"?"ExportDefaultDeclaration":"ExportNamedDeclaration";for(let a=0;a<e.body.length;a++){let l=e.body[a];if(l.type===o){if(s==="default")return e.body.splice(a,1),!0;if(l.declaration&&"declarations"in l.declaration){let u=l.declaration.declarations[0];if("name"in u.id&&u.id.name===s)return e.body.splice(a,1),!0}}}return!1}})}function K1(e,r){let t=e.program;if(t.type!=="Program")throw new St(`Cannot proxify ${e.type} as module`);let n={$code:r,$type:"module"},i=ir(t,n,{ownKeys(){return["imports","exports","generate"]}});return n.exports=j1(t,i),n.imports=k1(t),n.generate=s=>dp(i,s),i}function WD(e,r={}){let t={wrapColumn:r.wrapColumn===void 0,indent:r.tabWidth===void 0||r.useTabs===void 0,quote:r.quote===void 0,arrowParens:r.arrowParensAlways===void 0,trailingComma:r.trailingComma===void 0},n=2,i=0,s=0,o=0,a=0,l=/(?<doubleQuote>"[^"]+")|(?<singleQuote>'[^']+')|(?<singleParam>\([^),]+\)\s*=>)|(?<trailingComma>,\s*[\]}])/g,u={doubleQuote:0,singleQuote:0,singleParam:0,trailingComma:0},c=(e||"").split(`
`),p=!1;for(let d of c){let f=d.trim();if(f.length!==0){if(t.wrapColumn&&d.length>o&&(o=d.length),t.indent){let m=d.match(/^\s+/)?.[0]||"";m.length>0&&(m.length>0&&m.length<n&&(n=m.length),m[0]==="	"?i++:m.length>0&&i--)}if(f.at(-1)===";"?s++:f.length>0&&s--,t.quote||t.arrowParens){let m=f.matchAll(l);for(let h of m)if(h.groups)for(let g in u)h.groups[g]&&u[g]++}t.trailingComma&&((d.startsWith("}")||d.startsWith("]"))&&(p?a++:a--),p=f.endsWith(","))}}return{wrapColumn:o,useTabs:i>0,tabWidth:n,quote:u.singleQuote>u.doubleQuote?"single":"double",arrowParensAlways:u.singleParam>0,trailingComma:a>0||u.trailingComma>0,useSemi:s>0,arrayBracketSpacing:void 0,objectCurlySpacing:void 0,...r}}function GD(e,r){let t=FD(e,{parser:r?.parser||KD(),...r});return K1(t,e)}function HD(e,r){let t=FD("("+e+")",{parser:r?.parser||KD(),...r}),n=t.program.body[0];n.type==="ExpressionStatement"&&(n=n.expression),n.extra?.parenthesized&&(n.extra.parenthesized=!1);let i={$ast:t,$code:" "+e+" ",$type:"module"};return _t(n,i)}function dp(e,r={}){let t=e.$ast||e,n=r.format===!1||!("$code"in e)?{}:WD(e.$code,r.format),{code:i,map:s}=w1(t,{...r,...n});return{code:i,map:s}}async function V1(e,r={}){let t=await Ua.promises.readFile(e,"utf8");return r.sourceFileName=r.sourceFileName??e,GD(t,r)}async function z1(e,r,t){let n="$ast"in e?e.$ast:e,{code:i,map:s}=dp(n,t);await Ua.promises.writeFile(r,i),s&&await Ua.promises.writeFile(r+".map",s)}var Ba=Qi,q1={functionCall(e,...r){let t=Ba.callExpression(Ba.identifier(e),r.map(n=>kt(n)));return zD(t)},newExpression(e,...r){let t=Ba.newExpression(Ba.identifier(e),r.map(n=>kt(n)));return qD(t)},literal(e){return kt(e)},raw(e){return HD(e)}};var W1=K(require("@sentry/node"),1);async function QD(e,r){let t=await(0,ht.readdir)(e,{withFileTypes:!0}),n=[];for(let i of t){let s=Ae.default.join(e,i.name);if(i.isDirectory()){if(!r.has(i.name)){let o=await QD(s,r);n.push(...o)}}else n.push(s)}return n}async function ZD(e){let r=new Set,t=(...u)=>{if(process.env.DEBUG){let c=new Date,p=`${String(c.getMinutes()).padStart(2,"0")}:${String(c.getSeconds()).padStart(2,"0")}.${String(c.getMilliseconds()).padStart(3,"0")}`;console.debug(p,"[khulnasoft-dev-tools]",...u)}},n=async u=>{let c=(0,JD.createHash)("md5");return c.update(u),c.digest("hex")},i=Ae.default.normalize(e.cwd),s=yp(Ae.default.normalize(e.cwd))??i,o=co(Ae.default.normalize(e.cwd))??s,a={...Ae.default,getCwdDir:()=>i,getRepoRootDir:()=>s,getAppRootDir:()=>o,cwd:()=>process.cwd(),exists:async u=>{try{return await(0,ht.access)(u),!0}catch{return!1}},magicast:fp,existsSync:u=>(0,Ye.existsSync)(u),readdir:async(u,c)=>{let p=await(0,ht.readdir)(u);return c?p.map(d=>Ae.default.join(u,d)):p},readdirRecursive:async(u,c)=>QD(u,new Set(c)),readdirSync:u=>(0,Ye.readdirSync)(u),readFile:async u=>{try{return await(0,ht.readFile)(u,"utf-8")}catch(c){if(c.code==="ENOENT")return null;throw t(c,u),c}},readFileSync(u){try{return(0,Ye.readFileSync)(u,"utf-8")}catch(c){if(c.code==="ENOENT")return null;throw t(c,u),c}},spawnSync:Zi.spawnSync,stat:async u=>await(0,ht.stat)(u),statSync:u=>(0,Ye.statSync)(u),unlinkSync:u=>{(0,Ye.unlinkSync)(u)},unlink:async u=>{await(0,ht.unlink)(u)},writeFile:async(u,c)=>{u=Ae.default.normalize(u);let p={path:u,basename:Ae.default.basename(u),dirname:Ae.default.dirname(u),extname:Ae.default.extname(u)};await(0,ht.mkdir)(Ae.default.dirname(u),{recursive:!0}),await(0,ht.writeFile)(u,c);for(let d of r)await d(p)},hash:n,getDeviceId:()=>n(`${(0,uo.hostname)()}:${(0,uo.homedir)()}`),formatCode:async(u,c)=>{let p=null;try{p=await mp.default.resolveConfig(u)}catch{}try{return mp.default.format(c,{...p,filepath:u})}catch{}return c},on:(u,c)=>{u==="change"&&r.add(c)},off:(u,c)=>{u==="change"&&r.delete(c)},debug:t,launchEditor:async u=>{try{let c=u.filePath;typeof u.line=="number"&&(c+=`:${u.line}`,typeof u.column=="number"&&(c+=`:${u.column}`)),(0,XD.default)(c,"code",(p,d)=>{console.error(`Failed to launch editor for ${p}`),d&&console.error(d)})}catch(c){console.error(`Failed to launch editor for ${String(c.message||c)}`)}},platform:()=>({runtime:"node",os:process.platform}),getRepoInfo:async()=>{let u=Ae.default.normalize(e.cwd);return{remoteUrl:G1(u),defaultBranch:H1(u),commit:J1(u),currentBranch:Y1(u)}},getFrameworks:()=>[],ts:YD.default,Sentry:W1,version:"1.5.12",sdkVersion:null,ignoreMissingConfig:e.ignoreMissingConfig,kind:null},l=await Kn(a);return a.getFrameworks=()=>l,a}function eb(){let e=(0,uo.homedir)();return Ae.default.join(e,".config","khulnasoft","dev-tools.json")}function hp(e,r){return typeof e=="object"&&e!=null&&r in e}async function es(){let e=eb();try{let r=await(0,ht.readFile)(e,"utf-8");if(typeof r=="string")return JSON.parse(r)}catch(r){if(r.code==="ENOENT")return null}return null}async function gp(e){let r=eb();e=typeof e=="object"&&e!=null?e:{},await(0,ht.mkdir)(Ae.default.dirname(r),{recursive:!0}),await(0,ht.writeFile)(r,JSON.stringify(e??{},null,2))}function G1(e){try{return((0,Zi.spawnSync)("git",["config","--get","remote.origin.url"],{cwd:e}).stdout||"").toString().trim()}catch(r){return console.error("Error getting git remote URL:",r),""}}function H1(e){let r="master";try{let t=(0,Zi.spawnSync)("git",["branch","-r"],{cwd:e});return t.stdout&&t.stdout.toString().trim().split(`
`).map(i=>i.trim()).includes("origin/main")?"main":r}catch(t){return console.error("Error getting git default branch name:",t.toString().split(`
`)[0]),r}}function J1(e){try{return((0,Zi.spawnSync)("git",["rev-parse","HEAD"],{cwd:e}).stdout||"").toString().trim()}catch(r){return console.error("Error getting git commit:",r),""}}function Y1(e){try{return((0,Zi.spawnSync)("git",["branch","--show-current"],{cwd:e}).stdout||"").toString().trim()}catch(r){return console.error("Error getting current branch name:",r),""}}function yp(e){let r=Ae.default.resolve("/");for(let t=0;t<20;t++){let n=Ae.default.join(e,"package.json");if((0,Ye.existsSync)(n))return e;if(e===r)break;e=Ae.default.dirname(e)}return null}function co(e){let r=Ae.default.resolve("/");for(let t=0;t<20;t++){if((0,Ye.existsSync)(Ae.default.join(e,"package.json"))||(0,Ye.existsSync)(Ae.default.join(e,"remix.config.js"))||(0,Ye.existsSync)(Ae.default.join(e,"remix.config.mjs"))||(0,Ye.existsSync)(Ae.default.join(e,"remix.config.ts"))||(0,Ye.existsSync)(Ae.default.join(e,"vite.config.js"))||(0,Ye.existsSync)(Ae.default.join(e,"vite.config.ts"))||(0,Ye.existsSync)(Ae.default.join(e,"vite.config.mjs"))||(0,Ye.existsSync)(Ae.default.join(e,"next.config.js"))||(0,Ye.existsSync)(Ae.default.join(e,"next.config.ts"))||(0,Ye.existsSync)(Ae.default.join(e,"angular.json"))||(0,Ye.existsSync)(Ae.default.join(e,"project.json"))||(0,Ye.existsSync)(Ae.default.join(e,"tsconfig.json")))return e;if(e===r)break;e=Ae.default.dirname(e)}return null}var tb=K(require("crypto")),Za=new Uint8Array(256),Qa=Za.length;function Dp(){return Qa>Za.length-16&&(tb.default.randomFillSync(Za),Qa=0),Za.slice(Qa,Qa+=16)}var bt=[];for(let e=0;e<256;++e)bt.push((e+256).toString(16).slice(1));function rb(e,r=0){return bt[e[r+0]]+bt[e[r+1]]+bt[e[r+2]]+bt[e[r+3]]+"-"+bt[e[r+4]]+bt[e[r+5]]+"-"+bt[e[r+6]]+bt[e[r+7]]+"-"+bt[e[r+8]]+bt[e[r+9]]+"-"+bt[e[r+10]]+bt[e[r+11]]+bt[e[r+12]]+bt[e[r+13]]+bt[e[r+14]]+bt[e[r+15]]}var nb=K(require("crypto")),bp={randomUUID:nb.default.randomUUID};function X1(e,r,t){if(bp.randomUUID&&!r&&!e)return bp.randomUUID();e=e||{};let n=e.random||(e.rng||Dp)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(let i=0;i<16;++i)r[t+i]=n[i];return r}return rb(n)}var xp=X1;var Cp=K(require("os"),1);async function ib(){let e=!0==="true"&&process.env.NODE_ENV!=="test",r=await ab(),t=await ob();$r.init(e?"2532be1b0436a18cb938b21fc7fa9faf":"",{logLevel:$r.Types.LogLevel.None,flushIntervalMillis:500});let n=new $r.Identify;await $r.identify(n,{device_id:r,user_id:t,platform:Cp.default.type(),os_name:process.platform,os_version:Cp.default.release()}).promise,kn.init({dsn:"https://3252dddc08dbb5bf406dc33bf3c13633@o117565.ingest.us.sentry.io/4505630794448896",tracesSampleRate:1,release:Hg,environment:process.env.NODE_ENV,enabled:e,integrations:[new kn.Integrations.Http({tracing:!0}),...kn.autoDiscoverNodePerformanceMonitoringIntegrations()]}),kn.setUser({username:process.env.USER||process.env.USERNAME||"unknown"})}async function We(e,r,t){let n={...r,app:"dev-tools-cli",package:"cli"};return $r.track(e,n,{...t,user_id:await ob(),device_id:await ab()})}var el,Ep;async function sb(e){el=e;let r=await es();await gp({...r,userId:e})}async function ob(){if(el)return el;let e=await es(),r;return hp(e,"userId")&&(r=e.userId),el=r,r}async function ab(){if(Ep)return Ep;let e=await es(),r=xp();return hp(e,"deviceId")?r=e.deviceId:await gp({...e,deviceId:r}),Ep=r,r}var lb=K(Ze(),1),ub=require("undici");var cb=K(Ze(),1),nt=async(e,r)=>{let t="fetch"in globalThis?globalThis.fetch:ub.fetch;try{let n=await t(e,r);if(!n.ok)if(n.status===429){let i=await n.json(),s=i.severity??"high",o=i.message??"Rate limit exceeded. Please try again later.";return console.log(),s==="high"?n.error((0,lb.red)(`${n.status} ${o}

`)):n.warn((0,cb.yellow)(`${n.status} ${o}

`)),await ee(1)}else throw new Error(`Failed to generate completion:
`+await n.text());return n}catch(n){let i=typeof e=="string"?e:e instanceof URL?e.toString():e.url,s=r?.method||"GET",o=n instanceof Error?n.message:String(n),a=new Error(`Fetch failed for ${s} ${i}: ${o}`);throw n instanceof Error&&(a.cause=n),a.requestContext={url:i,method:s,headers:r?.headers},a}};var ut=process.env.OVERRIDE_VERSION??"1.5.12";var tl=K(require("@sentry/node"),1);var Q1="https://cdn.khulnasoft.com";async function Sp(e){try{let r=await nt(`${Q1}/api/internal/kv/${e.spaceId}/${e.docId}?apiKey=${e.spaceId}`,{headers:{Authorization:`Bearer ${e.privateKey}`}});if(r.status===404)return tl.captureMessage("getKhulnasoftSpaceKv 404"),console.warn("GET 404",r.url),null;if(!r.ok)throw new Error(`HTTP ${r.status} ${r.statusText}`);return r.json()}catch(r){tl.captureException(r),console.error("GET failed",r);return}}var fb=K(require("@sentry/node"),1);var mb=/[^\x00-\x7F]/g,Tp=e=>{try{let r=new URL(e);if(!e.startsWith("https://www.figma.com/design/"))return null;let t=r.searchParams.get("node-id")?.replaceAll("-",":"),n=r.pathname.split("/")[2];return t&&n?{fileID:n,nodeId:t}:null}catch{return null}},Z1="https://api.figma.com/v1/",hb=async(e,{auth:r,params:t})=>{let n=new URL(`${Z1}${e}`),i={};if(r.oauth?i.Authorization=`Bearer ${r.access_token}`:i["X-FIGMA-TOKEN"]=r.access_token,t)for(let o in t)t[o]!=null&&n.searchParams.set(o,t[o].toString());let s=await nt(n,{headers:i});if(!s.ok)throw new Error(`Figma REST ${s.statusText}: ${await s.text()}`);return s.json()},gb=async(e,r,t,n)=>(await hb(`files/${r}/nodes`,{auth:e,params:{ids:t,depth:n}})).nodes;function ai(e){return e=e.replace(mb,""),e=e.replace(/[\W\d]/g," "),e=e.trim(),e=eI(e),e=e.charAt(0).toUpperCase()+e.slice(1),e}function eI(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(r,t){return t===0?r.toLowerCase():r.toUpperCase()}).replace(/\s+/g,"")}var tI=/^[a-f0-9]{40}$/;async function yb(e,r,t){let n=JSON.stringify({token:r}),i=new URL(`${mr}/mappings/figma-components/get`);e.khulnasoftPublicKey&&i.searchParams.set("apiKey",e.khulnasoftPublicKey),e.userId&&i.searchParams.set("userId",e.userId),t&&console.log("FETCH",i,n);let s={"Content-Type":"application/json"};e.khulnasoftPrivateKey&&(s.Authorization=`Bearer ${e.khulnasoftPrivateKey}`);let o=await nt(i,{method:"POST",body:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.khulnasoftPrivateKey}`}});if(!o.ok)throw new Error(`Failed to generate completion:
`+await o.text());let a=await o.json();if(!Array.isArray(a.figmaComponents))throw new Error("Invalid response from Figma API");return a.figmaComponents.map(l=>["",l])}function Db(e){return e.some(r=>!!Tp(r))}async function bb(e,r,t){return(await Promise.all(t.map(async i=>{let s,o;if(i.match(tI))try{let c=await Sp({...r,docId:i});if(c)return[[i,c]];if(e){let p;try{p=await hb(`components/${i}`,{auth:e}),s=p.meta.file_key,o=p.meta.node_id}catch{j.warning("Failed to fetch component from Figma API.")}}}catch(c){throw fb.captureException(c),c}if(!s||!o){let c=Tp(i);if(!c)return de(`Invalid Figma URL, use Cmd+L while selecting a figma component to get a link to selection.
   Or make sure the command is copied correctly from the Figma plugin and the same khulnasoft space is being used.`),await ee(1);c&&({fileID:s,nodeId:o}=c)}if(!e)return[];let a=await gb(e,s,o),l=xb(a[o].document,a[o].components);if(l){let c=(await Promise.all(Array.from(l).map(async([,p])=>await Sp({...r,docId:p.key})))).filter(db);if(c.length)return c.map(p=>[i,p])}let u=await rI(a[o],o);return u?[[i,u]]:[]}))).flat().filter(db)}function xb(e,r,t=new Map){debugger;if(e.componentId&&t.set(e.componentId,r[e.componentId]),e.children)for(let n of e.children)xb(n,r,t);return t}async function rI(e,r){let t=e.document;if(t.type!=="COMPONENT"&&t.type!=="COMPONENT_SET"){let i=`Seems like the pasted URL points to a ${t.type} node, not a COMPONENT or COMPONENT_SET.`;return t.type==="INSTANCE"&&(i+=`
Double click and select "Go to main component", then copy the URL to the figma COMPONENT`),de(i),await ee(1)}let n=e.components[r]?.key??e.componentSets[r]?.key;return n?(e.document.key=n,nI(r,t)):(de("Pasted URL does not correspond to a component or component set"),await ee(1))}function nI(e,r){let{inputs:t,nameMap:n}=iI(r);return{name:r.name,jsx:r.type==="COMPONENT_SET"?wp(r.children[0],n,0,0):wp(r,n,0,0),inputs:t,key:r.key,description:r.description,documentationLinks:[],instanceId:e.includes(":")?e:r.id,documentName:"",tree:""}}var wp=(e,r,t,n,i=-1)=>{let s="  ".repeat(Math.max(i+1,0)),o="",a=e.type,l=a==="GROUP"||a==="FRAME"||i<0&&"children"in e,u="",c=i>=0;if(c){let p="";if(e.type==="INSTANCE"){if(e.componentPropertyReferences&&e.componentPropertyReferences.mainComponent)return o+=`${s}{figma["${r(e.componentPropertyReferences.mainComponent)}"]}
`,o;u=e.type}u===""&&(u=e.type),(e.type!=="TEXT"||!e.autoRename)&&(p+=` name="${e.name}"`),e.componentPropertyReferences&&e.componentPropertyReferences.visible&&(p+=` visible={figma["${r(e.componentPropertyReferences.visible)}"]}`),o+=`${s}<${u}${p}`}if(e.type==="TEXT")c&&(o+=`>
`),e.componentPropertyReferences&&e.componentPropertyReferences.characters?o+=`${s}  {figma["${r(e.componentPropertyReferences.characters)}"]}
`:o+=`${s}  ${e.characters}
`,c&&(o+=`${s}</${u}>
`);else if(l&&"children"in e&&e.children.length>0){c&&(o+=`>
`);let p=0;for(let d of e.children)o+=wp(d,r,p,e.children.length,i+1),p++;c&&(o+=`${s}</${u}>
`)}else c&&(o+=`/>
`);return o};function iI(e){let r=[],t={};try{t=e.componentPropertyDefinitions??{}}catch(l){console.error("Invalid Component Property Definitions",l)}let n=e.type==="COMPONENT_SET"?e.children:[e],i=new Map,s=[],o=Object.keys(t),a=sI(o);for(let l of n){let u=Eb(l,{types:["INSTANCE","TEXT"]});for(let c of u){s.push(c);let p=c.componentPropertyReferences;p&&p.visible&&(p.characters&&i.set(p.characters,a(p.visible)),p.mainComponent&&i.set(p.mainComponent,a(p.visible)))}}for(let l of o){let u=t[l];switch(u.type){case"TEXT":{r.push({id:l,name:a(l),value:u.defaultValue,type:"string",baseType:"text",isDefault:!0,ref:i.get(l)});break}case"BOOLEAN":{r.push({id:l,name:a(l),value:!!u.defaultValue,baseType:"boolean",isDefault:!0,type:"boolean"});break}case"VARIANT":{r.push({id:l,name:a(l),value:u.defaultValue,type:u.variantOptions?.map(c=>`'${c}'`).join(" | ")??"string",baseType:"variant",variantOptions:u.variantOptions??[],isDefault:!0,ref:i.get(l)});break}case"INSTANCE_SWAP":{r.push({id:l,name:a(l),value:String(u.defaultValue),type:"React.ReactNode",baseType:"slot",isDefault:!0,ref:i.get(l)});break}}}return{inputs:r,nameMap:a}}function sI(e){let r=new Map,t=new Map;return e.forEach(n=>{let i=pb(n);t.has(i)?(r.has(n)&&(r.set(t.get(i),t.get(i)),r.delete(i)),r.set(n,n)):(r.set(n,i),t.set(i,n))}),n=>{let i=r.get(n)??pb(n);if(!i)throw new Error("No value for key "+n);return i}}function pb(e){return typeof e=="string"?e.replace(/#\d+:\d+$/,"").replace(mb,"").trim():""}function Eb(e,r){let t=r.types,n=[];return t.includes(e.type)&&n.push(e),"children"in e&&n.push(...e.children.flatMap(i=>Eb(i,r))),n}async function rl(e,r,t){if(t.length>0){let n=await oI(e,t);for(let i of r)if(i.figmaUrl&&!i.figmaKey){let s=n[i.figmaUrl];if(!s)throw new Error("bad internal state");i.figmaKey=s}}}var oI=async(e,r)=>{if(!e)return{};let t=new Map,n={};return r.forEach(i=>{let s=Tp(i);if(!s)throw new Error("Invalid Figma URL, use Cmd+L while selecting a figma component to get a link to selection");let o=t.get(s.fileID);o||(o=[],t.set(s.fileID,o)),o.includes(s.nodeId)||o.push(s.nodeId),n[i]=`${s.fileID}/${s.nodeId}`}),await Promise.all(Array.from(t.entries()).map(async([i,s])=>{let o=await gb(e,i,s.join(","),0);for(let a of s){let l=o[a],u=l.components[a]?.key??l.componentSets[a]?.key;if(!u)throw new Error(`Cannot resolve figma component key for ${a} in file ${i}`);let c=`${i}/${a}`;for(let p of r)n[p]===c&&(n[p]=u)}})),n};function db(e){return e!=null}var te=K(Ze(),1);var Rt=require("path"),$t=require("fs"),Np=require("glob");var nl=require("node:http");var Cb=require("node:console"),Sb=require("node:http"),wb=require("node:https");function ts(e){let r=Date.now();return new Promise((t,n)=>{let s=aI(e.url)({protocol:e.url.protocol,host:e.url.host,port:e.url.port,path:e.url.pathname+e.url.search,method:e.method,headers:e.headers},o=>{let a="";o.on("data",l=>{a+=l}),o.on("end",()=>{if((0,Cb.debug)(`${e.method} ${e.url.href}, duration: ${Date.now()-r}ms`),typeof o.statusCode=="number"&&o.statusCode>=200&&o.statusCode<300)if(typeof o.headers["content-type"]!="string"||!o.headers["content-type"].includes("application/json"))n(`Response from ${e.url.href} content-type is ${o.headers["content-type"]}`);else try{t(JSON.parse(a))}catch(l){n(`Response from ${e.url.href} is not valid JSON: ${a}
${l}`)}else n(`Request to ${e.url.href} failed with status ${o.statusCode}: ${a}`)})}).on("error",o=>{n(`Error fetching ${e.url.href}, ${o}`)});e.body&&(s.setHeader("Content-Type","application/json"),s.write(e.body)),s.end()})}function aI(e){if(e.protocol==="https:")return wb.request;if(e.protocol==="http:")return Sb.request;throw new Error(`Unsupported protocol ${e.protocol}`)}async function Tb(e){let r=new URL(`https://cdn.khulnasoft.com/api/v3/query/${e.publicApiKey}/${e.model}`);return r.searchParams.set("omit","meta.componentsUsed"),r.searchParams.set("apiKey",e.publicApiKey),r.searchParams.set("userAttributes.urlPath",e.pageUrl),r.searchParams.set("options.page.model",`"${e.model}"`),r.searchParams.set("cachebust","true"),(await ts({url:r,method:"GET"}))[e.model]}async function Ab(e,r){if(r.kind===Ds.VCP)return!0;let t=new URL("https://cdn.khulnasoft.com/api/v2/admin"),n={query:`query {
      models {
        id
        name
      }
    }`};e.debug(`Get model id for model name "${r.model}"`);let s=(await ts({url:t,method:"POST",headers:{Authorization:`Bearer ${r.privateAuthKey}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(n)})).data.models.find(l=>l.name===r.model);if(!s)return e.debug(`No model found for model name "${r.model}"`),!1;e.debug(`Data query, modelId: "${s.id}", urlPath: "${r.pageUrl}"`);let o=new URL("https://cdn.khulnasoft.com/api/v3/data");o.searchParams.set("limit","1"),o.searchParams.set("cachebust","true"),o.searchParams.set("collection","content"),o.searchParams.set("query.published.$ne","archived"),o.searchParams.set("query.query.$elemMatch.$and[0].property","urlPath"),o.searchParams.set("query.query.$elemMatch.$and[0].operator","is"),o.searchParams.set("query.query.$elemMatch.$and[0].value",r.pageUrl),o.searchParams.set("query.modelId",s.id),o.searchParams.set("apiKey",r.publicApiKey);let a=await ts({url:o,method:"GET"});return e.debug(`Data results (${a.results.length}): ${o.href}`),a.results.length>0}async function vb(e,r){let t=new URL(`https://cdn.khulnasoft.com/api/v3/content/${r.model}`);t.searchParams.set("apiKey",r.publicApiKey),t.searchParams.set("cachebust","true"),t.searchParams.set("cb",Date.now().toString()),r.pageUrl&&(t.searchParams.set("url",r.pageUrl),e.debug(`get model: "${r.model}", pageUrl: "${r.pageUrl}":`,t.href)),r.id&&(t.searchParams.set("query.id",r.id),e.debug(`get model: "${r.model}", id: "${r.id}":`,t.href));let n=await ts({url:t,method:"GET"});return e.debug(`get content results: ${n.results.length}`),n}async function Pb(e,r){let t=new URL(`https://cdn.khulnasoft.com/api/v1/write/${r.model}`);e.debug(`writing "${r.model}" content:`,t.href),await ts({url:t,method:"POST",headers:{Authorization:`Bearer ${r.privateAuthKey}`},body:r.body})}var rs="page",Ib="integration-welcome-screens",Nb="8d9ee72a33344b4b867918b442ebd0af";async function Fb(e,r){let t=await vb(e,{model:Ib,publicApiKey:Nb,id:r.templateContentId});if(!Array.isArray(t?.results)||t.results.length===0||!t.results[0].data?.blocks)throw new Error(`No Khulnasoft content found for id ${r.templateContentId}`);let n=JSON.stringify(t.results[0].data.blocks),i=lI(r.publicApiKey,r.pathname,r.title,n);await Pb(e,{privateAuthKey:r.privateAuthKey,model:rs,body:i})}function lI(e,r,t,n){return JSON.stringify({name:t,ownerId:e,published:"published",query:[{property:"urlPath",value:[r],operator:"is"}],data:{title:t,blocksString:n}})}async function _b(e,r,t,n){e.debug(`connect khulnasoft with public key: ${r}`),e.publicApiKey=r;let i=e.closeAppServer(),s=await e.setPublicApiKey({publicApiKey:r});e.debug(`set public key: process.env.${s.envKey}=${r}`),process.env[s.envKey]=r;let o=await e.khulnasoftPageOptions();e.debug(`khulnasoft model: ${rs}, path: ${o.pathname}, template: ${o.templateContentId}`);let a=await Ab(e,{model:rs,pageUrl:o.pathname,publicApiKey:r,privateAuthKey:t,kind:n});if(!a){await Fb(e,{templateContentId:o.templateContentId,pathname:o.pathname,title:o.title,publicApiKey:r,privateAuthKey:t});let c=5,p=0;for(;!a&&p<c;){await new Promise(f=>setTimeout(f,1e3));let d=await Tb({model:rs,pageUrl:o.pathname,publicApiKey:r,privateAuthKey:t});p++,d&&d.length>0&&(a=!0)}}await i,e.debug("ensure khulnasoft setup");let l=[];n===Ds.VCP?l=await e.ensureFigmaImportPage():l=await e.ensureKhulnasoftSetup(),s.modifiedType&&l.push({filePath:s.file,modifiedType:s.modifiedType}),l.forEach(c=>{c.displayFilePath=e.relative(e.getAppRootDir(),c.filePath)}),l.sort((c,p)=>c.filePath.localeCompare(p.filePath)),l.length>0?(e.debug(`modified files: ${l.map(c=>c.displayFilePath).join(", ")}`),await e.restartAppServer(),await new Promise(c=>setTimeout(c,500))):e.debug("no modified files");let u={success:!0,pathname:o.localePathname||o.pathname,modifiedFiles:l,platform:e.platform(),kind:n};return n===Ds.VCP&&(u.pathname="/"),e.debug(`connected khulnasoft: ${u.pathname}`),u}async function kb(e){let r=await e.khulnasoftPageOptions();e.debug(`validateKhulnasoft, pathname: ${r.pathname}, localePathname: ${r.localePathname}, isValid: ${e.isValid}`);let t={isValid:e.isValid,pathname:r.localePathname||r.pathname,platform:e.platform()};if(e.isValid)return t;let n=await e.getPublicApiKey();return n.envValue?(e.debug(`public api key: ${n.envValue}, ${n.file}`),e.publicApiKey=n.envValue,e.debug("khulnasoft connection is valid"),t.isValid=!0,e.isValid=!0,t):(e.debug("missing public api key"),t)}async function Ob(e,r){let t={type:r.type};switch(r.type){case"getCache":{t.data=await e.getCache();break}case"setCache":{await e.setCache(r.data);break}case"connectKhulnasoft":{t.data=await _b(e,r.data.publicApiKey,r.data.privateAuthKey,r.data.kind);break}case"enableDevTools":{t.data=pI(e,r.data.enabled);break}case"getRegistry":{t.data=await e.getRegistry(r.data);break}case"launchEditor":{t.data=await e.launchEditor(r.data);break}case"validateKhulnasoft":{t.data=await kb(e);break}case"loadComponent":{t.data=await e.loadComponent(r.data);break}case"registerComponent":{t.data=await e.registerComponent(r.data),e.serverShouldRestart=!0;break}case"setComponentInfo":{t.data=await e.setRegisteredComponentInfo(r.data),e.serverShouldRestart=!0;break}case"setComponentInput":{t.data=await e.setRegisteredComponentInput(r.data),e.serverShouldRestart=!0;break}case"unregisterComponent":{t.data=await e.unregisterComponent(r.data),e.serverShouldRestart=!0;break}case"getFrameworks":{t.data=e.getFrameworks();break}case"readdir":{Ap(e,r.path)?t.data=await e.readdir(r.path,!0):t.errors=[`Invalid file request: ${r.path}`];break}case"readFile":{Ap(e,r.path)?t.data=await e.readFile(r.path):t.errors=[`Invalid file request: ${r.path}`];break}case"writeFile":{Ap(e,r.path)?await e.writeFile(r.path,r.content):t.errors=[`Invalid file request: ${r.path}`];break}case"ensureFigmaImportPage":{t.data=await e.ensureFigmaImportPage();break}case"transileFile":{t.data=await sf(e,r);break}case"transileModule":{t.data=Gl(e,r);break}case"getPastSyncInfo":{t.data=await e.getPastSyncInfo?.(r.data);break}case"resyncSnippet":{t.data=await e.resyncSnippet?.(r.data);break}case"localConfig":{t.data=await es();break}default:{t.errors=[`Unknown request type: ${JSON.stringify(r)}`];let n=r}}return t}function Ap(e,r){if(!r||r.includes(".."))return!1;r=r.replace(/\\/g,"/");let t=r.split("/"),n=t[t.length-1];if(n.length>0){let i=n.split(".").pop();if(i&&(i=`.${i}`.toLocaleLowerCase(),i=i.split("?")[0],!cI.includes(i)))return!1}return uI(e,r),!1}function uI(e,r){if(!r)return!1;r=e.normalize(e.resolve(r));let t=e.getAppRootDir();return!(!r.startsWith(t)&&!r.includes("node_modules"))}var cI=[".js",".jsx",".ts",".tsx",".json",".css",".scss",".sass",".less",".html",".htm",".xml",".svg",".png",".jpg",".jpeg",".gif",".ico",".webp",".woff",".woff2",".ttf",".eot",".mp4",".webm",".ogg",".md",".txt",".csv",".pdf"];function pI(e,r){return!r&&e.serverShouldRestart&&setTimeout(()=>{console.log(`
Restarting server after Khulnasoft Devtools update...
`),e.restartAppServer()},10),e.enableAppWatch(!r),{enabled:r,platform:e.platform()}}async function Rb(e){return Bb(e,`"use strict";(()=>{var Hr=Object.defineProperty;var qr=(t,e)=>{for(var n in e)Hr(t,n,{get:e[n],enumerable:!0})};var W=(t,e)=>{It(t);let n=t.querySelector("aside");n.dataset.view=e,n.classList.remove("section-ready"),setTimeout(()=>{n.classList.add("section-ready")},200)},pn=t=>{Array.from(t.querySelectorAll(".back-button")).forEach(e=>{e.addEventListener("click",n=>{It(t),n.preventDefault(),n.stopPropagation();let r=n.target;W(t,r?.dataset.back||"nav-home")})})},Tt=(t,e)=>{It(t);let n=t.querySelector("aside"),r=document.createElement("div");r.className="ui-toast",r.innerHTML=e,n.appendChild(r),setTimeout(()=>{r.classList.add("ui-toast-show"),setTimeout(()=>{r.classList.remove("ui-toast-show"),setTimeout(()=>{r.remove()},500)},4e3)},30)},It=t=>{let e=t.querySelector("aside");Array.from(e.querySelectorAll(".ui-toast")).forEach(r=>{r.classList.remove("ui-toast-show")})},ke=()=>{let t=fn();return localStorage.getItem(t)!=="true"},bt=t=>{let e=fn();t?localStorage.removeItem(e):localStorage.setItem(e,"true")},fn=()=>jr("disableEdit"),jr=t=>\`khulnasoft.__LOCAL_APP_ID__.\${t}\`,mn=()=>{let e=document.body.querySelector("[khulnasoft-content-id]")?.getAttribute("khulnasoft-content-id");return Ee(e)},Ee=(t,e)=>{let n="/content";t&&(n+="/"+t+"/edit");let r=new URL(n,"https://khulnasoft.com");t&&e&&r.searchParams.set("selectedBlock",e);let i=new URL(location.pathname,location.href);return r.searchParams.set("overridePreviewUrl",i.href),r.href},Oe="__DEV_TOOLS_URL__",A={components:[],registryPath:"",registryDisplayPath:"",frameworks:[],dependencies:[],publicApiKey:void 0,devToolsVersion:""},J=t=>{A.components=t.components,A.registryPath=t.registryPath,A.registryDisplayPath=t.registryDisplayPath,A.dependencies=t.dependencies,A.publicApiKey=t.publicApiKey};function vn(t){let e=null,n=document.querySelector("khulnasoft-dev-tools-menu"),r=()=>{t.hide()},i=u=>{let c=u.target;if(!c){r();return}if(c.closest("khulnasoft-dev-tools-edit"))return;let a=c.closest("[khulnasoft-content-id]"),l=c.closest("[khulnasoft-id]");if(!a||!l){t.hide();return}let d=t.show(a,l);!d||d===e||(n.highlightOpener(),e=d)};document.addEventListener("pointerover",i,{passive:!0}),document.addEventListener("pointerleave",r,{passive:!0}),document.addEventListener("pointercancel",r,{passive:!0}),document.addEventListener("visibilitychange",r,{passive:!0}),window.addEventListener("popstate",r,{passive:!0});let o=history.pushState;history.pushState=function(...u){t.hide(),o.apply(this,u)};let s=history.replaceState;history.replaceState=function(...u){t.hide(),s.apply(this,u)}}var Ue=class extends HTMLElement{openInKhulnasoft=null;block=null;constructor(){super()}connectedCallback(){this.setAttribute("aria-hidden","true");let e=this.attachShadow({mode:"open"});e.innerHTML='<style>*,*:before,*:after{box-sizing:border-box}:host{--background-color: rgba(40, 40, 40, 1);--primary-color: rgba(72, 161, 255, 1);--primary-color-subdued: rgb(72, 161, 255, .6);--primary-color-highlight: rgb(126, 188, 255);--primary-contrast-color: white;--edit-color: #1d74e2;--edit-color-highlight: #1c6bd1;--edit-color-alpha: rgb(72, 161, 255, .15);--error-color: #ff2b55;--text-color: white;--text-color-highlight: white;--border-color: #454545;--button-background-color-hover: rgba(255, 255, 255, .1);--menu-width: 320px;--transition-time: .15s;--font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-family:var(--font-family);line-height:1.6}button{cursor:pointer;color:var(--text-color);-webkit-tap-highlight-color:transparent}input,select,button{font-family:var(--font-family)}:host{display:none;position:absolute;top:0;left:0;width:100%;height:100%;z-index:2147483646;user-select:none;pointer-events:none;color:var(--text-color)}#content-highlight,#block{position:absolute}#content-highlight{border:3px solid var(--primary-color);background-color:var(--primary-color-alpha)}a{position:absolute;top:-33px;left:0;display:block;padding:5px 10px 8px;pointer-events:auto;z-index:100;text-decoration:none}a:hover{text-decoration:none}a span{display:block;padding:3px 6px;font-size:10px;font-weight:300;border-radius:3px;text-align:center;text-decoration:none;pointer-events:none;background-color:var(--edit-color);color:var(--text-color);white-space:nowrap}a:hover span{background-color:var(--edit-color-highlight)}a:hover~.outline{border-color:var(--edit-color-highlight)}#open-in-editor{display:none}.outline{position:absolute;top:0;left:0;width:100%;height:100%;border:1px solid var(--edit-color);background-color:var(--edit-color-alpha)}</style><div id="block"> <a id="open-in-khulnasoft" target="khulnasoft"><span>Open In Khulnasoft</span></a> <a id="open-in-editor" href="#open-in-editor"><span>Open In Editor</span></a> <div class="outline"></div> </div>',this.openInKhulnasoft=e.getElementById("open-in-khulnasoft"),this.block=e.getElementById("block"),vn(this)}show(e,n){if(!ke())return this.hide(),null;let r=e.getAttribute("khulnasoft-content-id"),i=n.getAttribute("khulnasoft-id");if(!r||!i)return this.hide(),null;let o=this.block,s=this.openInKhulnasoft,u=n.getBoundingClientRect();o.style.top=u.top+window.scrollY-1+"px",o.style.left=u.left+window.scrollX+"px",o.style.width=u.width+"px",o.style.height=u.height+1+"px";let c=s.getBoundingClientRect();if(c.width>u.width){let a=c.width-u.width;s.style.left=a/2*-1+"px"}else s.style.left="";return s.href=Ee(r,i),this.style.display="block",i}hide(){this.style.display=""}};var gn="preview-url";var hn="_b-uid";var yn="/~khulnasoft-connect";var _n="/~khulnasoft-dev-tools";var En="https://cdn.khulnasoft.com/api/v1/proxy-api?url=https://api2.amplitude.com/2/httpapi";var Tn=()=>$({type:"validateKhulnasoft"}),ve=t=>$({type:"launchEditor",data:t}),In=t=>$({type:"getRegistry",data:t}),bn=t=>$({type:"loadComponent",data:t}),Sn=t=>$({type:"registerComponent",data:t}),xn=t=>$({type:"setComponentInfo",data:t}),Me=t=>$({type:"setComponentInput",data:t}),Ln=t=>$({type:"unregisterComponent",data:t}),wn=t=>$({type:"enableDevTools",data:{enabled:t}}),Cn=()=>$({type:"localConfig"}),$=async t=>{let e=new URL(_n,Oe),n;try{n=await fetch(e,{method:"POST",body:JSON.stringify(t)})}catch(i){throw console.error(\`Devtools Fetch Error, \${e.href}\`,i),new Error("Khulnasoft Devtools Fetch Error")}if((n.headers.get("content-type")||"").includes("application/json")){let i=await n.json();if(n.ok)return i.data;if(Array.isArray(i.errors)&&i.errors.length>0)throw i.errors.forEach(o=>console.error(o)),new Error(\`Khulnasoft Devtools Fetch Error: \${i.errors[0]}\`)}throw new Error(\`Khulnasoft Devtools Fetch Error: \${n.status}, \${await n.text()}\`)};var Pn=[{value:"boolean",text:"boolean"},{value:"color",text:"color (provides a color in hex or rgb)"},{value:"date",text:"date (same format as the Date constructor)"},{value:"email",text:"email"},{value:"file",text:"file (uploads a file and provides a url)"},{value:"list",text:"list (collection of items)"},{value:"longText",text:"longText (multiline text editor)"},{value:"number",text:"number"},{value:"object",text:"object (set of specific names and values)"},{value:"richText",text:"richText (provides value as html)"},{value:"string",text:"string"}],Ne=["color","date","email","file","longText","richText","string"],Be=["number"],Fe=["boolean"],Ve=["list"],He=["object"];function qe(t){return Ne.includes(t)?"string":Be.includes(t)?"number":Fe.includes(t)?"boolean":Ve.includes(t)?"array":He.includes(t)?"object":"string"}var $i=new Set(["about","accessKey","accessKeyLabel","asChild","autoCapitalize","autoCorrect","autoFocus","autoSave","blur","contentEditable","contextMenu","dangerouslySetInnerHTML","datatype","defaultChecked","defaultValue","dir","draggable","enterKeyHint","focus","form","formAction","formEncType","formMethod","formNoValidate","formTarget","inlist","innerText","inputMode","is","isContentEditable","itemID","itemProp","itemRef","itemScope","itemType","lang","nonce","offsetHeight","offsetLeft","offsetTop","offsetWidth","outerText","prefix","property","radioGroup","rel","resource","results","rev","role","security","slot","spellCheck","suppressContentEditableWarning","suppressHydrationWarning","tabIndex","translate","typeof","unselectable","vocab"].map(t=>t.toLowerCase()));var St=function(t,e){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},St(t,e)};function V(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");St(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var v=function(){return v=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},v.apply(this,arguments)};function Te(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function p(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function u(l){try{a(r.next(l))}catch(d){s(d)}}function c(l){try{a(r.throw(l))}catch(d){s(d)}}function a(l){l.done?o(l.value):i(l.value).then(u,c)}a((r=r.apply(t,e||[])).next())})}function f(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(a){return function(l){return c([a,l])}}function c(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(n=0)),n;)try{if(r=1,i&&(o=a[0]&2?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[a[0]&2,o.value]),a[0]){case 0:case 1:o=a;break;case 4:return n.label++,{value:a[1],done:!1};case 5:n.label++,i=a[1],a=[0];continue;case 7:a=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1],o=a;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(a);break}o[2]&&n.ops.pop(),n.trys.pop();continue}a=e.call(t,n)}catch(l){a=[6,l],i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function Y(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function L(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(u){s={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function q(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Rn="Event tracked successfully",Dn="Unexpected error occurred",An="Event rejected due to exceeded retry count",kn="Event skipped due to optOut config",On="Event rejected due to missing API key",Un="Invalid API key",Mn="Client not initialized";var Ge={};qr(Ge,{IdentifyOperation:()=>w,LogLevel:()=>M,OfflineDisabled:()=>Ke,RevenueProperty:()=>Q,ServerZone:()=>je,SpecialEventType:()=>ee,Status:()=>x});var w;(function(t){t.SET="$set",t.SET_ONCE="$setOnce",t.ADD="$add",t.APPEND="$append",t.PREPEND="$prepend",t.REMOVE="$remove",t.PREINSERT="$preInsert",t.POSTINSERT="$postInsert",t.UNSET="$unset",t.CLEAR_ALL="$clearAll"})(w||(w={}));var Q;(function(t){t.REVENUE_PRODUCT_ID="$productId",t.REVENUE_QUANTITY="$quantity",t.REVENUE_PRICE="$price",t.REVENUE_TYPE="$revenueType",t.REVENUE="$revenue"})(Q||(Q={}));var ee;(function(t){t.IDENTIFY="$identify",t.GROUP_IDENTIFY="$groupidentify",t.REVENUE="revenue_amount"})(ee||(ee={}));var M;(function(t){t[t.None=0]="None",t[t.Error=1]="Error",t[t.Warn=2]="Warn",t[t.Verbose=3]="Verbose",t[t.Debug=4]="Debug"})(M||(M={}));var je;(function(t){t.US="US",t.EU="EU"})(je||(je={}));var x;(function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.PayloadTooLarge="payload_too_large",t.Invalid="invalid",t.Failed="failed",t.Timeout="Timeout",t.SystemError="SystemError"})(x||(x={}));var Ke=null;var te=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=x.Unknown),{event:t,code:e,message:n}};var X=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,X)};var Nn=function(){function t(e){this.client=e,this.queue=[],this.applying=!1,this.plugins=[]}return t.prototype.register=function(e,n){var r,i,o;return p(this,void 0,void 0,function(){return f(this,function(s){switch(s.label){case 0:return e.name=(r=e.name)!==null&&r!==void 0?r:X(),e.type=(i=e.type)!==null&&i!==void 0?i:"enrichment",[4,(o=e.setup)===null||o===void 0?void 0:o.call(e,n,this.client)];case 1:return s.sent(),this.plugins.push(e),[2]}})})},t.prototype.deregister=function(e){var n;return p(this,void 0,void 0,function(){var r,i;return f(this,function(o){switch(o.label){case 0:return r=this.plugins.findIndex(function(s){return s.name===e}),i=this.plugins[r],this.plugins.splice(r,1),[4,(n=i.teardown)===null||n===void 0?void 0:n.call(i)];case 1:return o.sent(),[2]}})})},t.prototype.reset=function(e){this.applying=!1;var n=this.plugins;n.map(function(r){var i;return(i=r.teardown)===null||i===void 0?void 0:i.call(r)}),this.plugins=[],this.client=e},t.prototype.push=function(e){var n=this;return new Promise(function(r){n.queue.push([e,r]),n.scheduleApply(0)})},t.prototype.scheduleApply=function(e){var n=this;this.applying||(this.applying=!0,setTimeout(function(){n.apply(n.queue.shift()).then(function(){n.applying=!1,n.queue.length>0&&n.scheduleApply(0)})},e))},t.prototype.apply=function(e){return p(this,void 0,void 0,function(){var n,r,i,o,s,u,c,y,g,a,l,d,m,y,g,T,h,_,U,I,k,F;return f(this,function(b){switch(b.label){case 0:if(!e)return[2];n=L(e,1),r=n[0],i=L(e,2),o=i[1],s=this.plugins.filter(function(S){return S.type==="before"}),b.label=1;case 1:b.trys.push([1,6,7,8]),u=Y(s),c=u.next(),b.label=2;case 2:return c.done?[3,5]:(y=c.value,y.execute?[4,y.execute(v({},r))]:[3,4]);case 3:if(g=b.sent(),g===null)return o({event:r,code:0,message:""}),[2];r=g,b.label=4;case 4:return c=u.next(),[3,2];case 5:return[3,8];case 6:return a=b.sent(),U={error:a},[3,8];case 7:try{c&&!c.done&&(I=u.return)&&I.call(u)}finally{if(U)throw U.error}return[7];case 8:l=this.plugins.filter(function(S){return S.type==="enrichment"||S.type===void 0}),b.label=9;case 9:b.trys.push([9,14,15,16]),d=Y(l),m=d.next(),b.label=10;case 10:return m.done?[3,13]:(y=m.value,y.execute?[4,y.execute(v({},r))]:[3,12]);case 11:if(g=b.sent(),g===null)return o({event:r,code:0,message:""}),[2];r=g,b.label=12;case 12:return m=d.next(),[3,10];case 13:return[3,16];case 14:return T=b.sent(),k={error:T},[3,16];case 15:try{m&&!m.done&&(F=d.return)&&F.call(d)}finally{if(k)throw k.error}return[7];case 16:return h=this.plugins.filter(function(S){return S.type==="destination"}),_=h.map(function(S){var O=v({},r);return S.execute(O).catch(function(B){return te(O,0,String(B))})}),Promise.all(_).then(function(S){var O=L(S,1),B=O[0],Z=B||te(r,100,"Event not tracked, no destination plugins on the instance");o(Z)}),[2]}})})},t.prototype.flush=function(){return p(this,void 0,void 0,function(){var e,n,r,i=this;return f(this,function(o){switch(o.label){case 0:return e=this.queue,this.queue=[],[4,Promise.all(e.map(function(s){return i.apply(s)}))];case 1:return o.sent(),n=this.plugins.filter(function(s){return s.type==="destination"}),r=n.map(function(s){return s.flush&&s.flush()}),[4,Promise.all(r)];case 2:return o.sent(),[2]}})})},t}();var xt="-",de="AMP",Lt="".concat(de,"_unsent"),wt="https://api2.amplitude.com/2/httpapi",Bn="https://api.eu.amplitude.com/2/httpapi",Fn="https://api2.amplitude.com/batch",Vn="https://api.eu.amplitude.com/batch";var Kr=1e3,We=function(t){if(Object.keys(t).length>Kr)return!1;for(var e in t){var n=t[e];if(!Ct(e,n))return!1}return!0},Ct=function(t,e){var n,r;if(typeof t!="string")return!1;if(Array.isArray(e)){var i=!0;try{for(var o=Y(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(Array.isArray(u))return!1;if(typeof u=="object")i=i&&We(u);else if(!["number","string"].includes(typeof u))return!1;if(!i)return!1}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}else{if(e==null)return!1;if(typeof e=="object")return We(e);if(!["number","string","boolean"].includes(typeof e))return!1}return!0};var G=function(){function t(){this._propertySet=new Set,this._properties={}}return t.prototype.getUserProperties=function(){return v({},this._properties)},t.prototype.set=function(e,n){return this._safeSet(w.SET,e,n),this},t.prototype.setOnce=function(e,n){return this._safeSet(w.SET_ONCE,e,n),this},t.prototype.append=function(e,n){return this._safeSet(w.APPEND,e,n),this},t.prototype.prepend=function(e,n){return this._safeSet(w.PREPEND,e,n),this},t.prototype.postInsert=function(e,n){return this._safeSet(w.POSTINSERT,e,n),this},t.prototype.preInsert=function(e,n){return this._safeSet(w.PREINSERT,e,n),this},t.prototype.remove=function(e,n){return this._safeSet(w.REMOVE,e,n),this},t.prototype.add=function(e,n){return this._safeSet(w.ADD,e,n),this},t.prototype.unset=function(e){return this._safeSet(w.UNSET,e,xt),this},t.prototype.clearAll=function(){return this._properties={},this._properties[w.CLEAR_ALL]=xt,this},t.prototype._safeSet=function(e,n,r){if(this._validate(e,n,r)){var i=this._properties[e];return i===void 0&&(i={},this._properties[e]=i),i[n]=r,this._propertySet.add(n),!0}return!1},t.prototype._validate=function(e,n,r){return this._properties[w.CLEAR_ALL]!==void 0||this._propertySet.has(n)?!1:e===w.ADD?typeof r=="number":e!==w.UNSET&&e!==w.REMOVE?Ct(n,r):!0},t}();var Hn=function(t,e,n){var r=typeof t=="string"?{event_type:t}:t;return v(v(v({},r),n),e&&{event_properties:e})},Ie=function(t,e){var n=v(v({},e),{event_type:ee.IDENTIFY,user_properties:t.getUserProperties()});return n},qn=function(t,e,n,r){var i,o=v(v({},r),{event_type:ee.GROUP_IDENTIFY,group_properties:n.getUserProperties(),groups:(i={},i[t]=e,i)});return o},jn=function(t,e,n){var r,i=new G;i.set(t,e);var o=v(v({},n),{event_type:ee.IDENTIFY,user_properties:i.getUserProperties(),groups:(r={},r[t]=e,r)});return o},Kn=function(t,e){return v(v({},e),{event_type:ee.REVENUE,event_properties:t.getEventProperties()})};var H=function(t){return{promise:t||Promise.resolve()}};var Pt=function(){function t(e){e===void 0&&(e="$default"),this.initializing=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new Nn(this),this.name=e}return t.prototype._init=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){switch(n.label){case 0:return this.config=e,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return n.sent(),[2]}})})},t.prototype.runQueuedFunctions=function(e){return p(this,void 0,void 0,function(){var n,r,i,o,s,u,c;return f(this,function(a){switch(a.label){case 0:n=this[e],this[e]=[],a.label=1;case 1:a.trys.push([1,6,7,8]),r=Y(n),i=r.next(),a.label=2;case 2:return i.done?[3,5]:(o=i.value,[4,o()]);case 3:a.sent(),a.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return s=a.sent(),u={error:s},[3,8];case 7:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 8:return[2]}})})},t.prototype.track=function(e,n,r){var i=Hn(e,n,r);return H(this.dispatch(i))},t.prototype.identify=function(e,n){var r=Ie(e,n);return H(this.dispatch(r))},t.prototype.groupIdentify=function(e,n,r,i){var o=qn(e,n,r,i);return H(this.dispatch(o))},t.prototype.setGroup=function(e,n,r){var i=jn(e,n,r);return H(this.dispatch(i))},t.prototype.revenue=function(e,n){var r=Kn(e,n);return H(this.dispatch(r))},t.prototype.add=function(e){return this.config?H(this.timeline.register(e,this.config)):(this.q.push(this.add.bind(this,e)),H())},t.prototype.remove=function(e){return this.config?H(this.timeline.deregister(e)):(this.q.push(this.remove.bind(this,e)),H())},t.prototype.dispatchWithCallback=function(e,n){if(!this.config)return n(te(e,0,Mn));this.process(e).then(n)},t.prototype.dispatch=function(e){return p(this,void 0,void 0,function(){var n=this;return f(this,function(r){return this.config?[2,this.process(e)]:[2,new Promise(function(i){n.dispatchQ.push(n.dispatchWithCallback.bind(n,e,i))})]})})},t.prototype.process=function(e){return p(this,void 0,void 0,function(){var i,n,r,i;return f(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this.config.optOut?[2,te(e,0,kn)]:[4,this.timeline.push(e)];case 1:return i=o.sent(),i.code===200?this.config.loggerProvider.log(i.message):i.code===100?this.config.loggerProvider.warn(i.message):this.config.loggerProvider.error(i.message),[2,i];case 2:return n=o.sent(),r=String(n),this.config.loggerProvider.error(r),i=te(e,0,r),[2,i];case 3:return[2]}})})},t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,!!e));return}this.config.optOut=!!e},t.prototype.flush=function(){return H(this.timeline.flush())},t}();var $e=function(){function t(){this.productId="",this.quantity=1,this.price=0}return t.prototype.setProductId=function(e){return this.productId=e,this},t.prototype.setQuantity=function(e){return e>0&&(this.quantity=e),this},t.prototype.setPrice=function(e){return this.price=e,this},t.prototype.setRevenueType=function(e){return this.revenueType=e,this},t.prototype.setRevenue=function(e){return this.revenue=e,this},t.prototype.setEventProperties=function(e){return We(e)&&(this.properties=e),this},t.prototype.getEventProperties=function(){var e=this.properties?v({},this.properties):{};return e[Q.REVENUE_PRODUCT_ID]=this.productId,e[Q.REVENUE_QUANTITY]=this.quantity,e[Q.REVENUE_PRICE]=this.price,e[Q.REVENUE_TYPE]=this.revenueType,e[Q.REVENUE]=this.revenue,e},t}();var Gn=function(t,e){var n=Math.max(e,1);return t.reduce(function(r,i,o){var s=Math.floor(o/n);return r[s]||(r[s]=[]),r[s].push(i),r},[])};var Ye="Amplitude Logger ",be=function(){function t(){this.logLevel=M.None}return t.prototype.disable=function(){this.logLevel=M.None},t.prototype.enable=function(e){e===void 0&&(e=M.Warn),this.logLevel=e},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Verbose||console.log("".concat(Ye,"[Log]: ").concat(e.join(" ")))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Warn||console.warn("".concat(Ye,"[Warn]: ").concat(e.join(" ")))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Error||console.error("".concat(Ye,"[Error]: ").concat(e.join(" ")))},t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.logLevel<M.Debug||console.log("".concat(Ye,"[Debug]: ").concat(e.join(" ")))},t}();var Qe=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:M.Warn,loggerProvider:new be,offline:!1,optOut:!1,serverUrl:wt,serverZone:"US",useBatch:!1}},Rt=function(){function t(e){var n,r,i,o;this._optOut=!1;var s=Qe();this.apiKey=e.apiKey,this.flushIntervalMillis=(n=e.flushIntervalMillis)!==null&&n!==void 0?n:s.flushIntervalMillis,this.flushMaxRetries=e.flushMaxRetries||s.flushMaxRetries,this.flushQueueSize=e.flushQueueSize||s.flushQueueSize,this.instanceName=e.instanceName||s.instanceName,this.loggerProvider=e.loggerProvider||s.loggerProvider,this.logLevel=(r=e.logLevel)!==null&&r!==void 0?r:s.logLevel,this.minIdLength=e.minIdLength,this.plan=e.plan,this.ingestionMetadata=e.ingestionMetadata,this.offline=e.offline!==void 0?e.offline:s.offline,this.optOut=(i=e.optOut)!==null&&i!==void 0?i:s.optOut,this.serverUrl=e.serverUrl,this.serverZone=e.serverZone||s.serverZone,this.storageProvider=e.storageProvider,this.transportProvider=e.transportProvider,this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:s.useBatch,this.loggerProvider.enable(this.logLevel);var u=Dt(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=u.serverZone,this.serverUrl=u.serverUrl}return Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:!1,configurable:!0}),t}();var Gr=function(t,e){return t==="EU"?e?Vn:Bn:e?Fn:wt},Dt=function(t,e,n){if(t===void 0&&(t=""),e===void 0&&(e=Qe().serverZone),n===void 0&&(n=Qe().useBatch),t)return{serverUrl:t,serverZone:void 0};var r=["US","EU"].includes(e)?e:Qe().serverZone;return{serverZone:r,serverUrl:Gr(r,n)}};function Wr(t){return t instanceof Error?t.message:String(t)}function Xe(t){var e="";try{"body"in t&&(e=JSON.stringify(t.body,null,2))}catch{}return e}var At=function(){function t(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return t.prototype.setup=function(e){var n;return p(this,void 0,void 0,function(){var r,i=this;return f(this,function(o){switch(o.label){case 0:return this.config=e,this.storageKey="".concat(Lt,"_").concat(this.config.apiKey.substring(0,10)),[4,(n=this.config.storageProvider)===null||n===void 0?void 0:n.get(this.storageKey)];case 1:return r=o.sent(),this.saveEvents(),r&&r.length>0&&Promise.all(r.map(function(s){return i.execute(s)})).catch(),[2,Promise.resolve(void 0)]}})})},t.prototype.execute=function(e){var n=this;return new Promise(function(r){var i={event:e,attempts:0,callback:function(o){return r(o)},timeout:0};n.addToQueue(i)})},t.prototype.addToQueue=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n.filter(function(o){return o.attempts<e.config.flushMaxRetries?(o.attempts+=1,!0):(e.fulfillRequest([o],500,An),!1)});i.forEach(function(o){if(e.queue=e.queue.concat(o),o.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0,e.schedule(0)},o.timeout)}),this.saveEvents()},t.prototype.schedule=function(e){var n=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){n.flush(!0).then(function(){n.queue.length>0&&n.schedule(e)})},e))},t.prototype.flush=function(e){return e===void 0&&(e=!1),p(this,void 0,void 0,function(){var n,r,i,o=this;return f(this,function(s){switch(s.label){case 0:return this.config.offline?(this.config.loggerProvider.debug("Skipping flush while offline."),[2]):(n=[],r=[],this.queue.forEach(function(u){return u.timeout===0?n.push(u):r.push(u)}),this.queue=r,this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),i=Gn(n,this.config.flushQueueSize),[4,Promise.all(i.map(function(u){return o.send(u,e)}))]);case 1:return s.sent(),[2]}})})},t.prototype.send=function(e,n){return n===void 0&&(n=!0),p(this,void 0,void 0,function(){var r,i,o,s,u;return f(this,function(c){switch(c.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(e,400,On)];r={api_key:this.config.apiKey,events:e.map(function(a){var l=a.event,d=l.extra,m=Te(l,["extra"]);return m}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString()},c.label=1;case 1:return c.trys.push([1,3,,4]),i=Dt(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(i,r)];case 2:return o=c.sent(),o===null?(this.fulfillRequest(e,0,Dn),[2]):n?(this.handleResponse(o,e),[3,4]):("body"in o?this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(Xe(o))):this.fulfillRequest(e,o.statusCode,o.status),[2]);case 3:return s=c.sent(),u=Wr(s),this.config.loggerProvider.error(u),this.fulfillRequest(e,0,u),[3,4];case 4:return[2]}})})},t.prototype.handleResponse=function(e,n){var r=e.status;switch(r){case x.Success:{this.handleSuccessResponse(e,n);break}case x.Invalid:{this.handleInvalidResponse(e,n);break}case x.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,n);break}case x.RateLimit:{this.handleRateLimitResponse(e,n);break}default:{this.config.loggerProvider.warn(\`{code: 0, error: "Status '\`.concat(r,"' provided for ").concat(n.length,' events"}')),this.handleOtherResponse(n);break}}},t.prototype.handleSuccessResponse=function(e,n){this.fulfillRequest(n,e.statusCode,Rn)},t.prototype.handleInvalidResponse=function(e,n){var r=this;if(e.body.missingField||e.body.error.startsWith(Un)){this.fulfillRequest(n,e.statusCode,e.body.error);return}var i=q(q(q(q([],L(Object.values(e.body.eventsWithInvalidFields)),!1),L(Object.values(e.body.eventsWithMissingFields)),!1),L(Object.values(e.body.eventsWithInvalidIdLengths)),!1),L(e.body.silencedEvents),!1).flat(),o=new Set(i),s=n.filter(function(u,c){if(o.has(c)){r.fulfillRequest([u],e.statusCode,e.body.error);return}return!0});s.length>0&&this.config.loggerProvider.warn(Xe(e)),this.addToQueue.apply(this,q([],L(s),!1))},t.prototype.handlePayloadTooLargeResponse=function(e,n){if(n.length===1){this.fulfillRequest(n,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(Xe(e)),this.config.flushQueueSize/=2,this.addToQueue.apply(this,q([],L(n),!1))},t.prototype.handleRateLimitResponse=function(e,n){var r=this,i=Object.keys(e.body.exceededDailyQuotaUsers),o=Object.keys(e.body.exceededDailyQuotaDevices),s=e.body.throttledEvents,u=new Set(i),c=new Set(o),a=new Set(s),l=n.filter(function(d,m){if(d.event.user_id&&u.has(d.event.user_id)||d.event.device_id&&c.has(d.event.device_id)){r.fulfillRequest([d],e.statusCode,e.body.error);return}return a.has(m)&&(d.timeout=r.throttleTimeout),!0});l.length>0&&this.config.loggerProvider.warn(Xe(e)),this.addToQueue.apply(this,q([],L(l),!1))},t.prototype.handleOtherResponse=function(e){var n=this;this.addToQueue.apply(this,q([],L(e.map(function(r){return r.timeout=r.attempts*n.retryTimeout,r})),!1))},t.prototype.fulfillRequest=function(e,n,r){this.saveEvents(),e.forEach(function(i){return i.callback(te(i.event,n,r))})},t.prototype.saveEvents=function(){if(this.config.storageProvider){var e=Array.from(this.queue.map(function(n){return n.event}));this.config.storageProvider.set(this.storageKey,e)}},t}();var $r=function(t){t===void 0&&(t=0);var e=new Error().stack||"";return e.split(\`
\`).slice(2+t).map(function(n){return n.trim()})},C=function(t){return function(){var e=v({},t.config),n=e.loggerProvider,r=e.logLevel;return{logger:n,logLevel:r}}},Yr=function(t,e){var n,r;e=e.replace(/\\[(\\w+)\\]/g,".$1"),e=e.replace(/^\\./,"");try{for(var i=Y(e.split(".")),o=i.next();!o.done;o=i.next()){var s=o.value;if(s in t)t=t[s];else return}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t},P=function(t,e){return function(){var n,r,i={};try{for(var o=Y(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[u]=Yr(t,u)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}},R=function(t,e,n,r,i){return i===void 0&&(i=null),function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var u=n(),c=u.logger,a=u.logLevel;if(a&&a<M.Debug||!a||!c)return t.apply(i,o);var l={type:"invoke public method",name:e,args:o,stacktrace:$r(1),time:{start:new Date().toISOString()},states:{}};r&&l.states&&(l.states.before=r());var d=t.apply(i,o);return d&&d.promise?d.promise.then(function(){r&&l.states&&(l.states.after=r()),l.time&&(l.time.end=new Date().toISOString()),c.debug(JSON.stringify(l,null,2))}):(r&&l.states&&(l.states.after=r()),l.time&&(l.time.end=new Date().toISOString()),c.debug(JSON.stringify(l,null,2))),d}};var ze=function(){function t(){this.memoryStorage=new Map}return t.prototype.isEnabled=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return[2,!0]})})},t.prototype.get=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){return[2,this.memoryStorage.get(e)]})})},t.prototype.getRaw=function(e){return p(this,void 0,void 0,function(){var n;return f(this,function(r){switch(r.label){case 0:return[4,this.get(e)];case 1:return n=r.sent(),[2,n?JSON.stringify(n):void 0]}})})},t.prototype.set=function(e,n){return p(this,void 0,void 0,function(){return f(this,function(r){return this.memoryStorage.set(e,n),[2]})})},t.prototype.remove=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){return this.memoryStorage.delete(e),[2]})})},t.prototype.reset=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return this.memoryStorage.clear(),[2]})})},t}();var pe=function(){function t(){}return t.prototype.send=function(e,n){return Promise.resolve(null)},t.prototype.buildResponse=function(e){var n,r,i,o,s,u,c,a,l,d,m,y,g,T,h,_,U,I,k,F,b,S;if(typeof e!="object")return null;var O=e.code||0,B=this.buildStatus(O);switch(B){case x.Success:return{status:B,statusCode:O,body:{eventsIngested:(n=e.events_ingested)!==null&&n!==void 0?n:0,payloadSizeBytes:(r=e.payload_size_bytes)!==null&&r!==void 0?r:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case x.Invalid:return{status:B,statusCode:O,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(s=e.missing_field)!==null&&s!==void 0?s:"",eventsWithInvalidFields:(u=e.events_with_invalid_fields)!==null&&u!==void 0?u:{},eventsWithMissingFields:(c=e.events_with_missing_fields)!==null&&c!==void 0?c:{},eventsWithInvalidIdLengths:(a=e.events_with_invalid_id_lengths)!==null&&a!==void 0?a:{},epsThreshold:(l=e.eps_threshold)!==null&&l!==void 0?l:0,exceededDailyQuotaDevices:(d=e.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(m=e.silenced_devices)!==null&&m!==void 0?m:[],silencedEvents:(y=e.silenced_events)!==null&&y!==void 0?y:[],throttledDevices:(g=e.throttled_devices)!==null&&g!==void 0?g:{},throttledEvents:(T=e.throttled_events)!==null&&T!==void 0?T:[]}};case x.PayloadTooLarge:return{status:B,statusCode:O,body:{error:(h=e.error)!==null&&h!==void 0?h:""}};case x.RateLimit:return{status:B,statusCode:O,body:{error:(_=e.error)!==null&&_!==void 0?_:"",epsThreshold:(U=e.eps_threshold)!==null&&U!==void 0?U:0,throttledDevices:(I=e.throttled_devices)!==null&&I!==void 0?I:{},throttledUsers:(k=e.throttled_users)!==null&&k!==void 0?k:{},exceededDailyQuotaDevices:(F=e.exceeded_daily_quota_devices)!==null&&F!==void 0?F:{},exceededDailyQuotaUsers:(b=e.exceeded_daily_quota_users)!==null&&b!==void 0?b:{},throttledEvents:(S=e.throttled_events)!==null&&S!==void 0?S:[]}};case x.Timeout:default:return{status:B,statusCode:O}}},t.prototype.buildStatus=function(e){return e>=200&&e<300?x.Success:e===429?x.RateLimit:e===413?x.PayloadTooLarge:e===408?x.Timeout:e>=400&&e<500?x.Invalid:e>=500?x.Failed:x.Unknown},t}();var N=function(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global};var ge=function(){var t,e=N();if(!(!((t=e?.location)===null||t===void 0)&&t.search))return{};var n=e.location.search.substring(1).split("&").filter(Boolean),r=n.reduce(function(i,o){var s=o.split("=",2),u=Wn(s[0]),c=Wn(s[1]);return c&&(i[u]=c),i},{});return r},Wn=function(t){t===void 0&&(t="");try{return decodeURIComponent(t)}catch{return""}};var $n="utm_campaign",Yn="utm_content",Qn="utm_id",Xn="utm_medium",zn="utm_source",Zn="utm_term",kt="dclid",Ot="fbclid",Ut="gbraid",Mt="gclid",Nt="ko_click_id",Bt="li_fat_id",Ft="msclkid",Vt="rtd_cid",Ht="ttclid",qt="twclid",jt="wbraid";var fe={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var Se=function(){function t(){}return t.prototype.parse=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return[2,v(v(v(v({},fe),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},t.prototype.getUtmParam=function(){var e=ge(),n=e[$n],r=e[Yn],i=e[Qn],o=e[Xn],s=e[zn],u=e[Zn];return{utm_campaign:n,utm_content:r,utm_id:i,utm_medium:o,utm_source:s,utm_term:u}},t.prototype.getReferrer=function(){var e,n,r={referrer:void 0,referring_domain:void 0};try{r.referrer=document.referrer||void 0,r.referring_domain=(n=(e=r.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&n!==void 0?n:void 0}catch{}return r},t.prototype.getClickIds=function(){var e,n=ge();return e={},e[kt]=n[kt],e[Ot]=n[Ot],e[Ut]=n[Ut],e[Mt]=n[Mt],e[Nt]=n[Nt],e[Bt]=n[Bt],e[Ft]=n[Ft],e[Vt]=n[Vt],e[Ht]=n[Ht],e[qt]=n[qt],e[jt]=n[jt],e},t}();var Ze=function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[de,e,t.substring(0,n)].filter(Boolean).join("_")},Kt=function(t){return"".concat(de.toLowerCase(),"_").concat(t.substring(0,6))};var xe=function(t,e){e===void 0&&(e=Date.now());var n=Date.now(),r=n-e;return r>t};var Le=function(){function t(e){this.options=v({},e)}return t.prototype.isEnabled=function(){return p(this,void 0,void 0,function(){var e,n,r,i;return f(this,function(o){switch(o.label){case 0:if(!N())return[2,!1];t.testValue=String(Date.now()),e=new t(this.options),n="AMP_TEST",o.label=1;case 1:return o.trys.push([1,4,5,7]),[4,e.set(n,t.testValue)];case 2:return o.sent(),[4,e.get(n)];case 3:return r=o.sent(),[2,r===t.testValue];case 4:return i=o.sent(),[2,!1];case 5:return[4,e.remove(n)];case 6:return o.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return p(this,void 0,void 0,function(){var n;return f(this,function(r){switch(r.label){case 0:return[4,this.getRaw(e)];case 1:if(n=r.sent(),!n)return[2,void 0];try{try{n=decodeURIComponent(atob(n))}catch{}return[2,JSON.parse(n)]}catch{return[2,void 0]}return[2]}})})},t.prototype.getRaw=function(e){var n,r;return p(this,void 0,void 0,function(){var i,o,s;return f(this,function(u){return i=N(),o=(r=(n=i?.document)===null||n===void 0?void 0:n.cookie.split("; "))!==null&&r!==void 0?r:[],s=o.find(function(c){return c.indexOf(e+"=")===0}),s?[2,s.substring(e.length+1)]:[2,void 0]})})},t.prototype.set=function(e,n){var r;return p(this,void 0,void 0,function(){var i,o,s,u,c,a;return f(this,function(l){try{i=(r=this.options.expirationDays)!==null&&r!==void 0?r:0,o=n!==null?i:-1,s=void 0,o&&(u=new Date,u.setTime(u.getTime()+o*24*60*60*1e3),s=u),c="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(n)))),s&&(c+="; expires=".concat(s.toUTCString())),c+="; path=/",this.options.domain&&(c+="; domain=".concat(this.options.domain)),this.options.secure&&(c+="; Secure"),this.options.sameSite&&(c+="; SameSite=".concat(this.options.sameSite)),a=N(),a&&(a.document.cookie=c)}catch{}return[2]})})},t.prototype.remove=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){switch(n.label){case 0:return[4,this.set(e,null)];case 1:return n.sent(),[2]}})})},t.prototype.reset=function(){return p(this,void 0,void 0,function(){return f(this,function(e){return[2]})})},t}();var Gt=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(n,r){return p(this,void 0,void 0,function(){var i,o,s;return f(this,function(u){switch(u.label){case 0:if(typeof fetch>"u")throw new Error("FetchTransport is not supported");return i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(r),method:"POST"},[4,fetch(n,i)];case 1:return o=u.sent(),[4,o.json()];case 2:return s=u.sent(),[2,this.buildResponse(s)]}})})},e}(pe);var Qr=function(){function t(){}return t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:Xr(),platform:"Web",os:void 0,deviceModel:void 0}},t}(),Xr=function(){return typeof navigator<"u"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},zr=function(){function t(){this.queue=[]}return t.prototype.logEvent=function(e){this.receiver?this.receiver(e):this.queue.length<512&&this.queue.push(e)},t.prototype.setEventReceiver=function(e){this.receiver=e,this.queue.length>0&&(this.queue.forEach(function(n){e(n)}),this.queue=[])},t}(),ie=function(){return ie=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ie.apply(this,arguments)},Je=function(t,e){var n=["string","number","boolean","undefined"],r=typeof t,i=typeof e;if(r!==i)return!1;for(var o=0,s=n;o<s.length;o++){var u=s[o];if(u===r)return t===e}if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;var c=Array.isArray(t),a=Array.isArray(e);if(c!==a)return!1;if(c&&a){for(var l=0;l<t.length;l++)if(!Je(t[l],e[l]))return!1}else{var d=Object.keys(t).sort(),m=Object.keys(e).sort();if(!Je(d,m))return!1;var y=!0;return Object.keys(t).forEach(function(g){Je(t[g],e[g])||(y=!1)}),y}return!0},Zr="$set",Jr="$unset",ei="$clearAll";Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r});var ti=function(){function t(){this.identity={userProperties:{}},this.listeners=new Set}return t.prototype.editIdentity=function(){var e=this,n=ie({},this.identity.userProperties),r=ie(ie({},this.identity),{userProperties:n});return{setUserId:function(i){return r.userId=i,this},setDeviceId:function(i){return r.deviceId=i,this},setUserProperties:function(i){return r.userProperties=i,this},setOptOut:function(i){return r.optOut=i,this},updateUserProperties:function(i){for(var o=r.userProperties||{},s=0,u=Object.entries(i);s<u.length;s++){var c=u[s],a=c[0],l=c[1];switch(a){case Zr:for(var d=0,m=Object.entries(l);d<m.length;d++){var y=m[d],g=y[0],T=y[1];o[g]=T}break;case Jr:for(var h=0,_=Object.keys(l);h<_.length;h++){var g=_[h];delete o[g]}break;case ei:o={};break}}return r.userProperties=o,this},commit:function(){return e.setIdentity(r),this}}},t.prototype.getIdentity=function(){return ie({},this.identity)},t.prototype.setIdentity=function(e){var n=ie({},this.identity);this.identity=ie({},e),Je(n,this.identity)||this.listeners.forEach(function(r){r(e)})},t.prototype.addIdentityListener=function(e){this.listeners.add(e)},t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)},t}(),we=typeof globalThis<"u"?globalThis:typeof global<"u"?global:self,Jn=function(){function t(){this.identityStore=new ti,this.eventBridge=new zr,this.applicationContextProvider=new Qr}return t.getInstance=function(e){return we.analyticsConnectorInstances||(we.analyticsConnectorInstances={}),we.analyticsConnectorInstances[e]||(we.analyticsConnectorInstances[e]=new t),we.analyticsConnectorInstances[e]},t}();var oe=function(t){return t===void 0&&(t="$default_instance"),Jn.getInstance(t)},Wt=function(t,e){oe(e).identityStore.editIdentity().setUserId(t).commit()},$t=function(t,e){oe(e).identityStore.editIdentity().setDeviceId(t).commit()};var Yt=function(){function t(){this.name="identity",this.type="before",this.identityStore=oe().identityStore}return t.prototype.execute=function(e){return p(this,void 0,void 0,function(){var n;return f(this,function(r){return n=e.user_properties,n&&this.identityStore.editIdentity().updateUserProperties(n).commit(),[2,e]})})},t.prototype.setup=function(e){return p(this,void 0,void 0,function(){return f(this,function(n){return e.instanceName&&(this.identityStore=oe(e.instanceName).identityStore),[2]})})},t}();var Qt=function(){var t,e,n,r;if(typeof navigator>"u")return"";var i=navigator.userLanguage;return(r=(n=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&n!==void 0?n:i)!==null&&r!==void 0?r:""};var Ce=function(t,e){return typeof t=="boolean"?t:t?.[e]!==!1},et=function(t){return Ce(t,"attribution")},Xt=function(t){return Ce(t,"fileDownloads")},zt=function(t){return Ce(t,"formInteractions")},tt=function(t){return Ce(t,"pageViews")},Zt=function(t){return Ce(t,"sessions")},Jt=function(t){var e=function(){return!1},n=void 0,r,i=t.pageCounter,o=tt(t.defaultTracking);return o&&(e=void 0,r=void 0,t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews=="object"&&("trackOn"in t.defaultTracking.pageViews&&(e=t.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in t.defaultTracking.pageViews&&(n=t.defaultTracking.pageViews.trackHistoryChanges),"eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType&&(r=t.defaultTracking.pageViews.eventType))),{trackOn:e,trackHistoryChanges:n,eventType:r,pageCounter:i}},en=function(t){return et(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking=="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution=="object"?v({},t.defaultTracking.attribution):{}};var nt=function(t,e){for(var n=0;n<e.length;n++){var r=e[n],i=r.name,o=r.args,s=r.resolve,u=t&&t[i];if(typeof u=="function"){var c=u.apply(t,o);typeof s=="function"&&s(c?.promise)}}return t},rt=function(t){var e=t;return e&&e._q!==void 0};var er="2.5.2";var ni="Web",ri="$remote",tr=function(){function t(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat(er),typeof navigator<"u"&&(this.userAgent=navigator.userAgent)}return t.prototype.setup=function(e){return this.config=e,Promise.resolve(void 0)},t.prototype.execute=function(e){var n,r;return p(this,void 0,void 0,function(){var i,o,s,u;return f(this,function(c){return i=new Date().getTime(),o=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1,s=(r=e.event_id)!==null&&r!==void 0?r:o+1,this.config.lastEventId=s,e.time||(this.config.lastEventTime=i),u=v(v(v(v(v(v(v(v({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:ni}),this.config.trackingOptions.language&&{language:Qt()}),this.config.trackingOptions.ipAddress&&{ip:ri}),{insert_id:X(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:s,library:this.library,user_agent:this.userAgent}),[2,u]})})},t}();var it=function(){function t(e){this.storage=e}return t.prototype.isEnabled=function(){return p(this,void 0,void 0,function(){var e,n,r,i,o;return f(this,function(s){switch(s.label){case 0:if(!this.storage)return[2,!1];e=String(Date.now()),n=new t(this.storage),r="AMP_TEST",s.label=1;case 1:return s.trys.push([1,4,5,7]),[4,n.set(r,e)];case 2:return s.sent(),[4,n.get(r)];case 3:return i=s.sent(),[2,i===e];case 4:return o=s.sent(),[2,!1];case 5:return[4,n.remove(r)];case 6:return s.sent(),[7];case 7:return[2]}})})},t.prototype.get=function(e){return p(this,void 0,void 0,function(){var n,r;return f(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getRaw(e)];case 1:return n=i.sent(),n?[2,JSON.parse(n)]:[2,void 0];case 2:return r=i.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},t.prototype.getRaw=function(e){var n;return p(this,void 0,void 0,function(){return f(this,function(r){return[2,((n=this.storage)===null||n===void 0?void 0:n.getItem(e))||void 0]})})},t.prototype.set=function(e,n){var r;return p(this,void 0,void 0,function(){return f(this,function(i){try{(r=this.storage)===null||r===void 0||r.setItem(e,JSON.stringify(n))}catch{}return[2]})})},t.prototype.remove=function(e){var n;return p(this,void 0,void 0,function(){return f(this,function(r){try{(n=this.storage)===null||n===void 0||n.removeItem(e)}catch{}return[2]})})},t.prototype.reset=function(){var e;return p(this,void 0,void 0,function(){return f(this,function(n){try{(e=this.storage)===null||e===void 0||e.clear()}catch{}return[2]})})},t}();var ot=1e3,tn=function(t){V(e,t);function e(n){var r=this,i;return r=t.call(this,(i=N())===null||i===void 0?void 0:i.localStorage)||this,r.loggerProvider=n?.loggerProvider,r}return e.prototype.set=function(n,r){var i;return p(this,void 0,void 0,function(){var o;return f(this,function(s){switch(s.label){case 0:return Array.isArray(r)&&r.length>ot?(o=r.length-ot,[4,t.prototype.set.call(this,n,r.slice(0,ot))]):[3,2];case 1:return s.sent(),(i=this.loggerProvider)===null||i===void 0||i.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(ot,".")),[3,4];case 2:return[4,t.prototype.set.call(this,n,r)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},e}(it);var nr=function(t){V(e,t);function e(){var n;return t.call(this,(n=N())===null||n===void 0?void 0:n.sessionStorage)||this}return e}(it);var rr=function(t){V(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={done:4},n}return e.prototype.send=function(n,r){return p(this,void 0,void 0,function(){var i=this;return f(this,function(o){return[2,new Promise(function(s,u){typeof XMLHttpRequest>"u"&&u(new Error("XHRTransport is not supported."));var c=new XMLHttpRequest;c.open("POST",n,!0),c.onreadystatechange=function(){if(c.readyState===i.state.done)try{var a=c.responseText,l=JSON.parse(a),d=i.buildResponse(l);s(d)}catch(m){u(m)}},c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("Accept","*/*"),c.send(JSON.stringify(r))})]})})},e}(pe);var ir=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.send=function(n,r){return p(this,void 0,void 0,function(){var i=this;return f(this,function(o){return[2,new Promise(function(s,u){var c=N();if(!c?.navigator.sendBeacon)throw new Error("SendBeaconTransport is not supported");try{var a=JSON.stringify(r),l=c.navigator.sendBeacon(n,JSON.stringify(r));return s(l?i.buildResponse({code:200,events_ingested:r.events.length,payload_size_bytes:a.length,server_upload_time:Date.now()}):i.buildResponse({code:500}))}catch(d){u(d)}})]})})},e}(pe);var or=function(t,e,n){return n===void 0&&(n=!0),p(void 0,void 0,void 0,function(){var r,i,o,s,u,c,a,l,d;return f(this,function(m){switch(m.label){case 0:return r=Kt(t),[4,e.getRaw(r)];case 1:return i=m.sent(),i?n?[4,e.remove(r)]:[3,3]:[2,{optOut:!1}];case 2:m.sent(),m.label=3;case 3:return o=L(i.split("."),6),s=o[0],u=o[1],c=o[2],a=o[3],l=o[4],d=o[5],[2,{deviceId:s,userId:ii(u),sessionId:nn(a),lastEventId:nn(d),lastEventTime:nn(l),optOut:!!c}]}})})},nn=function(t){var e=parseInt(t,32);if(!isNaN(e))return e},ii=function(t){if(!(!atob||!escape||!t))try{return decodeURIComponent(escape(atob(t)))}catch{return}};var j="[Amplitude]",ka="".concat(j," Page Viewed"),rn="".concat(j," Form Started"),sr="".concat(j," Form Submitted"),ar="".concat(j," File Downloaded"),on="session_start",sn="session_end",ur="".concat(j," File Extension"),cr="".concat(j," File Name"),lr="".concat(j," Link ID"),dr="".concat(j," Link Text"),pr="".concat(j," Link URL"),st="".concat(j," Form ID"),at="".concat(j," Form Name"),ut="".concat(j," Form Destination"),Pe="cookie",fr="US";var oi=function(t){V(e,t);function e(n,r,i,o,s,u,c,a,l,d,m,y,g,T,h,_,U,I,k,F,b,S,O,B,Z,ne,ce,re,le,ye,_e){i===void 0&&(i=new ze),o===void 0&&(o={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),c===void 0&&(c=1e3),a===void 0&&(a=5),l===void 0&&(l=30),d===void 0&&(d=Pe),h===void 0&&(h=new be),_===void 0&&(_=M.Warn),I===void 0&&(I=!1),k===void 0&&(k=!1),S===void 0&&(S=""),O===void 0&&(O=fr),Z===void 0&&(Z=30*60*1e3),ne===void 0&&(ne=new tn({loggerProvider:h})),ce===void 0&&(ce={ipAddress:!0,language:!0,platform:!0}),re===void 0&&(re="fetch"),le===void 0&&(le=!1);var E=t.call(this,{apiKey:n,storageProvider:ne,transportProvider:an(re)})||this;return E.apiKey=n,E.appVersion=r,E.cookieOptions=o,E.defaultTracking=s,E.flushIntervalMillis=c,E.flushMaxRetries=a,E.flushQueueSize=l,E.identityStorage=d,E.ingestionMetadata=m,E.instanceName=y,E.loggerProvider=h,E.logLevel=_,E.minIdLength=U,E.offline=I,E.partnerId=F,E.plan=b,E.serverUrl=S,E.serverZone=O,E.sessionTimeout=Z,E.storageProvider=ne,E.trackingOptions=ce,E.transport=re,E.useBatch=le,E._optOut=!1,E._cookieStorage=i,E.deviceId=u,E.lastEventId=g,E.lastEventTime=T,E.optOut=k,E.sessionId=B,E.pageCounter=_e,E.userId=ye,E.loggerProvider.enable(E.logLevel),E}return Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(n){this._cookieStorage!==n&&(this._cookieStorage=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(n){this._deviceId!==n&&(this._deviceId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(n){this._userId!==n&&(this._userId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(n){this._sessionId!==n&&(this._sessionId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(n){this._optOut!==n&&(this._optOut=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(n){this._lastEventTime!==n&&(this._lastEventTime=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(n){this._lastEventId!==n&&(this._lastEventId=n,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(n){this._pageCounter!==n&&(this._pageCounter=n,this.updateStorage())},enumerable:!1,configurable:!0}),e.prototype.updateStorage=function(){var n={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter};this.cookieStorage.set(Ze(this.apiKey),n)},e}(Rt);var mr=function(t,e,n){return e===void 0&&(e={}),p(void 0,void 0,void 0,function(){var r,i,o,s,u,c,a,l,d,m,y,g,T,h,_,U,I,k,F,b,S,O,B,Z,ne,ce,re,le,ye,_e,E,pt,ft,mt,vt,gt,ht,yt,_t,Et;return f(this,function(me){switch(me.label){case 0:return r=e.identityStorage||Pe,I={},r===Pe?[3,1]:(o="",[3,5]);case 1:return(F=(k=e.cookieOptions)===null||k===void 0?void 0:k.domain)!==null&&F!==void 0?(s=F,[3,4]):[3,2];case 2:return[4,ai()];case 3:s=me.sent(),me.label=4;case 4:o=s,me.label=5;case 5:return i=v.apply(void 0,[(I.domain=o,I.expiration=365,I.sameSite="Lax",I.secure=!1,I.upgrade=!0,I),e.cookieOptions]),u=si(e.identityStorage,i),[4,or(t,u,(S=(b=e.cookieOptions)===null||b===void 0?void 0:b.upgrade)!==null&&S!==void 0?S:!0)];case 6:return c=me.sent(),[4,u.get(Ze(t))];case 7:return a=me.sent(),l=ge(),d=(ne=(Z=(B=(O=e.deviceId)!==null&&O!==void 0?O:l.deviceId)!==null&&B!==void 0?B:a?.deviceId)!==null&&Z!==void 0?Z:c.deviceId)!==null&&ne!==void 0?ne:X(),m=(ce=a?.lastEventId)!==null&&ce!==void 0?ce:c.lastEventId,y=(re=a?.lastEventTime)!==null&&re!==void 0?re:c.lastEventTime,g=(ye=(le=e.optOut)!==null&&le!==void 0?le:a?.optOut)!==null&&ye!==void 0?ye:c.optOut,T=(_e=a?.sessionId)!==null&&_e!==void 0?_e:c.sessionId,h=(pt=(E=e.userId)!==null&&E!==void 0?E:a?.userId)!==null&&pt!==void 0?pt:c.userId,n.previousSessionDeviceId=(ft=a?.deviceId)!==null&&ft!==void 0?ft:c.deviceId,n.previousSessionUserId=(mt=a?.userId)!==null&&mt!==void 0?mt:c.userId,_={ipAddress:(gt=(vt=e.trackingOptions)===null||vt===void 0?void 0:vt.ipAddress)!==null&&gt!==void 0?gt:!0,language:(yt=(ht=e.trackingOptions)===null||ht===void 0?void 0:ht.language)!==null&&yt!==void 0?yt:!0,platform:(Et=(_t=e.trackingOptions)===null||_t===void 0?void 0:_t.platform)!==null&&Et!==void 0?Et:!0},U=a?.pageCounter,[2,new oi(t,e.appVersion,u,i,e.defaultTracking,d,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,r,e.ingestionMetadata,e.instanceName,m,y,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,g,e.partnerId,e.plan,e.serverUrl,e.serverZone,T,e.sessionTimeout,e.storageProvider,_,e.transport,e.useBatch,h,U)]}})})},si=function(t,e){switch(t===void 0&&(t=Pe),e===void 0&&(e={}),t){case"localStorage":return new tn;case"sessionStorage":return new nr;case"none":return new ze;case"cookie":default:return new Le(v(v({},e),{expirationDays:e.expiration}))}},an=function(t){return t==="xhr"?new rr:t==="beacon"?new ir:new Gt},ai=function(t){return p(void 0,void 0,void 0,function(){var e,n,r,i,o,o,s,u,c,a;return f(this,function(l){switch(l.label){case 0:return[4,new Le().isEnabled()];case 1:if(!l.sent()||!t&&typeof location>"u")return[2,""];for(e=t??location.hostname,n=e.split("."),r=[],i="AMP_TLDTEST",o=n.length-2;o>=0;--o)r.push(n.slice(o).join("."));o=0,l.label=2;case 2:return o<r.length?(s=r[o],u={domain:"."+s},c=new Le(u),[4,c.set(i,1)]):[3,7];case 3:return l.sent(),[4,c.get(i)];case 4:return a=l.sent(),a?[4,c.remove(i)]:[3,6];case 5:return l.sent(),[2,"."+s];case 6:return o++,[3,2];case 7:return[2,""]}})})};var gr=function(t,e,n){return e===void 0&&(e=""),n===void 0&&(n=10),[de,e,t.substring(0,n)].filter(Boolean).join("_")},vr=function(t){var e=t.split(".");return e.length<=2?t:e.slice(e.length-2,e.length).join(".")},ui=function(t){return Object.values(t).every(function(e){return!e})},hr=function(t,e,n,r){r===void 0&&(r=!0);var i=t.referrer,o=t.referring_domain,s=Te(t,["referrer","referring_domain"]),u=e||{},c=u.referrer,a=u.referring_domain,l=Te(u,["referrer","referring_domain"]);if(ci(n.excludeReferrers,t.referring_domain)||!r&&ui(t)&&e)return!1;var d=JSON.stringify(s)!==JSON.stringify(l),m=vr(o||"")!==vr(a||"");return!e||d||m},ci=function(t,e){return t===void 0&&(t=[]),e===void 0&&(e=""),t.some(function(n){return n instanceof RegExp?n.test(e):n===e})},yr=function(t,e){var n=v(v({},fe),t),r=Object.entries(n).reduce(function(i,o){var s,u=L(o,2),c=u[0],a=u[1];return i.setOnce("initial_".concat(c),(s=a??e.initialEmptyValue)!==null&&s!==void 0?s:"EMPTY"),a?i.set(c,a):i.unset(c)},new G);return Ie(r)},_r=function(t){var e=t;return e?(e.startsWith(".")&&(e=e.substring(1)),[new RegExp("".concat(e.replace(".","\\\\."),"$"))]):[]};var un=function(t){var e=this;t===void 0&&(t={});var n={name:"@amplitude/plugin-web-attribution-browser",type:"before",setup:function(r,i){var o;return p(this,void 0,void 0,function(){var s,u,c,a,l,d,m,y;return f(this,function(g){switch(g.label){case 0:return s=v({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:_r((o=r.cookieOptions)===null||o===void 0?void 0:o.domain)},t),r.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser."),u=r.cookieStorage,c=gr(r.apiKey,"MKTG"),[4,Promise.all([new Se().parse(),u.get(c)])];case 1:return a=L.apply(void 0,[g.sent(),2]),l=a[0],d=a[1],m=xe(r.sessionTimeout,r.lastEventTime),hr(l,d,s,m)&&(s.resetSessionOnNewCampaign&&(i.setSessionId(Date.now()),r.loggerProvider.log("Created a new session for new campaign.")),r.loggerProvider.log("Tracking attribution."),y=yr(l,s),i.track(y),u.set(c,l)),[2]}})})},execute:function(r){return p(e,void 0,void 0,function(){return f(this,function(i){return[2,r]})})}};return n};var Er=function(t){var e={};for(var n in t){var r=t[n];r&&(e[n]=r)}return e};var cn=function(t){t===void 0&&(t={});var e,n=N(),r=void 0,i,o,s=function(){return p(void 0,void 0,void 0,function(){var m,y,g;return f(this,function(T){switch(T.label){case 0:return o.pageCounter=o.pageCounter?o.pageCounter+1:1,y={event_type:(g=t.eventType)!==null&&g!==void 0?g:"[Amplitude] Page Viewed"},m=[{}],[4,li()];case 1:return[2,(y.event_properties=v.apply(void 0,[v.apply(void 0,m.concat([T.sent()])),{"[Amplitude] Page Domain":typeof location<"u"&&location.hostname||"","[Amplitude] Page Location":typeof location<"u"&&location.href||"","[Amplitude] Page Path":typeof location<"u"&&location.pathname||"","[Amplitude] Page Title":typeof document<"u"&&document.title||"","[Amplitude] Page URL":typeof location<"u"&&location.href.split("?")[0]||"","[Amplitude] Page Counter":o.pageCounter}]),y)]}})})},u=function(){return typeof t.trackOn>"u"||typeof t.trackOn=="function"&&t.trackOn()},c=typeof location<"u"?location.href:null,a=function(){return p(void 0,void 0,void 0,function(){var m,y,g,T,h;return f(this,function(_){switch(_.label){case 0:return m=location.href,y=pi(t.trackHistoryChanges,m,c||"")&&u(),c=m,y?(r?.log("Tracking page view event"),e!=null?[3,1]:(g=void 0,[3,3])):[3,4];case 1:return h=(T=e).track,[4,s()];case 2:g=h.apply(T,[_.sent()]),_.label=3;case 3:_.label=4;case 4:return[2]}})})},l=function(){a()},d={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(m,y){return p(void 0,void 0,void 0,function(){var g,T;return f(this,function(h){switch(h.label){case 0:return e=y,o=m,r=m.loggerProvider,r.log("Installing @amplitude/plugin-page-view-tracking-browser"),n&&(n.addEventListener("popstate",l),i=n.history.pushState,n.history.pushState=new Proxy(n.history.pushState,{apply:function(_,U,I){var k=L(I,3),F=k[0],b=k[1],S=k[2];_.apply(U,[F,b,S]),a()}})),u()?(r.log("Tracking page view event"),T=(g=e).track,[4,s()]):[3,2];case 1:T.apply(g,[h.sent()]),h.label=2;case 2:return[2]}})})},execute:function(m){return p(void 0,void 0,void 0,function(){var y;return f(this,function(g){switch(g.label){case 0:return t.trackOn==="attribution"&&di(m)?(r?.log("Enriching campaign event to page view event with campaign parameters"),[4,s()]):[3,2];case 1:y=g.sent(),m.event_type=y.event_type,m.event_properties=v(v({},m.event_properties),y.event_properties),g.label=2;case 2:return[2,m]}})})},teardown:function(){return p(void 0,void 0,void 0,function(){return f(this,function(m){return n&&(n.removeEventListener("popstate",l),i&&(n.history.pushState=i)),[2]})})}};return d},li=function(){return p(void 0,void 0,void 0,function(){var t;return f(this,function(e){switch(e.label){case 0:return t=Er,[4,new Se().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})},di=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties,n=e[w.SET]||{},r=e[w.UNSET]||{},i=q(q([],L(Object.keys(n)),!1),L(Object.keys(r)),!1);return Object.keys(fe).every(function(o){return i.includes(o)})}return!1},pi=function(t,e,n){switch(t){case"pathOnly":return e.split("?")[0]!==n.split("?")[0];default:return e!==n}};var Tr=function(){var t,e=[],n=function(a,l,d){a.addEventListener(l,d),e.push({element:a,type:l,handler:d})},r=function(){e.forEach(function(a){var l=a.element,d=a.type,m=a.handler;l?.removeEventListener(d,m)}),e=[]},i="@amplitude/plugin-form-interaction-tracking-browser",o="enrichment",s=function(a,l){return p(void 0,void 0,void 0,function(){var d,m;return f(this,function(y){return l?typeof document>"u"?[2]:(d=function(g){var T=!1;n(g,"change",function(){var h;T||l.track(rn,(h={},h[st]=he(g.id),h[at]=he(g.name),h[ut]=g.action,h)),T=!0}),n(g,"submit",function(){var h,_;T||l.track(rn,(h={},h[st]=he(g.id),h[at]=he(g.name),h[ut]=g.action,h)),l.track(sr,(_={},_[st]=he(g.id),_[at]=he(g.name),_[ut]=g.action,_)),T=!1})},m=Array.from(document.getElementsByTagName("form")),m.forEach(d),typeof MutationObserver<"u"&&(t=new MutationObserver(function(g){g.forEach(function(T){T.addedNodes.forEach(function(h){h.nodeName==="FORM"&&d(h),"querySelectorAll"in h&&typeof h.querySelectorAll=="function"&&Array.from(h.querySelectorAll("form")).map(d)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(a.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked."),[2])})})},u=function(a){return p(void 0,void 0,void 0,function(){return f(this,function(l){return[2,a]})})},c=function(){return p(void 0,void 0,void 0,function(){return f(this,function(a){return t?.disconnect(),r(),[2]})})};return{name:i,type:o,setup:s,execute:u,teardown:c}},he=function(t){if(typeof t=="string")return t};var Ir=function(){var t,e=[],n=function(a,l,d){a.addEventListener(l,d),e.push({element:a,type:l,handler:d})},r=function(){e.forEach(function(a){var l=a.element,d=a.type,m=a.handler;l?.removeEventListener(d,m)}),e=[]},i="@amplitude/plugin-file-download-tracking-browser",o="enrichment",s=function(a,l){return p(void 0,void 0,void 0,function(){var d,m,y;return f(this,function(g){return l?typeof document>"u"?[2]:(d=function(T){var h;try{h=new URL(T.href,window.location.href)}catch{return}var _=m.exec(h.href),U=_?.[1];U&&n(T,"click",function(){var I;U&&l.track(ar,(I={},I[ur]=U,I[cr]=h.pathname,I[lr]=T.id,I[dr]=T.text,I[pr]=T.href,I))})},m=/\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/,y=Array.from(document.getElementsByTagName("a")),y.forEach(d),typeof MutationObserver<"u"&&(t=new MutationObserver(function(T){T.forEach(function(h){h.addedNodes.forEach(function(_){_.nodeName==="A"&&d(_),"querySelectorAll"in _&&typeof _.querySelectorAll=="function"&&Array.from(_.querySelectorAll("a")).map(d)})})}),t.observe(document.body,{subtree:!0,childList:!0})),[2]):(a.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked."),[2])})})},u=function(a){return p(void 0,void 0,void 0,function(){return f(this,function(l){return[2,a]})})},c=function(){return p(void 0,void 0,void 0,function(){return f(this,function(a){return t?.disconnect(),r(),[2]})})};return{name:i,type:o,setup:s,execute:u,teardown:c}};var br=!1,Sr=function(t){if(!(br||t.defaultTracking!==void 0)){var e=\`\\\`options.defaultTracking\\\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \\\`options.defaultTracking\\\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:

amplitude.init(<YOUR_API_KEY>, {
  defaultTracking: true,
});

Visit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.\`;t.loggerProvider.warn(e),br=!0}};var xr=function(){var t="@amplitude/plugin-network-checker-browser",e="before",n=N(),r=[],i=function(c,a){n&&(n.addEventListener(c,a),r.push({type:c,handler:a}))},o=function(){r.forEach(function(c){var a=c.type,l=c.handler;n&&n.removeEventListener(a,l)}),r=[]},s=function(c,a){return p(void 0,void 0,void 0,function(){return f(this,function(l){return c.offline=!navigator.onLine,i("online",function(){c.loggerProvider.debug("Network connectivity changed to online."),c.offline=!1,setTimeout(function(){a.flush()},c.flushIntervalMillis)}),i("offline",function(){c.loggerProvider.debug("Network connectivity changed to offline."),c.offline=!0}),[2]})})},u=function(){return p(void 0,void 0,void 0,function(){return f(this,function(c){return o(),[2]})})};return{name:t,type:e,setup:s,teardown:u}};var Lr=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(n,r,i){n===void 0&&(n="");var o,s;return arguments.length>2?(o=r,s=i):typeof r=="string"?(o=r,s=void 0):(o=r?.userId,s=r),H(this._init(v(v({},s),{userId:o,apiKey:n})))},e.prototype._init=function(n){var r,i;return p(this,void 0,void 0,function(){var o,s,u,c,a=this;return f(this,function(l){switch(l.label){case 0:return this.initializing?[2]:(this.initializing=!0,[4,mr(n.apiKey,n,this)]);case 1:return o=l.sent(),[4,t.prototype._init.call(this,o)];case 2:return l.sent(),this.setSessionId((i=(r=n.sessionId)!==null&&r!==void 0?r:this.config.sessionId)!==null&&i!==void 0?i:Date.now()),s=oe(n.instanceName),s.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),this.config.offline===Ke?[3,4]:[4,this.add(xr()).promise];case 3:l.sent(),l.label=4;case 4:return[4,this.add(new At).promise];case 5:return l.sent(),[4,this.add(new tr).promise];case 6:return l.sent(),[4,this.add(new Yt).promise];case 7:return l.sent(),Sr(this.config),Xt(this.config.defaultTracking)?[4,this.add(Ir()).promise]:[3,9];case 8:l.sent(),l.label=9;case 9:return zt(this.config.defaultTracking)?[4,this.add(Tr()).promise]:[3,11];case 10:l.sent(),l.label=11;case 11:return et(this.config.defaultTracking)?(u=en(this.config),c=un(u),[4,this.add(c).promise]):[3,13];case 12:l.sent(),l.label=13;case 13:return tt(this.config.defaultTracking)?[4,this.add(cn(Jt(this.config))).promise]:[3,15];case 14:l.sent(),l.label=15;case 15:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 16:return l.sent(),s.eventBridge.setEventReceiver(function(d){a.track(d.eventType,d.eventProperties)}),[2]}})})},e.prototype.getUserId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.userId},e.prototype.setUserId=function(n){if(!this.config){this.q.push(this.setUserId.bind(this,n));return}(n!==this.config.userId||n===void 0)&&(this.config.userId=n,Wt(n,this.config.instanceName))},e.prototype.getDeviceId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.deviceId},e.prototype.setDeviceId=function(n){if(!this.config){this.q.push(this.setDeviceId.bind(this,n));return}this.config.deviceId=n,$t(n,this.config.instanceName)},e.prototype.reset=function(){this.setDeviceId(X()),this.setUserId(void 0)},e.prototype.getSessionId=function(){var n;return(n=this.config)===null||n===void 0?void 0:n.sessionId},e.prototype.setSessionId=function(n){var r;if(!this.config){this.q.push(this.setSessionId.bind(this,n));return}if(n!==this.config.sessionId){var i=this.getSessionId(),o=this.config.lastEventTime,s=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1;this.config.sessionId=n,this.config.lastEventTime=void 0,this.config.pageCounter=0,Zt(this.config.defaultTracking)&&(i&&o&&this.track(sn,void 0,{device_id:this.previousSessionDeviceId,event_id:++s,session_id:i,time:o+1,user_id:this.previousSessionUserId}),this.config.lastEventTime=this.config.sessionId,this.track(on,void 0,{event_id:++s,session_id:this.config.sessionId,time:this.config.lastEventTime})),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId}},e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},e.prototype.setTransport=function(n){if(!this.config){this.q.push(this.setTransport.bind(this,n));return}this.config.transportProvider=an(n)},e.prototype.identify=function(n,r){if(rt(n)){var i=n._q;n._q=[],n=nt(new G,i)}return r?.user_id&&this.setUserId(r.user_id),r?.device_id&&this.setDeviceId(r.device_id),t.prototype.identify.call(this,n,r)},e.prototype.groupIdentify=function(n,r,i,o){if(rt(i)){var s=i._q;i._q=[],i=nt(new G,s)}return t.prototype.groupIdentify.call(this,n,r,i,o)},e.prototype.revenue=function(n,r){if(rt(n)){var i=n._q;n._q=[],n=nt(new $e,i)}return t.prototype.revenue.call(this,n,r)},e.prototype.process=function(n){return p(this,void 0,void 0,function(){var r,i;return f(this,function(o){return r=Date.now(),i=xe(this.config.sessionTimeout,this.config.lastEventTime),n.event_type!==on&&n.event_type!==sn&&(!n.session_id||n.session_id===this.getSessionId())&&i&&this.setSessionId(r),[2,t.prototype.process.call(this,n)]})})},e}(Pt);var fi=function(){var t=new Lr;return{init:R(t.init.bind(t),"init",C(t),P(t,["config"])),add:R(t.add.bind(t),"add",C(t),P(t,["config.apiKey","timeline.plugins"])),remove:R(t.remove.bind(t),"remove",C(t),P(t,["config.apiKey","timeline.plugins"])),track:R(t.track.bind(t),"track",C(t),P(t,["config.apiKey","timeline.queue.length"])),logEvent:R(t.logEvent.bind(t),"logEvent",C(t),P(t,["config.apiKey","timeline.queue.length"])),identify:R(t.identify.bind(t),"identify",C(t),P(t,["config.apiKey","timeline.queue.length"])),groupIdentify:R(t.groupIdentify.bind(t),"groupIdentify",C(t),P(t,["config.apiKey","timeline.queue.length"])),setGroup:R(t.setGroup.bind(t),"setGroup",C(t),P(t,["config.apiKey","timeline.queue.length"])),revenue:R(t.revenue.bind(t),"revenue",C(t),P(t,["config.apiKey","timeline.queue.length"])),flush:R(t.flush.bind(t),"flush",C(t),P(t,["config.apiKey","timeline.queue.length"])),getUserId:R(t.getUserId.bind(t),"getUserId",C(t),P(t,["config","config.userId"])),setUserId:R(t.setUserId.bind(t),"setUserId",C(t),P(t,["config","config.userId"])),getDeviceId:R(t.getDeviceId.bind(t),"getDeviceId",C(t),P(t,["config","config.deviceId"])),setDeviceId:R(t.setDeviceId.bind(t),"setDeviceId",C(t),P(t,["config","config.deviceId"])),reset:R(t.reset.bind(t),"reset",C(t),P(t,["config","config.userId","config.deviceId"])),getSessionId:R(t.getSessionId.bind(t),"getSessionId",C(t),P(t,["config"])),setSessionId:R(t.setSessionId.bind(t),"setSessionId",C(t),P(t,["config"])),extendSession:R(t.extendSession.bind(t),"extendSession",C(t),P(t,["config"])),setOptOut:R(t.setOptOut.bind(t),"setOptOut",C(t),P(t,["config"])),setTransport:R(t.setTransport.bind(t),"setTransport",C(t),P(t,["config"]))}},D=fi();var Hu=D.add,qu=D.extendSession,ju=D.flush,Ku=D.getDeviceId,Gu=D.getSessionId,Wu=D.getUserId,$u=D.groupIdentify,wr=D.identify,Cr=D.init,Yu=D.logEvent,Qu=D.remove,Xu=D.reset,zu=D.revenue,Zu=D.setDeviceId,Ju=D.setGroup,ec=D.setOptOut,tc=D.setSessionId,nc=D.setTransport,rc=D.setUserId,se=D.track;var K=t=>{window.dispatchEvent(new CustomEvent("khulnasoftdevtools",{detail:{eventName:t}}))};async function mi(){return Cn()}var Pr=async()=>{let t=new URL(window.location.href),e=t.hash,n=\`#\${hn}=\`,r=Math.random().toString(36).substring(2,15),i=await mi();Cr("f1d2eb79aecd01b28c8a371ea5d1751c",i?.userId||r,{logLevel:Ge.LogLevel.None,serverUrl:En,flushIntervalMillis:500});let o=new G;wr(o,{device_id:i?.deviceId,user_id:i?.userId||r});let s="anonymous";e.startsWith(n)&&(s=e.slice(n.length),s&&(vi(s),t.hash="",window.history.replaceState({},"",t.href))),K("init")};var vi=t=>{if(typeof t=="string"&&t.length>0){let e=De();Re({...e,khulnasoftUserId:t})}},De=()=>{let t=localStorage.getItem(Rr);if(t)try{let e=JSON.parse(t);return(!e.ctas||typeof e.ctas!="object")&&(e=Re({...e,ctas:{}})),e.menuOpenedTs&&(e=Re({...e,ctas:{...e.ctas,menuOpened:e.menuOpenedTs}}),delete e.menuOpenedTs),e}catch(e){console.error(e)}return Re({firstVisitTs:Date.now(),ctas:{},khulnasoftUserId:""})},Re=t=>{try{localStorage.setItem(Rr,JSON.stringify(t))}catch(e){console.error(e)}return t},ln=t=>!!De().ctas[t],dn=t=>{let e=De();return Re({...e,ctas:{...e.ctas,[t]:Date.now()}})},Rr="khulnasoftDevtools";function Dr(t){gi(t),hi(t),yi(t),_i(t)}function gi(t){let e=t.getElementById("input-register");e.addEventListener("change",async n=>{n.stopPropagation();let r=t.getElementById("input-name"),i=t.querySelector(".nav-cmp-input");i.classList.add("input-loading"),i.classList.remove("input-enabled");let o=r.dataset.id,s=r.dataset.prop,u=await Me({cmpId:o,name:s,registerInput:e.checked});K("registryUpdate"),J(u),Ae(t,o,s),ae(t,o),i.classList.remove("input-loading")})}function hi(t){t.getElementById("input-open-source").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();let r=n.target,i=A.components.find(o=>o.id===r?.dataset.id);i&&ve({filePath:i.filePath})})}function yi(t){let e=t.getElementById("input-name"),n=e.closest(".ui-text-input"),r="",i;e.addEventListener("focus",o=>{clearTimeout(i),n.classList.remove("saved"),o.stopPropagation(),r=e.value}),e.addEventListener("blur",async o=>{if(o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),e.value!==r){if(e.value.trim().length<3){e.value=r;return}n.classList.add("saved"),i=setTimeout(()=>{n.classList.remove("saved")},3e3);let s=e.dataset.id,u=e.dataset.prop,c=await Me({cmpId:s,name:u,friendlyName:e.value});K("registryUpdate"),J(c),z(t),ae(t,s),Ae(t,s,u)}}),e.addEventListener("keyup",o=>{o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),o.key==="Escape"?(e.value=r,e.blur()):o.key==="Enter"&&e.blur()})}function _i(t){let e=t.getElementById("input-type");e.addEventListener("change",async n=>{n.stopPropagation();let r=e.dataset.id,i=e.dataset.prop,o=await Me({cmpId:r,name:i,type:e.value});K("registryUpdate"),J(o),z(t),ae(t,r),Ae(t,r,i)})}function Ae(t,e,n){let r=A.components.find(m=>m.id===e);if(!r)return null;let i=r.inputs.find(m=>m.name===n);if(!i)return null;let o=t.querySelector(".nav-cmp-input");i.isRegistered?o.classList.add("input-enabled"):o.classList.remove("input-enabled");let s=t.getElementById("input-register");s.checked=!!i.isRegistered;let u=t.getElementById("cmp-input-title");u.innerText=r.name+": "+(i.friendlyName||i.name);let c=t.getElementById("input-open-source");c.innerText=\`Open \${r.displayFilePath}\`,c.dataset.id=r.id;let a=t.getElementById("cmp-prop-name");a.innerText=i.name;let l=t.getElementById("cmp-prop-type");l.innerText=qe(i.type);let d=t.getElementById("input-name");return d.dataset.id=r.id,d.dataset.prop=i.name,d.value=i.friendlyName||i.name,Ei(t,r,i),i}function Ei(t,e,n){let r=t.getElementById("input-type");r.dataset.id=e.id,r.dataset.prop=n.name,r.innerHTML="";let i=n.type,o=Ne.includes(i),s=Be.includes(i),u=Fe.includes(i),c=Ve.includes(i),a=He.includes(i);Pn.forEach(l=>{let d=document.createElement("option");d.value=l.value,d.innerText=l.text,d.disabled=Ne.includes(l.value)&&!o||Be.includes(l.value)&&!s||Fe.includes(l.value)&&!u||Ve.includes(l.value)&&!c||He.includes(l.value)&&!a,r.appendChild(d)}),r.value=i}function Ar(t){Ti(t),Ii(t),bi(t),xi(t),Si(t)}function Ti(t){t.getElementById("cmp-register").addEventListener("change",n=>{n.stopPropagation(),ct(t,"update")})}async function ct(t,e){let n=t.querySelector(".nav-cmp-detail"),r=t.getElementById("cmp-error"),i=t.getElementById("cmp-register"),o=i.closest(".ui-switch");n.classList.remove("cmp-enabled"),i.checked&&n.classList.add("cmp-loading");try{let s=i.dataset.id,u;e==="load"?u=await bn({cmpId:s}):i.checked?(u=await Sn({cmpId:s}),K("registryUpdate"),se("interaction",{type:"click",name:"register component",detail:s})):(u=await Ln({cmpId:s}),K("registryUpdate"),se("interaction",{type:"click",name:"unregister component",detail:s})),J(u),z(t);let c=ae(t,s);e==="update"&&c&&(i.checked?(n.classList.add("cmp-enabled"),Tt(t,\`<strong>\${c.name}</strong> is now registered in <strong>\${A.registryDisplayPath}</strong> and available for use in the Khulnasoft Visual Editor\`)):Tt(t,\`<strong>\${c.name}</strong> has been unregistered from <strong>\${A.registryDisplayPath}</strong> and removed from the Khulnasoft Visual Editor\`))}catch(s){console.error(s),r.innerHTML=\`<p class="error">Error loading components</p><p class="error">\${s.message||s}</p>\`,o.style.display="none"}n.classList.remove("cmp-loading")}function Ii(t){let e=t.getElementById("cmp-name"),n=e.closest(".ui-text-input"),r="",i;e.addEventListener("focus",o=>{clearTimeout(i),n.classList.remove("saved"),o.stopPropagation(),r=e.value}),e.addEventListener("blur",async o=>{if(o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),e.value!==r){if(e.value.trim().length<3){e.value=r;return}n.classList.add("saved"),i=setTimeout(()=>{n.classList.remove("saved")},3e3);let s=e.dataset.id,u=await xn({cmpId:s,name:e.value});K("registryUpdate"),J(u),z(t),ae(t,s)}}),e.addEventListener("keyup",o=>{o.stopPropagation(),clearTimeout(i),n.classList.remove("saved"),o.key==="Escape"?(e.value=r,e.blur()):o.key==="Enter"&&e.blur()})}function ae(t,e){let n=A.components.find(l=>l.id===e);if(!n)return null;let r=t.getElementById("cmp-register"),i=t.getElementById("cmp-error"),o=r.closest(".ui-switch");o.style.display="",i.innerHTML="",r.dataset.id=n.id,r.checked=!!n.isRegistered;let s=t.querySelector(".nav-cmp-detail");n.isRegistered?s.classList.add("cmp-enabled"):s.classList.remove("cmp-enabled");let u=t.getElementById("cmp-name");u.dataset.id=n.id,u.value=n.name;let c=t.getElementById("cmp-open-source");c.innerText=\`Open \${n.displayFilePath}\`,c.dataset.id=n.id;let a=t.getElementById("cmp-detail-title");return a.innerText=\`\${n.name} Component\`,Li(t,n),n}function bi(t){t.getElementById("cmp-open-source").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();let r=n.target,i=A.components.find(o=>o.id===r?.dataset.id);i&&(ve({filePath:i.filePath}),se("interaction",{type:"click",name:"open component source file",detail:i.filePath}))})}function Si(t){t.getElementById("btn-inputs-reload").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),ct(t,"load")})}function xi(t){t.getElementById("cmp-detail-inputs").addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();let i=n.target?.closest("button"),o=i?.dataset.id,s=i?.dataset.propName;Ae(t,o,s)&&W(t,"nav-cmp-input")})}function Li(t,e){let n=t.getElementById("cmp-detail-inputs"),r=e.inputs.filter(i=>!i.hideFromUI);r.length>0?(n.innerHTML="",r.forEach(i=>{n.appendChild(wi(e,i))})):n.innerHTML=\`<p class="cmp-inputs-empty">\${e.name} component does not have any props</p>\`}function wi(t,e){let n=document.createElement("button");n.dataset.id=t.id,n.dataset.propName=e.name,n.className="cmp-input-item nav-list-item",e.isRegistered||n.classList.add("cmp-input-item-unregistered");let r=document.createElement("span"),i=qe(e.type);r.className=\`nav-list-item-icon input-icon input-icon-\${i}\`,n.appendChild(r);let o=document.createElement("span");o.innerText=e.friendlyName||e.name,n.appendChild(o);let s=document.createElement("span");return s.className="nav-list-item-note",s.innerText=e.type,n.appendChild(s),n}function Ur(t){t.getElementById("open-khulnasoft-registry").addEventListener("click",o=>{o.preventDefault(),o.stopPropagation(),ve({filePath:A.registryPath,line:1,column:1})}),t.getElementById("cmp-list").addEventListener("click",o=>{o.preventDefault(),o.stopPropagation();let u=o.target?.dataset.id,c=A.components.find(a=>a.id===u);if(c){let a=t.querySelector(".nav-cmp-detail .section-content");a.scrollTop=0,ae(t,c.id),W(t,"nav-cmp-detail"),c.isRegistered&&ct(t,"load")}});let r=t.getElementById("component-search"),i=t.getElementById("clear-search");r?.addEventListener("input",o=>{let s=o.target.value.toLowerCase(),u=s?A.components.filter(c=>c.name.toLowerCase().includes(s)||c.displayFilePath?.toLowerCase().includes(s)):A.components;z(t,u),i.style.display=s?"flex":"none"}),i?.addEventListener("click",()=>{r.value="",z(t),i.style.display="none"}),r?.addEventListener("keydown",o=>{o.key==="Escape"&&(r.value="",z(t),i.style.display="none")})}function Mr(t){let e=In();Ci(t,e)}async function Ci(t,e){let n=t.getElementById("cmp-list"),r=t.querySelector(".nav-cmp-list");r.classList.add("nav-loading");let i=t.getElementById("open-khulnasoft-registry");try{let o=await e;J(o),z(t),A.registryDisplayPath?i.innerText="Open "+o.registryDisplayPath:i.innerText=""}catch(o){n.innerHTML=\`<p class="error">Error loading components</p><p class="error">\${o.message||o}</p>\`,console.error(o)}r.classList.remove("nav-loading")}function z(t,e){let n=t.getElementById("cmp-list");n.innerHTML="";let r=e||A.components,i=r.filter(s=>s.isRegistered),o=r.filter(s=>!s.isRegistered);if(e&&e.length===0){let s=document.createElement("p");s.className="no-results",s.innerText="No matching components found",n.appendChild(s);return}kr(n,"Registered Components",i),kr(n,"Unregistered Components",o)}function kr(t,e,n){if(n.length>0){let r=document.createElement("h4");r.innerText=e,t.appendChild(r),n.forEach(i=>{t.appendChild(Pi(i))})}}function Pi(t){let e=document.getElementById("component-search")?.value.toLowerCase(),n=document.createElement("button");n.dataset.id=t.id,n.className="cmp-item nav-list-item",t.isRegistered&&n.classList.add("registered");let r=document.createElement("span");r.className="nav-list-item-icon",t.image&&(r.style.backgroundImage=\`url(\${t.image})\`),n.appendChild(r);let i=document.createElement("span");i.className="nav-list-item-name",i.innerHTML=Or(t.name,e),n.appendChild(i);let o=document.createElement("span");return o.className="nav-list-item-note",o.innerHTML=Or(t.displayFilePath||"",e),n.appendChild(o),n}function Or(t,e){if(!e)return t;let n=new RegExp(\`(\${e})\`,"gi");return t.replace(n,'<span class="search-highlight">$1</span>')}var Nr=t=>{t.querySelector(".menu-toggle").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),ue(t,!0)}),t.getElementById("close").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),ue(t,!1)}),t.getElementById("hit").addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),ue(t,!1)}),pn(t),t.addEventListener("click",e=>e.stopPropagation()),Ri(t)},ue=(t,e)=>{e?(document.body.classList.add("khulnasoft-no-scroll"),t.host.classList.add("show-khulnasoft-menu"),K("menuOpen"),dn("menuOpened"),se("interaction",{type:"click",name:"open dev-tools menu"})):(document.body.classList.remove("khulnasoft-no-scroll"),t.host.classList.remove("show-khulnasoft-menu"),K("menuClose"),setTimeout(()=>{W(t,"nav-home")},300)),wn(e)},Ri=t=>{if(!ln("menuOpened")){Di(t);return}let e=De();if(!((Date.now()-e.firstVisitTs)/1e3/60<10)&&!ln("feedback")){dn("feedback"),Ai(t);return}},Di=t=>{let e=document.createElement("a");e.classList.add("menu-toggle-tooltip"),e.href="#open-dev-tools",e.innerHTML=\`
    <div class="menu-toggle-tooltip-content">
      <h3>Open Khulnasoft Devtools</h3>
      <p>Start registering your components</p>
    </div>
  \`,t.appendChild(e),setTimeout(()=>{e.classList.add("menu-toggle-tooltip-show"),e.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),e.classList.remove("menu-toggle-tooltip-show"),ue(t,!0)})},1e3)},Ai=t=>{let e=document.createElement("a");e.classList.add("menu-toggle-tooltip"),e.href="https://docs.google.com/forms/d/e/1FAIpQLSdqZcJpRtm_Ia5DTHP6SDY9Xa6LID3KiTjRWkjMzWyJRUtSHw/viewform",e.target="_blank",e.innerHTML=\`
    <div class="menu-toggle-tooltip-content">
      <h3>How's Devtools working for you?</h3>
      <p>We'd love your feedback!</p>
    </div>
  \`,t.appendChild(e),setTimeout(()=>{e.classList.add("menu-toggle-tooltip-show"),e.addEventListener("click",()=>{e.classList.remove("menu-toggle-tooltip-show")})},1e3)};function Br(t){t.getElementById("go-to-khulnasoft").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),ue(t,!1),window.open(mn(),"khulnasoft")}),t.getElementById("components-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation();let u=t.querySelector(".nav-cmp-list .section-content");u.scrollTop=0,W(t,"nav-cmp-list"),Mr(t)}),t.getElementById("settings-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),W(t,"nav-settings")}),t.getElementById("add-page-link").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),ue(t,!1),window.open(Ee(),"khulnasoft")}),t.getElementById("import-from-figma").addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),ue(t,!1),window.open("https://www.figma.com/community/plugin/747985167520967365/khulnasoft-io-ai-powered-figma-to-code-react-vue-tailwind-more")})}function Fr(t){let e=t.getElementById("enable-edit");e.addEventListener("change",n=>{n.stopPropagation(),bt(e.checked)}),e.checked=ke(),bt(e.checked)}var lt=class extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.attachShadow({mode:"open"});e.innerHTML=\`<style>*,*:before,*:after{box-sizing:border-box}:host{--background-color: rgba(40, 40, 40, 1);--primary-color: rgba(72, 161, 255, 1);--primary-color-subdued: rgb(72, 161, 255, .6);--primary-color-highlight: rgb(126, 188, 255);--primary-contrast-color: white;--edit-color: #1d74e2;--edit-color-highlight: #1c6bd1;--edit-color-alpha: rgb(72, 161, 255, .15);--error-color: #ff2b55;--text-color: white;--text-color-highlight: white;--border-color: #454545;--button-background-color-hover: rgba(255, 255, 255, .1);--menu-width: 320px;--transition-time: .15s;--font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-family:var(--font-family);line-height:1.6}button{cursor:pointer;color:var(--text-color);-webkit-tap-highlight-color:transparent}input,select,button{font-family:var(--font-family)}.menu-toggle{position:absolute;right:0;bottom:0;pointer-events:auto;padding:8px;background:transparent;border:none;appearance:none}.menu-toggle div{position:relative;width:64px;height:64px;pointer-events:none;border-radius:50%;background:#000;border:1px solid white;box-shadow:#00000054 0 0 8px}.menu-toggle:hover div{background-color:var(--background-color);border:1px solid rgb(220,220,220)}.menu-toggle svg{position:absolute;top:15px;left:15px;width:33px;height:32px}div.highlight-bg{position:absolute;top:-1px;left:-1px;background-color:#1a1a1a;pointer-events:none;transition:all .4s ease-out;opacity:0}.menu-toggle-highlight-no-transition div.highlight-bg{transition:none}.menu-toggle-highlight div.highlight-bg{opacity:1}.menu-toggle-tooltip{position:absolute;bottom:0;right:0;width:382px;height:72px;padding:0;text-align:left;appearance:none;background-color:transparent;border:none;pointer-events:none;transform:translate3d(320px,0,0);opacity:0;transition:all .15s ease-in-out;color:#fff}.menu-toggle-tooltip.menu-toggle-tooltip-show{pointer-events:auto;opacity:1;transform:translateZ(0)}.menu-toggle-tooltip-content{position:absolute;inset:0 95px 10px 0;padding:8px 12px;background-color:var(--primary-color);box-shadow:#00000054 0 0 20px;border-radius:2px}.menu-toggle-tooltip-content:before{content:"";position:absolute;bottom:15px;right:-6px;width:30px;height:30px;background-color:var(--primary-color);transform:rotate(45deg)}.menu-toggle-tooltip:hover .menu-toggle-tooltip-content,.menu-toggle-tooltip:hover .menu-toggle-tooltip-content:before{background-color:var(--primary-color-highlight)}.menu-toggle-tooltip-content h3{margin:0;font-size:16px}.menu-toggle-tooltip-content p{margin:0;font-size:12px}section{position:absolute;display:grid;grid-template-rows:64px auto 64px;top:0;left:0;width:100%;height:100%;padding:0;pointer-events:none}.section-content{margin:0;padding:0 0 10px;font-weight:300;transform:translate3d(105%,0,0);transition:transform var(--transition-time) ease-in-out;overflow-y:auto}.section-content .error{color:var(--error-color);font-weight:700}section a{text-decoration:none;color:var(--text-color)}section h3,section p{margin-left:16px;margin-right:16px}.info{font-size:12px}ul.list{list-style:none;padding:0;margin:0}ul.list li{display:block;padding:0;margin:0}ul.list a,ul.list button{display:grid;grid-template-columns:24px auto;grid-gap:16px;padding:12px;margin:8px 0;border:none;background:transparent;appearance:none;width:100%;font-weight:300;text-align:left;text-decoration:none;color:var(--text-color)}ul.list a:hover,ul.list button:hover{text-decoration:none;color:var(--text-color);background-color:var(--button-background-color-hover)}ul.list a span,ul.list button span{display:block;font-size:16px;font-weight:500;line-height:1.5;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}header{position:relative;display:grid;grid-template-columns:44px 1fr;gap:8px;padding-left:8px;border-bottom:1px solid var(--border-color);transition:opacity var(--transition-time) ease-in-out;opacity:0;pointer-events:none}header>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nav-home header>div{margin-right:56px}header h2{margin:7px 0 0;font-size:18px;font-weight:500;line-height:1.5;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p{margin:2px 0 0;font-size:12px;font-weight:300;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p button{display:block;margin:0;padding:0;width:100%;font-size:12px;font-weight:300;text-decoration:none;appearance:none;text-align:left;background-color:transparent;border:none;color:var(--primary-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}header p button:hover{text-decoration:underline;color:var(--primary-color)}.khulnasoft-logo{margin:12px 0 0 8px}#close{display:block;position:absolute;appearance:none;background:transparent;border:none;border-radius:50%;margin:0;padding:0;right:4px;top:8px;width:48px;height:48px;z-index:1;opacity:.7}#close:hover{opacity:1;background-color:var(--button-background-color-hover)}#close svg{position:absolute;top:12px;left:12px;width:24px;height:24px;fill:currentColor;pointer-events:none}.back-button{position:relative;display:block;margin:7px 0 0 -2px;width:48px;height:48px;background:transparent;border:none;appearance:none;border-radius:50%}.back-button:hover{background-color:var(--button-background-color-hover)}.back-button svg{position:absolute;top:12px;left:12px;width:24px;height:24px;fill:currentColor;pointer-events:none}footer{border-top:1px solid var(--border-color);transition:opacity var(--transition-time) ease-in-out;opacity:0;pointer-events:none}section.nav-cmp-list{grid-template-rows:64px auto 120px}footer a{text-decoration:underline;color:var(--primary-color)}footer a:hover{color:var(--primary-color);text-decoration:none}.nav-list{padding:2px 0}.nav-loading{pointer-events:none}.nav-loading-icon{position:absolute;display:inline-block;top:170px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.nav-loading .nav-loading-icon{opacity:.5}.nav-list h4{margin:8px 8px 8px 10px;font-size:14px;font-weight:600}.nav-list .nav-list-item+h4{margin-top:30px}.nav-list-item{display:grid;grid-template-columns:1fr 1fr;gap:8px;position:relative;margin:2px 0;padding:8px 28px 8px 46px;width:100%;font-size:14px;font-weight:300;text-align:left;border:none;background:transparent;appearance:none}.nav-list-item:hover{background-color:var(--button-background-color-hover)}.nav-list-item-icon{position:absolute;top:4px;left:10px;width:24px;height:24px;object-fit:contain;filter:invert(100%);background-size:24px 24px;background-repeat:no-repeat;background-position:center center}.nav-list-item span{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;pointer-events:none}.nav-list-item:after{display:block;position:absolute;content:"";background-image:url('data:image/svg+xml,<svg width="8" height="14" viewBox="0 0 8 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 1L7 7L1 13" stroke="%23F2F2F2" stroke-opacity="0.5" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>');background-repeat:no-repeat;background-position:12px 9px;top:0;right:0;width:32px;height:32px;pointer-events:none}.nav-list-item-note{opacity:0;font-size:12px;padding-top:1px;text-align:right}.nav-list-item:hover .nav-list-item-note{opacity:.5}.ui-select{display:block;margin:8px 0 16px;padding:8px 16px;cursor:pointer}.ui-select h3{margin:0;font-size:14px;font-weight:500}.ui-select p{margin:8px 0;font-size:12px;font-weight:300}.ui-select .select{position:relative;margin:8px 0;border-radius:4px;padding:0;line-height:1.1;overflow:hidden;border:1px solid var(--border-color)}.ui-select select{appearance:none;background-color:transparent;border:none;outline:none;padding:8px 32px 8px 8px;margin:0;width:100%;font-size:14px;cursor:pointer;text-overflow:ellipsis;opacity:.6;color:var(--text-color)}.ui-select .select:after{content:"";top:6px;right:5px;width:24px;height:24px;position:absolute;background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="%23F2F2F2" d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/></svg>');background-repeat:no-repeat;background-position:center;pointer-events:none;opacity:.6}.ui-select .select:hover{border-color:var(--primary-color-subdued)}.ui-text-input .select:focus-within{border-color:var(--primary-color)}.ui-text-input .select:focus-within select{opacity:1}.spinner:after{content:" ";display:block;width:32px;height:32px;margin:0 auto;pointer-events:auto;border-radius:50%;border:3px solid var(--text-color);border-color:var(--text-color) transparent var(--text-color) transparent;animation:spinner .75s linear infinite}@keyframes spinner{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ui-switch{display:grid;grid-template-columns:auto 48px;grid-gap:20px;margin:8px 0 16px;padding:8px 0 8px 16px;cursor:pointer}.ui-switch>*{pointer-events:none}.ui-switch input{display:none;visibility:hidden}.ui-switch .switcher{display:inline-block;border-radius:100px;width:35px;height:14px;background-color:#ccc;position:relative;top:6px;vertical-align:middle;cursor:pointer}.ui-switch input[type=checkbox]:checked+.switcher{background-color:var(--primary-color-subdued)}.ui-switch .switcher:before{content:"";display:block;width:20px;height:20px;background-color:var(--text-color);box-shadow:0 1px 3px #0009;border-radius:50%;position:absolute;top:-3px;left:0;margin-right:0;transition:all .15s}.ui-switch input[type=checkbox]:checked+.switcher:before{left:100%;margin-left:-20px;background-color:var(--primary-color)}.ui-switch h3{margin:0;font-size:14px;font-weight:500}.ui-switch p{margin:4px 0 0;font-size:12px;font-weight:300}.ui-text-input{display:block;margin:8px 0 16px;padding:8px 16px;cursor:pointer}.ui-text-input h3{margin:0;font-size:14px;font-weight:500}.ui-text-input p{margin:8px 0;font-size:12px;font-weight:300}.ui-text-input .input{position:relative;margin:8px 0;border:1px solid var(--border-color);border-radius:4px;background:transparent;padding:2px;overflow:hidden}.ui-text-input input{display:block;width:235px;font-size:14px;border:none;background:transparent;padding:6px;appearance:none;color:var(--text-color);opacity:.6;outline:none}.ui-text-input .input:hover{border-color:var(--primary-color-subdued)}.ui-text-input .input:focus-within{border-color:var(--primary-color)}.ui-text-input .input:focus-within input{opacity:1}.ui-text-input .input:after{content:"";position:absolute;top:5px;right:14px;width:8px;height:17px;border:2px solid rgba(51,181,51,1);border-top:none;border-left:none;transform:rotate(45deg);opacity:0;transition:opacity 80ms ease-in-out;pointer-events:none}.ui-text-input.saved .input:after{opacity:1}.ui-toast{position:fixed;bottom:8px;left:8px;right:8px;padding:6px 12px;font-size:14px;border-radius:4px;transform:translate3d(0,150%,0);opacity:0;transition:all var(--transition-time) ease-in-out;background-color:var(--primary-color-subdued);color:var(--text-color);pointer-events:none}.ui-toast.ui-toast-show{transform:translateZ(0);opacity:1;pointer-events:auto}[data-view=nav-home] .nav-home .section-content,[data-view=nav-cmp-list] .nav-cmp-list .section-content,[data-view=nav-cmp-detail] .nav-cmp-detail .section-content,[data-view=nav-cmp-input] .nav-cmp-input .section-content,[data-view=nav-settings] .nav-settings .section-content{transform:translateZ(0);pointer-events:auto}[data-view=nav-home] .nav-home header,[data-view=nav-home] .nav-home footer,[data-view=nav-cmp-list] .nav-cmp-list header,[data-view=nav-cmp-list] .nav-cmp-list footer,[data-view=nav-cmp-detail] .nav-cmp-detail header,[data-view=nav-cmp-detail] .nav-cmp-detail footer,[data-view=nav-cmp-input] .nav-cmp-input header,[data-view=nav-cmp-input] .nav-cmp-input footer,[data-view=nav-settings] .nav-settings header,[data-view=nav-settings] .nav-settings footer{opacity:1;pointer-events:auto}[data-view=nav-cmp-list] .nav-home .section-content,[data-view=nav-cmp-detail] .nav-home .section-content,[data-view=nav-cmp-detail] .nav-cmp-list .section-content,[data-view=nav-cmp-input] .nav-home .section-content,[data-view=nav-cmp-input] .nav-cmp-list .section-content,[data-view=nav-cmp-input] .nav-cmp-detail .section-content,[data-view=nav-settings] .nav-home .section-content{transform:translate3d(-105%,0,0)}.cmp-item .nav-list-item-icon{background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.83 16.809C20.94 16.561 21 16.289 21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L7.988 3.99001M5.441 5.44801L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L18.544 18.56" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M14.532 10.538L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M3.27002 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/><path d="M3 3L21 21" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round"/></svg>');opacity:.3}.cmp-item.registered .nav-list-item-icon{background-image:url('data:image/svg+xml,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L20 17.726C20.619 17.371 21 16.716 21 16.008Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 12L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M3.26999 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /></svg>');opacity:.8}.search-highlight{background-color:var(--primary-color-alpha);padding:0 2px;border-radius:2px;font-weight:500}.search-container{position:sticky;top:0;z-index:10;padding:12px 16px;background:var(--background-color);border-bottom:1px solid var(--border-color)}.search-input-wrapper{position:relative;display:flex;align-items:center}.search-icon{position:absolute;left:12px;color:var(--text-color-secondary);pointer-events:none}.component-search-input{width:100%;height:36px;padding:8px 36px;border:1px solid var(--border-color);border-radius:6px;background:var(--input-background);color:var(--text-color);font-size:14px;transition:border-color .2s,box-shadow .2s}.component-search-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px var(--primary-color-alpha)}.component-search-input::placeholder{color:var(--text-color-tertiary)}.clear-search-button{position:absolute;right:8px;padding:4px;color:var(--text-color-secondary);border:none;background:transparent;border-radius:4px;cursor:pointer;opacity:0;transition:opacity .2s,background-color .2s;display:flex;align-items:center;justify-content:center}.clear-search-button:hover{background-color:var(--hover-color)}.component-search-input:not(:placeholder-shown)+.clear-search-button{opacity:1}.no-results{padding:32px 16px;text-align:center;color:var(--text-color-secondary);font-size:14px}#cmp-detail{position:relative}.cmp-loading{pointer-events:none!important}.cmp-loading-icon{position:absolute;display:inline-block;top:170px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.cmp-loading .cmp-loading-icon{opacity:.5}.cmp-cover{position:absolute;top:160px;left:0;width:100%;height:100vh;background:var(--background-color);transform:translateZ(0);pointer-events:none;display:none}[data-view=nav-cmp-detail] .cmp-cover{display:block;pointer-events:auto}.cmp-enabled .cmp-cover{transform:translate3d(0,105%,0);pointer-events:none}.section-ready .cmp-cover{transition:all var(--transition-time) ease-in-out}.cmp-detail-inputs-container{margin:8px 0 16px;padding:0}.cmp-detail-inputs-container h3{margin:0 0 6px;padding-left:16px;padding-right:8px;font-size:14px;font-weight:500;display:flex;justify-content:space-between;align-items:center}.cmp-detail-inputs-reload{font-weight:300;font-size:.9em;text-decoration:none;appearance:none;text-align:left;background-color:transparent;border:none;color:var(--primary-color);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cmp-detail-inputs-reload:hover{text-decoration:underline;color:var(--primary-color)}.cmp-detail-inputs-container .cmp-inputs-empty{padding:0;margin-top:12px;font-size:12px;font-weight:300;opacity:.5;font-style:italic}.cmp-detail-inputs-container .nav-list-item-icon{opacity:.8;background-size:20px 20px;background-position:4px center}.input-icon{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"  width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path></svg>')}.input-icon-array{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16v-6a2 2 0 1 1 4 0v6"></path> <path d="M10 13h4"></path></svg>')}.input-icon-boolean{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16h2a2 2 0 1 0 0 -4h-2h2a2 2 0 1 0 0 -4h-2v8z"></path></svg>')}.input-icon-number{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 16v-8l4 8v-8"></path></svg>')}.input-icon-object{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M12 8a2 2 0 0 1 2 2v4a2 2 0 1 1 -4 0v-4a2 2 0 0 1 2 -2z"></path></svg>')}.input-icon-string{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path> <path d="M10 15a1 1 0 0 0 1 1h2a1 1 0 0 0 1 -1v-2a1 1 0 0 0 -1 -1h-2a1 1 0 0 1 -1 -1v-2a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1"></path></svg>')}.cmp-input-item-unregistered{opacity:.4}.cmp-input-item-unregistered .input-icon:after{content:"";position:absolute;top:11px;left:4px;width:20px;height:2px;background-color:#000;transform:rotate(-45deg)}.cmp-prop-info{border-bottom:1px solid var(--border-color)}.cmp-input-readonly{margin:16px 0;padding:0 16px;display:grid;grid-template-columns:50% 50%;gap:12px}.cmp-input-readonly h3{margin:0;font-size:14px;font-weight:500}.cmp-input-readonly span{margin-top:2px;font-size:12px;font-weight:300;opacity:.8}.cmp-input-detail{margin:16px 0}.cmp-input-detail a{color:var(--primary-color);text-decoration:none}.cmp-input-detail a:hover{text-decoration:underline}.input-cover{position:absolute;top:175px;left:0;width:100%;height:100%;background:var(--background-color);transform:translateZ(0);transition:all var(--transition-time) ease-in-out;pointer-events:auto}.input-enabled .input-cover{transform:translate3d(0,105%,0);pointer-events:none}.input-loading-icon{position:absolute;display:inline-block;top:190px;left:0;width:100%;transform:translateZ(0);pointer-events:auto;opacity:0;transition:all 50ms ease-in-out;transition-delay:50ms;pointer-events:none}.input-loading .input-loading-icon{opacity:.5}:host{position:fixed;inset:0;z-index:2147483646;user-select:none;pointer-events:none;color:var(--text-color)}aside{position:absolute;top:0;right:0;width:var(--menu-width);height:100%;transform:translate3d(105%,0,0);transition:transform var(--transition-time) ease-in-out;background:var(--background-color);box-shadow:#000000c9 5px 0 20px;overflow:hidden;z-index:1}:host(.show-khulnasoft-menu) aside{pointer-events:auto;transform:translateZ(0)}#hit{position:absolute;inset:0;display:none}:host(.show-khulnasoft-menu) #hit{display:block;pointer-events:auto}#version{position:absolute;bottom:6px;right:6px;font-size:8px;color:#9b9b9b}</style><div id="hit"></div> <aside data-view="nav-home"> <section class="nav-home"> <header> <svg class="khulnasoft-logo" viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M31 9.96854C31.0016 11.4553 30.6701 12.9236 30.03 14.2654C29.3898 15.6072 28.4572 16.7884 27.3007 17.7221L0.702841 2.61812C0.601104 2.56012 0.506714 2.49008 0.421705 2.40951C0.288323 2.27871 0.182333 2.12263 0.109928 1.95039C0.0375215 1.77814 0.000151253 1.59319 0 1.40633C0 1.03335 0.148098 0.675643 0.411715 0.411905C0.675332 0.148167 1.03287 0 1.40568 0L21.036 0C23.6786 0 26.213 1.05025 28.0816 2.91972C29.9502 4.78918 31 7.32472 31 9.96854Z" fill="#18B4F4" /> <path d="M31 25.4757C31.0004 26.7849 30.7429 28.0815 30.2423 29.2912C29.7417 30.5009 29.0078 31.6001 28.0825 32.526C27.1572 33.4519 26.0587 34.1864 24.8497 34.6875C23.6406 35.1886 22.3448 35.4465 21.0361 35.4465H1.40573C1.12766 35.4436 0.856725 35.3581 0.627199 35.201C0.397672 35.044 0.219871 34.8223 0.116289 34.5641C0.0127078 34.3059 -0.011999 34.0228 0.0452946 33.7505C0.102588 33.4783 0.239308 33.2292 0.438156 33.0347C0.517415 32.9551 0.606358 32.8858 0.702893 32.8284L11.1705 26.8843L27.2984 17.7244C28.4548 18.6579 29.3874 19.8387 30.028 21.18C30.6685 22.5213 31.0007 23.9891 31 25.4757Z" fill="#FD6B3C" /> <path d="M27.3011 17.7221L11.1709 26.8843L0.703209 32.8284C0.602697 32.8843 0.509784 32.9528 0.426758 33.0323C4.41799 28.9369 6.6496 23.442 6.64456 17.7221C6.65208 12.0015 4.42111 6.50517 0.429101 2.40948C0.51411 2.49005 0.6085 2.56009 0.710237 2.61809L27.3011 17.7221Z" fill="#A97FF2" /> </svg> <div> <h2 class="khulnasoft-home-title">Khulnasoft Devtools</h2> <p><button id="go-to-khulnasoft">Go to Khulnasoft</button></p> </div> <button id="close" aria-label="Close Menu"> <svg viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M18 6l-12 12" /> <path d="M6 6l12 12" /> </svg> </button> </header> <div class="section-content"> <ul class="list"> <li> <button id="components-link"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M21 16.008V7.99001C20.9994 7.64108 20.9066 7.29851 20.731 6.99699C20.5554 6.69547 20.3032 6.44571 20 6.27301L13 2.26501C12.6954 2.09103 12.3508 1.99951 12 1.99951C11.6492 1.99951 11.3046 2.09103 11 2.26501L4 6.27301C3.381 6.62801 3 7.28301 3 7.99101V16.009C3 16.718 3.381 17.372 4 17.726L11 21.734C11.3046 21.908 11.6492 21.9995 12 21.9995C12.3508 21.9995 12.6954 21.908 13 21.734L20 17.726C20.619 17.371 21 16.716 21 16.008Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 22V12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M12 12L20.73 6.95996" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M3.26999 6.95996L12 12" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Components</span> </button> </li> <li> <button id="settings-link"> <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M10.325 4.317C10.751 2.561 13.249 2.561 13.675 4.317C13.7389 4.5808 13.8642 4.82578 14.0407 5.032C14.2172 5.23822 14.4399 5.39985 14.6907 5.50375C14.9414 5.60764 15.2132 5.65085 15.4838 5.62987C15.7544 5.60889 16.0162 5.5243 16.248 5.383C17.791 4.443 19.558 6.209 18.618 7.753C18.4769 7.98466 18.3924 8.24634 18.3715 8.51677C18.3506 8.78721 18.3938 9.05877 18.4975 9.30938C18.6013 9.55999 18.7627 9.78258 18.9687 9.95905C19.1747 10.1355 19.4194 10.2609 19.683 10.325C21.439 10.751 21.439 13.249 19.683 13.675C19.4192 13.7389 19.1742 13.8642 18.968 14.0407C18.7618 14.2172 18.6001 14.4399 18.4963 14.6907C18.3924 14.9414 18.3491 15.2132 18.3701 15.4838C18.3911 15.7544 18.4757 16.0162 18.617 16.248C19.557 17.791 17.791 19.558 16.247 18.618C16.0153 18.4769 15.7537 18.3924 15.4832 18.3715C15.2128 18.3506 14.9412 18.3938 14.6906 18.4975C14.44 18.6013 14.2174 18.7627 14.0409 18.9687C13.8645 19.1747 13.7391 19.4194 13.675 19.683C13.249 21.439 10.751 21.439 10.325 19.683C10.2611 19.4192 10.1358 19.1742 9.95929 18.968C9.7828 18.7618 9.56011 18.6001 9.30935 18.4963C9.05859 18.3924 8.78683 18.3491 8.51621 18.3701C8.24559 18.3911 7.98375 18.4757 7.752 18.617C6.209 19.557 4.442 17.791 5.382 16.247C5.5231 16.0153 5.60755 15.7537 5.62848 15.4832C5.64942 15.2128 5.60624 14.9412 5.50247 14.6906C5.3987 14.44 5.23726 14.2174 5.03127 14.0409C4.82529 13.8645 4.58056 13.7391 4.317 13.675C2.561 13.249 2.561 10.751 4.317 10.325C4.5808 10.2611 4.82578 10.1358 5.032 9.95929C5.23822 9.7828 5.39985 9.56011 5.50375 9.30935C5.60764 9.05859 5.65085 8.78683 5.62987 8.51621C5.60889 8.24559 5.5243 7.98375 5.383 7.752C4.443 6.209 6.209 4.442 7.753 5.382C8.753 5.99 10.049 5.452 10.325 4.317Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> <path d="M9 12C9 12.7956 9.31607 13.5587 9.87868 14.1213C10.4413 14.6839 11.2044 15 12 15C12.7956 15 13.5587 14.6839 14.1213 14.1213C14.6839 13.5587 15 12.7956 15 12C15 11.2044 14.6839 10.4413 14.1213 9.87868C13.5587 9.31607 12.7956 9 12 9C11.2044 9 10.4413 9.31607 9.87868 9.87868C9.31607 10.4413 9 11.2044 9 12Z" stroke="currentColor" stroke-width="1.75" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Settings</span> </button> </li> <li> <button id="add-page-link"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M14 3v4a1 1 0 0 0 1 1h4" /> <path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /> <path d="M12 11l0 6" /> <path d="M9 14l6 0" /> </svg> <span>Add Khulnasoft Page</span> </button> </li> <li> <button id="import-from-figma"> <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-figma" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" > <path stroke="none" d="M0 0h24v24H0z" fill="none" /> <path d="M15 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /> <path d="M6 3m0 3a3 3 0 0 1 3 -3h6a3 3 0 0 1 3 3v0a3 3 0 0 1 -3 3h-6a3 3 0 0 1 -3 -3z" /> <path d="M9 9a3 3 0 0 0 0 6h3m-3 0a3 3 0 1 0 3 3v-15" /> </svg> <span>Import From Figma</span> </button> </li> </ul> </div> <footer> <ul class="list"> <li> <a href="https://docs.google.com/forms/d/e/1FAIpQLSdqZcJpRtm_Ia5DTHP6SDY9Xa6LID3KiTjRWkjMzWyJRUtSHw/viewform" target="_blank" > <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" > <path d="M11.013 17.0114L10.013 18.0114L2.513 10.5834C2.0183 10.102 1.62864 9.52342 1.36854 8.88404C1.10845 8.24466 0.983558 7.55836 1.00173 6.86834C1.01991 6.17832 1.18076 5.49954 1.47415 4.87474C1.76755 4.24994 2.18713 3.69266 2.70648 3.23799C3.22583 2.78331 3.8337 2.4411 4.49181 2.23289C5.14991 2.02468 5.844 1.95499 6.53036 2.02821C7.21673 2.10143 7.8805 2.31596 8.47987 2.65831C9.07925 3.00066 9.60124 3.46341 10.013 4.01741C10.8086 2.95654 11.9931 2.2552 13.3059 2.06766C14.6186 1.88012 15.9521 2.22176 17.013 3.01741C18.0739 3.81306 18.7752 4.99755 18.9627 6.3103C19.1503 7.62305 18.8086 8.95654 18.013 10.0174" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> <path d="M18.2006 19.8175L16.0286 20.9555C15.9642 20.989 15.8917 21.004 15.8192 20.9987C15.7467 20.9934 15.6771 20.9681 15.6182 20.9256C15.5593 20.8831 15.5134 20.825 15.4855 20.7579C15.4577 20.6907 15.4491 20.6172 15.4606 20.5455L15.8756 18.1345L14.1186 16.4275C14.0662 16.3768 14.0291 16.3123 14.0115 16.2416C13.9939 16.1708 13.9966 16.0965 14.0192 16.0271C14.0418 15.9578 14.0835 15.8962 14.1394 15.8494C14.1954 15.8026 14.2634 15.7725 14.3356 15.7625L16.7636 15.4105L17.8496 13.2175C17.8821 13.1521 17.9322 13.0972 17.9942 13.0588C18.0562 13.0204 18.1277 13 18.2006 13C18.2736 13 18.3451 13.0204 18.4071 13.0588C18.4691 13.0972 18.5191 13.1521 18.5516 13.2175L19.6376 15.4105L22.0656 15.7625C22.1377 15.7728 22.2054 15.8031 22.2611 15.85C22.3168 15.8968 22.3583 15.9583 22.3809 16.0275C22.4034 16.0967 22.4062 16.1708 22.3888 16.2415C22.3715 16.3122 22.3347 16.3766 22.2826 16.4275L20.5256 18.1345L20.9396 20.5445C20.9521 20.6163 20.9441 20.6902 20.9166 20.7578C20.8891 20.8254 20.8433 20.8839 20.7842 20.9267C20.7252 20.9695 20.6553 20.9949 20.5825 21C20.5098 21.005 20.4371 20.9896 20.3726 20.9555L18.2006 19.8175Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" /> </svg> <span>Give Feedback</span> </a> </li> </ul> <div id="version"></div> </footer> </section> <section class="nav-cmp-list"> <header> <button class="back-button"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div class="search-container"> <div class="search-input-wrapper"> <svg class="search-icon" viewBox="0 0 24 24" width="16" height="16"> <path fill="none" stroke="currentColor" stroke-width="2" d="M15.5 15.5L20 20M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17Z" /> </svg> <input type="text" id="component-search" class="component-search-input" placeholder="Search components..." autocomplete="off" spellcheck="false" /> <button id="clear-search" class="clear-search-button" type="button" aria-label="Clear search" > <svg viewBox="0 0 24 24" width="16" height="16"> <path fill="none" stroke="currentColor" stroke-width="2" d="M6 6l12 12M6 18L18 6" /> </svg> </button> </div> </div> <div> <h2>Custom Components</h2> <p> <button id="open-khulnasoft-registry"></button> </p> </div> </header> <div class="section-content"> <div id="cmp-list" class="cmp-list nav-list"></div> </div> <div class="nav-loading-icon spinner"></div> <footer> <p class="info"> Expand on Khulnasoft's selection of built-in blocks by <a target="_blank" href="https://www.khulnasoft.com/c/docs/custom-components-intro" >registering components</a > from your codebase. This way, teammates can drag and drop your components within Khulnasoft's Visual Editor just like any other block. </p> </footer> </section> <section class="nav-cmp-detail"> <header> <button class="back-button" data-back="nav-cmp-list"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2 id="cmp-detail-title"></h2> <p> <button id="cmp-open-source"></button> </p> </div> </header> <div class="section-content"> <div id="cmp-error"></div> <label class="ui-switch"> <div> <h3>Register Component</h3> <p> Registers this component so it can be used within Khulnasoft Visual CMS </p> </div> <input type="checkbox" role="switch" id="cmp-register" /> <span class="switcher"></span> </label> <div id="cmp-detail"> <label class="ui-text-input"> <h3>Component Name</h3> <div class="input"> <input type="text" id="cmp-name" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" minlength="2" maxlength="30" required placeholder="e.g. My Counter" /> </div> <p> Unique name to identify this custom component within Khulnasoft. Press ESC to cancel </p> </label> <div class="cmp-detail-inputs-container"> <h3> <span>Khulnasoft Inputs (Props)</span> <button class="cmp-detail-inputs-reload" id="btn-inputs-reload"> Reload </button> </h3> <div id="cmp-detail-inputs"></div> </div> </div> </div> <div class="cmp-cover"></div> <div class="cmp-loading-icon spinner"></div> </section> <section class="nav-cmp-input"> <header> <button class="back-button" data-back="nav-cmp-detail"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2 id="cmp-input-title"></h2> <p> <button id="input-open-source"></button> </p> </div> </header> <div class="section-content"> <label class="ui-switch"> <div> <h3>Enable Input</h3> <p>Add this component prop as a Khulnasoft input</p> </div> <input type="checkbox" role="switch" id="input-register" /> <span class="switcher"></span> </label> <div class="cmp-prop-info"> <div class="cmp-input-readonly"> <h3>Prop Name</h3> <span id="cmp-prop-name"></span> </div> <div class="cmp-input-readonly"> <h3>Prop Type</h3> <span id="cmp-prop-type"></span> </div> </div> <div class="cmp-input-detail"> <label class="ui-text-input"> <h3>Khulnasoft Input Name</h3> <div class="input"> <input type="text" id="input-name" autocapitalize="off" autocorrect="off" spellcheck="false" autocomplete="off" minlength="1" maxlength="30" required placeholder="e.g. Text" /> </div> <p> Friendly name to identify this component prop as a Khulnasoft input. Press ESC to cancel </p> </label> <label class="ui-select"> <h3>Khulnasoft Input Type</h3> <div class="select"> <select id="input-type"></select> </div> <p> Correlate to what editing UI is appropriate for this Khulnasoft input. <a href="https://www.khulnasoft.com/c/docs/custom-components-input-types" target="_blank" >Read more about input types.</a > </p> </label> </div> <div class="input-cover"></div> <div class="input-loading-icon spinner"></div> </div> </section> <section class="nav-settings"> <header> <button class="back-button"> <svg viewBox="0 0 24 24"> <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z" /> </svg> </button> <div> <h2>Settings</h2> <p>Configure Khulnasoft's Devtools</p> </div> </header> <div class="section-content"> <label class="ui-switch"> <div> <h3>Enable edit button in UI</h3> <p>Enables the edit button so you can edit content in Khulnasoft</p> </div> <input type="checkbox" role="switch" id="enable-edit" /> <span class="switcher"></span> </label> </div> </section> <div class="ui-toast" id="toast"></div> </aside> <button class="menu-toggle" aria-label="Toggle Khulnasoft Devtools"> <div> <div class="highlight-bg"></div> <svg viewBox="0 0 31 36" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M31 9.96854C31.0016 11.4553 30.6701 12.9236 30.03 14.2654C29.3898 15.6072 28.4572 16.7884 27.3007 17.7221L0.702841 2.61812C0.601104 2.56012 0.506714 2.49008 0.421705 2.40951C0.288323 2.27871 0.182333 2.12263 0.109928 1.95039C0.0375215 1.77814 0.000151253 1.59319 0 1.40633C0 1.03335 0.148098 0.675643 0.411715 0.411905C0.675332 0.148167 1.03287 0 1.40568 0L21.036 0C23.6786 0 26.213 1.05025 28.0816 2.91972C29.9502 4.78918 31 7.32472 31 9.96854Z" fill="#18B4F4" /> <path d="M31 25.4757C31.0004 26.7849 30.7429 28.0815 30.2423 29.2912C29.7417 30.5009 29.0078 31.6001 28.0825 32.526C27.1572 33.4519 26.0587 34.1864 24.8497 34.6875C23.6406 35.1886 22.3448 35.4465 21.0361 35.4465H1.40573C1.12766 35.4436 0.856725 35.3581 0.627199 35.201C0.397672 35.044 0.219871 34.8223 0.116289 34.5641C0.0127078 34.3059 -0.011999 34.0228 0.0452946 33.7505C0.102588 33.4783 0.239308 33.2292 0.438156 33.0347C0.517415 32.9551 0.606358 32.8858 0.702893 32.8284L11.1705 26.8843L27.2984 17.7244C28.4548 18.6579 29.3874 19.8387 30.028 21.18C30.6685 22.5213 31.0007 23.9891 31 25.4757Z" fill="#FD6B3C" /> <path d="M27.3011 17.7221L11.1709 26.8843L0.703209 32.8284C0.602697 32.8843 0.509784 32.9528 0.426758 33.0323C4.41799 28.9369 6.6496 23.442 6.64456 17.7221C6.65208 12.0015 4.42111 6.50517 0.429101 2.40948C0.51411 2.49005 0.6085 2.56009 0.710237 2.61809L27.3011 17.7221Z" fill="#A97FF2" /> </svg> </div> </button>\`,Nr(e),Br(e),Ur(e),Ar(e),Dr(e),Fr(e),this.setAttribute("aria-hidden","true"),e.getElementById("version").textContent="v1.5.12"}highlightOpener(){let e=this.shadowRoot.querySelector(".menu-toggle");e.classList.add("menu-toggle-highlight"),e.classList.add("menu-toggle-highlight-no-transition"),setTimeout(()=>{e.classList.remove("menu-toggle-highlight-no-transition"),setTimeout(()=>{e.classList.remove("menu-toggle-highlight")},20)},20)}};var ki=\`<style>*,*:before,*:after{box-sizing:border-box}html,body,:host{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:2147483646;margin:0;padding:0;line-height:1.8;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";background-color:#252525;color:#fff;transition:opacity .25s ease-in-out}:host([aria-hidden="true"]){opacity:0;pointer-events:none}main{position:absolute;top:0;left:0;width:100%;height:100vh}h1{margin-top:0;font-size:24px;font-weight:300;line-height:1.4}p{margin:20px 0;font-weight:300}button{cursor:pointer}aside{position:absolute;top:0;left:0;width:350px;height:100vh;padding:60px 0 0 50px;background-color:#121212}aside ul{margin:30px 0 0;padding:0;list-style:none}aside li{position:relative;margin:0;padding:20px 10px;font-weight:300}aside li.highlight{color:#48a1ff}aside li.active{font-weight:700}aside li .circle{position:absolute;top:20px;left:10px;width:24px;height:24px;border:3px solid white;border-radius:50%;font-size:14px}aside li.highlight .circle{border-color:#48a1ff}aside li.active .circle:after{content:"";position:absolute;top:3px;left:3px;width:12px;height:12px;border-radius:50%;background-color:#48a1ff}aside li.completed .circle{background-color:#48a1ff}aside li.completed .circle:after{content:"";position:absolute;top:2px;left:6px;width:6px;height:13px;border:3px solid black;border-top:none;border-left:none;transform:rotate(45deg)}aside li .line{position:absolute;top:44px;left:21px;width:3px;height:45px;background-color:#fff}aside li.completed .line{background-color:#48a1ff}aside li span{display:block;margin-left:44px}nav{margin-top:30px}section{position:absolute;top:135px;left:350px;padding:0 80px 0 140px;transition:opacity .15s ease-in-out}section[aria-hidden=true]{pointer-events:none;opacity:0}section h1,section p{min-width:300px;max-width:600px}.button{position:relative;display:inline-block;color:#fff;background-color:#48a1ff;border-radius:4px;text-decoration:none;padding:10px 40px 10px 20px;white-space:nowrap}.button:hover{background-color:#48a1ffd9}#button-icon{position:absolute;top:1px;right:5px;bottom:0;width:30px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="white" stroke-linecap="square" stroke-miterlimit="10" stroke-width="48" d="M184 112l144 144-144 144"/></svg>');background-repeat:no-repeat;background-position:center;background-size:24px 24px}.button[aria-disabled=true]{opacity:.9;background-color:#ffffff4d;pointer-events:none;padding-right:60px}.button[aria-disabled=true] #button-icon{top:21px;right:29px;width:8px;height:8px;border-radius:4px;background:#fff;color:#fff;animation:dot-flashing .5s infinite linear alternate;animation-delay:.25s}.button[aria-disabled=true] #button-icon:before,.button[aria-disabled=true] #button-icon:after{content:"";display:inline-block;position:absolute;top:0}.button[aria-disabled=true] #button-icon:before{left:-12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:0s}.button[aria-disabled=true] #button-icon:after{left:12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:.5s}@keyframes dot-flashing{0%{background-color:#fff}50%,to{background-color:#ffffff4d}}.logo{margin-left:9px;background:url('data:image/svg+xml,<svg viewBox="0 0 150 32" fill="none" xmlns="http://www.w3.org/2000/svg" > <g clip-path="url(%23clip0_4_304)"> <path d="M27.9858 8.99927C27.9872 10.3415 27.688 11.667 27.1101 12.8783C26.5321 14.0896 25.6902 15.156 24.6462 15.9989V15.9989L0.634502 2.36355C0.542657 2.31119 0.457444 2.24796 0.380701 2.17523C0.260289 2.05715 0.164605 1.91624 0.0992389 1.76075C0.0338732 1.60525 0.000136546 1.43828 0 1.26959C0 0.932873 0.133698 0.609948 0.371683 0.371854C0.609667 0.13376 0.932443 0 1.269 0L18.9906 0C21.3763 0 23.6642 0.948135 25.3512 2.63583C27.0381 4.32352 27.9858 6.61252 27.9858 8.99927V8.99927Z" fill="%2318B4F4" /> <path d="M27.9858 22.9986C27.9861 24.1806 27.7536 25.351 27.3017 26.4431C26.8498 27.5352 26.1873 28.5275 25.352 29.3634C24.5167 30.1993 23.5249 30.8624 22.4335 31.3147C21.342 31.7671 20.1721 32 18.9907 32H1.26906C1.01802 31.9973 0.77343 31.9202 0.566221 31.7784C0.359012 31.6366 0.198499 31.4364 0.104989 31.2034C0.0114791 30.9703 -0.0108254 30.7147 0.0408974 30.4689C0.0926201 30.2231 0.216046 29.9982 0.395559 29.8226V29.8226C0.467112 29.7508 0.547407 29.6882 0.634555 29.6364L10.0844 24.2703L24.6441 16.001C25.688 16.8438 26.53 17.9097 27.1083 19.1206C27.6866 20.3315 27.9864 21.6566 27.9858 22.9986V22.9986Z" fill="%23FD6B3C" /> <path d="M24.6461 15.9989L10.0843 24.2703L0.634458 29.6365C0.54372 29.6868 0.459841 29.7487 0.384888 29.8205C3.98804 26.1233 6.00266 21.1627 5.99812 15.9989C6.0049 10.8346 3.99085 5.87268 0.387003 2.17523C0.463746 2.24796 0.548959 2.31119 0.640803 2.36355L24.6461 15.9989Z" fill="%23A97FF2" /> <path d="M47.6659 11.7352C51.8177 11.7352 54.1632 15.0531 54.1632 19.0714C54.1632 23.0896 51.8177 26.3821 47.6659 26.3821C45.5086 26.3821 43.8589 25.5188 42.9473 24.0545L42.5709 26.052H39.9736V6.77115H43.1884V13.8914C43.971 12.6959 45.5086 11.7352 47.6659 11.7352ZM47.0187 23.5488C49.4446 23.5488 50.9547 21.5809 50.9547 19.0714C50.9547 16.5089 49.4446 14.5664 47.0187 14.5664C44.5928 14.5664 43.0806 16.5047 43.0806 19.0714C43.0806 21.583 44.5653 23.5488 47.0187 23.5488V23.5488Z" fill="white" /> <path d="M65.4595 20.2859V12.0611H68.668V20.123C68.668 23.7202 67.0246 26.3821 62.4943 26.3821C57.9639 26.3821 56.3206 23.7117 56.3206 20.123V12.0611H59.529V20.2859C59.529 22.4696 60.5527 23.5488 62.49 23.5488C64.4274 23.5488 65.4595 22.4696 65.4595 20.2859Z" fill="white" /> <path d="M71.2355 7.74451C71.2247 7.46284 71.2724 7.18199 71.3755 6.91968C71.4787 6.65737 71.6351 6.41929 71.8348 6.22047C72.0345 6.02165 72.2732 5.8664 72.5359 5.76452C72.7986 5.66264 73.0796 5.61633 73.3611 5.62853C74.5793 5.62853 75.4571 6.50666 75.4571 7.75509C75.4571 9.00352 74.5793 9.8224 73.3611 9.8224C72.1428 9.8224 71.2355 8.9612 71.2355 7.74451Z" fill="white" /> <path d="M128.476 7.74451C128.465 7.46376 128.513 7.18383 128.615 6.92227C128.718 6.66071 128.873 6.42315 129.072 6.22449C129.27 6.02583 129.508 5.87035 129.769 5.7678C130.031 5.66524 130.31 5.61783 130.591 5.62852C131.809 5.62852 132.687 6.50666 132.687 7.75509C132.687 9.00352 131.809 9.8224 130.591 9.8224C129.373 9.8224 128.476 8.9612 128.476 7.74451Z" fill="white" /> <path d="M122.302 24.1031C122.291 23.8223 122.339 23.5422 122.441 23.2805C122.543 23.0188 122.699 22.7811 122.897 22.5824C123.096 22.3837 123.334 22.2282 123.595 22.1258C123.857 22.0233 124.137 21.9761 124.417 21.9872C125.636 21.9872 126.513 22.8653 126.513 24.1031C126.513 25.341 125.636 26.1726 124.417 26.1726C123.199 26.1726 122.302 25.3219 122.302 24.1031Z" fill="white" /> <path d="M74.9516 12.059H71.7432V26.0583H74.9516V12.059Z" fill="white" /> <path d="M78.16 26.0583V6.77115H81.3685V26.0626L78.16 26.0583Z" fill="white" /> <path d="M94.6063 6.77115H97.8148V26.0626H95.2239L94.8474 24.0651C93.9591 25.523 92.3094 26.3927 90.131 26.3927C86.0046 26.3927 83.6591 23.0748 83.6591 19.0819C83.6591 15.0891 86.0046 11.7458 90.131 11.7458C92.3137 11.7458 93.8238 12.7149 94.6063 13.902V6.77115ZM90.7993 14.5707C88.3734 14.5707 86.8633 16.5131 86.8633 19.0756C86.8633 21.5851 88.3734 23.553 90.7993 23.553C93.2252 23.553 94.7354 21.5851 94.7354 19.0756C94.7396 16.5047 93.257 14.5664 90.8036 14.5664L90.7993 14.5707Z" fill="white" /> <path d="M113.479 22.2284C112.482 24.7359 110.162 26.3821 107.117 26.3821C102.887 26.3821 100.137 23.225 100.137 19.0439C100.137 14.9706 102.942 11.7353 107.093 11.7353C111.245 11.7353 113.969 14.8902 113.969 18.991C113.982 19.3255 113.953 19.6604 113.883 19.9876H103.288C103.53 22.2009 104.959 23.6292 107.197 23.6292C108.735 23.6292 110.001 22.8738 110.594 21.473L113.479 22.2284ZM103.341 17.6156H110.784C110.513 15.6731 109.166 14.3506 107.089 14.3506C105.012 14.3506 103.665 15.7006 103.341 17.6156V17.6156Z" fill="white" /> <path d="M123.779 14.9452C123.538 14.9117 123.295 14.8933 123.051 14.8902C120.786 14.8902 119.439 16.0772 119.439 18.7751V26.0583H116.23V12.0611H118.821L119.195 14.0014C119.707 13.1127 120.887 11.9257 123.322 11.9257C123.455 11.9257 123.779 11.9532 123.779 11.9532V14.9452Z" fill="white" /> <path d="M132.192 12.059H128.984V26.0583H132.192V12.059Z" fill="white" /> <path d="M134.483 19.0714C134.483 15.1335 137.287 11.7353 141.735 11.7353C146.183 11.7353 149.015 15.1335 149.015 19.0714C149.015 23.0092 146.213 26.3821 141.735 26.3821C137.258 26.3821 134.483 23.0092 134.483 19.0714ZM141.735 23.5488C144.083 23.5488 145.806 21.7692 145.806 19.0714C145.806 16.3735 144.083 14.5664 141.735 14.5664C139.387 14.5664 137.687 16.346 137.687 19.0714C137.687 21.7968 139.417 23.5488 141.735 23.5488V23.5488Z" fill="white" /> </g> <defs> <clipPath id="clip0_4_304"> <rect width="149.015" height="32" fill="white" /> </clipPath> </defs> </svg>');background-repeat:no-repeat;width:150px;height:32px}@media (max-width: 840px){aside{width:250px;padding:60px 0 0 20px}section{left:250px;padding:0 80px}}@media (max-width: 590px){aside{width:230px;padding:60px 0 0 10px}section{left:230px;padding:0 40px}}#modified-files-message a{color:#cbcbcb;font-weight:300;text-decoration:underline}#modified-files-message a:hover{color:#fff;text-decoration:none}#restart-warning{border-radius:4px;padding:8px 16px;border:1px solid #fd6b3c;background:#fd6b3c1a}#react-router-steps{margin:0 0 5px;padding:0 20px}#need-help{color:#48a1ff;text-decoration:none}#router-message{border-radius:4px;padding:16px;border:1px solid #48a1ff}#router-finish-button{margin-top:12px}#router-checkbox-div{display:flex;align-items:center}#router-checkbox{margin-right:10px;width:15px;height:15px}#success-title{display:flex;align-items:center;gap:10px}#success-title .check-icon{display:inline-block;width:24px;height:24px;border:2px solid #28a745;border-radius:50%;position:relative}#success-title .check-icon:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:12px;border:solid #28a745;border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}
</style>\`,dt=class extends HTMLElement{constructor(){super()}connectedCallback(){let e=this.attachShadow({mode:"open"});e.innerHTML=ki+\`<main>
  <aside>
    <div class="logo"></div>

    <ul>
      <li class="highlight active">
        <div class="circle"></div>
        <div class="line"></div>
        <span>Connect Khulnasoft.com</span>
      </li>
      <li>
        <div class="circle"></div>
        <div class="line"></div>
        <span>Update App</span>
      </li>
      <li>
        <div class="circle"></div>
        <span>Setup Complete</span>
      </li>
    </ul>
  </aside>

  <section>
    <h1>Integrate Khulnasoft.com with your project</h1>

    <p>
      First, let's connect to your Khulnasoft.com space to continue with the
      integration
    </p>

    <nav>
      <a class="button next-step" href="#">
        <span id="button-text">Get Started</span>
        <span id="button-icon"></span>
      </a>
    </nav>
  </section>
</main>
\`,Oi();let n=new URL(yn,Oe);n.searchParams.set(gn,location.href);let r=e.querySelectorAll(".next-step");for(let i of r)i.setAttribute("href",n.href);se("overview step viewed")}},Oi=()=>{let t=document.head.querySelector("link[rel='icon'], link[rel='icon shortcut']");t?(t.href="https://cdn.khulnasoft.com/favicon.ico",t.removeAttribute("type")):(t=document.createElement("link"),t.rel="icon",t.href="https://cdn.khulnasoft.com/favicon.ico",document.head.appendChild(t))};var Vr=async()=>{(await Tn()).isValid||Ui()},Ui=()=>{customElements.get("khulnasoft-dev-tools-overview")||customElements.define("khulnasoft-dev-tools-overview",dt);let t=document.querySelector("khulnasoft-dev-tools-overview");t||(t=document.createElement("khulnasoft-dev-tools-overview"),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),setTimeout(()=>{t.removeAttribute("aria-hidden")},32)};var Mi=()=>{try{customElements.get("khulnasoft-dev-tools-edit")||customElements.define("khulnasoft-dev-tools-edit",Ue),customElements.get("khulnasoft-dev-tools-menu")||customElements.define("khulnasoft-dev-tools-menu",lt);let t=document.querySelector("khulnasoft-dev-tools-menu");t||(t=document.createElement("khulnasoft-dev-tools-menu"),t.setAttribute("data-version","1.5.12"),document.body.appendChild(t));let e=document.querySelector("khulnasoft-dev-tools-edit");e||(e=document.createElement("khulnasoft-dev-tools-edit"),document.body.appendChild(e));let n=document.getElementById("khulnasoft-dev-tools-style");n||(n=document.createElement("style"),n.id="khulnasoft-dev-tools-style",n.innerHTML=".khulnasoft-no-scroll{overflow:hidden !important}",document.head.appendChild(n)),Vr(),Pr()}catch(t){console.error("Khulnasoft Devtools:",t)}};window.location===window.parent.location&&(console.debug("Khulnasoft.com Devtools v1.5.12"),Mi());})();`)}async function Lb(e){return Bb(e,`<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Khulnasoft.com</title>
    <style>*,*:before,*:after{box-sizing:border-box}html,body,:host{position:fixed;top:0;left:0;width:100%;height:100vh;z-index:2147483646;margin:0;padding:0;line-height:1.8;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";background-color:#252525;color:#fff;transition:opacity .25s ease-in-out}:host([aria-hidden="true"]){opacity:0;pointer-events:none}main{position:absolute;top:0;left:0;width:100%;height:100vh}h1{margin-top:0;font-size:24px;font-weight:300;line-height:1.4}p{margin:20px 0;font-weight:300}button{cursor:pointer}aside{position:absolute;top:0;left:0;width:350px;height:100vh;padding:60px 0 0 50px;background-color:#121212}aside ul{margin:30px 0 0;padding:0;list-style:none}aside li{position:relative;margin:0;padding:20px 10px;font-weight:300}aside li.highlight{color:#48a1ff}aside li.active{font-weight:700}aside li .circle{position:absolute;top:20px;left:10px;width:24px;height:24px;border:3px solid white;border-radius:50%;font-size:14px}aside li.highlight .circle{border-color:#48a1ff}aside li.active .circle:after{content:"";position:absolute;top:3px;left:3px;width:12px;height:12px;border-radius:50%;background-color:#48a1ff}aside li.completed .circle{background-color:#48a1ff}aside li.completed .circle:after{content:"";position:absolute;top:2px;left:6px;width:6px;height:13px;border:3px solid black;border-top:none;border-left:none;transform:rotate(45deg)}aside li .line{position:absolute;top:44px;left:21px;width:3px;height:45px;background-color:#fff}aside li.completed .line{background-color:#48a1ff}aside li span{display:block;margin-left:44px}nav{margin-top:30px}section{position:absolute;top:135px;left:350px;padding:0 80px 0 140px;transition:opacity .15s ease-in-out}section[aria-hidden=true]{pointer-events:none;opacity:0}section h1,section p{min-width:300px;max-width:600px}.button{position:relative;display:inline-block;color:#fff;background-color:#48a1ff;border-radius:4px;text-decoration:none;padding:10px 40px 10px 20px;white-space:nowrap}.button:hover{background-color:#48a1ffd9}#button-icon{position:absolute;top:1px;right:5px;bottom:0;width:30px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="none" stroke="white" stroke-linecap="square" stroke-miterlimit="10" stroke-width="48" d="M184 112l144 144-144 144"/></svg>');background-repeat:no-repeat;background-position:center;background-size:24px 24px}.button[aria-disabled=true]{opacity:.9;background-color:#ffffff4d;pointer-events:none;padding-right:60px}.button[aria-disabled=true] #button-icon{top:21px;right:29px;width:8px;height:8px;border-radius:4px;background:#fff;color:#fff;animation:dot-flashing .5s infinite linear alternate;animation-delay:.25s}.button[aria-disabled=true] #button-icon:before,.button[aria-disabled=true] #button-icon:after{content:"";display:inline-block;position:absolute;top:0}.button[aria-disabled=true] #button-icon:before{left:-12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:0s}.button[aria-disabled=true] #button-icon:after{left:12px;width:8px;height:8px;border-radius:4px;background-color:#fff;color:#fff;animation:dot-flashing .5s infinite alternate;animation-delay:.5s}@keyframes dot-flashing{0%{background-color:#fff}50%,to{background-color:#ffffff4d}}.logo{margin-left:9px;background:url('data:image/svg+xml,<svg viewBox="0 0 150 32" fill="none" xmlns="http://www.w3.org/2000/svg" > <g clip-path="url(%23clip0_4_304)"> <path d="M27.9858 8.99927C27.9872 10.3415 27.688 11.667 27.1101 12.8783C26.5321 14.0896 25.6902 15.156 24.6462 15.9989V15.9989L0.634502 2.36355C0.542657 2.31119 0.457444 2.24796 0.380701 2.17523C0.260289 2.05715 0.164605 1.91624 0.0992389 1.76075C0.0338732 1.60525 0.000136546 1.43828 0 1.26959C0 0.932873 0.133698 0.609948 0.371683 0.371854C0.609667 0.13376 0.932443 0 1.269 0L18.9906 0C21.3763 0 23.6642 0.948135 25.3512 2.63583C27.0381 4.32352 27.9858 6.61252 27.9858 8.99927V8.99927Z" fill="%2318B4F4" /> <path d="M27.9858 22.9986C27.9861 24.1806 27.7536 25.351 27.3017 26.4431C26.8498 27.5352 26.1873 28.5275 25.352 29.3634C24.5167 30.1993 23.5249 30.8624 22.4335 31.3147C21.342 31.7671 20.1721 32 18.9907 32H1.26906C1.01802 31.9973 0.77343 31.9202 0.566221 31.7784C0.359012 31.6366 0.198499 31.4364 0.104989 31.2034C0.0114791 30.9703 -0.0108254 30.7147 0.0408974 30.4689C0.0926201 30.2231 0.216046 29.9982 0.395559 29.8226V29.8226C0.467112 29.7508 0.547407 29.6882 0.634555 29.6364L10.0844 24.2703L24.6441 16.001C25.688 16.8438 26.53 17.9097 27.1083 19.1206C27.6866 20.3315 27.9864 21.6566 27.9858 22.9986V22.9986Z" fill="%23FD6B3C" /> <path d="M24.6461 15.9989L10.0843 24.2703L0.634458 29.6365C0.54372 29.6868 0.459841 29.7487 0.384888 29.8205C3.98804 26.1233 6.00266 21.1627 5.99812 15.9989C6.0049 10.8346 3.99085 5.87268 0.387003 2.17523C0.463746 2.24796 0.548959 2.31119 0.640803 2.36355L24.6461 15.9989Z" fill="%23A97FF2" /> <path d="M47.6659 11.7352C51.8177 11.7352 54.1632 15.0531 54.1632 19.0714C54.1632 23.0896 51.8177 26.3821 47.6659 26.3821C45.5086 26.3821 43.8589 25.5188 42.9473 24.0545L42.5709 26.052H39.9736V6.77115H43.1884V13.8914C43.971 12.6959 45.5086 11.7352 47.6659 11.7352ZM47.0187 23.5488C49.4446 23.5488 50.9547 21.5809 50.9547 19.0714C50.9547 16.5089 49.4446 14.5664 47.0187 14.5664C44.5928 14.5664 43.0806 16.5047 43.0806 19.0714C43.0806 21.583 44.5653 23.5488 47.0187 23.5488V23.5488Z" fill="white" /> <path d="M65.4595 20.2859V12.0611H68.668V20.123C68.668 23.7202 67.0246 26.3821 62.4943 26.3821C57.9639 26.3821 56.3206 23.7117 56.3206 20.123V12.0611H59.529V20.2859C59.529 22.4696 60.5527 23.5488 62.49 23.5488C64.4274 23.5488 65.4595 22.4696 65.4595 20.2859Z" fill="white" /> <path d="M71.2355 7.74451C71.2247 7.46284 71.2724 7.18199 71.3755 6.91968C71.4787 6.65737 71.6351 6.41929 71.8348 6.22047C72.0345 6.02165 72.2732 5.8664 72.5359 5.76452C72.7986 5.66264 73.0796 5.61633 73.3611 5.62853C74.5793 5.62853 75.4571 6.50666 75.4571 7.75509C75.4571 9.00352 74.5793 9.8224 73.3611 9.8224C72.1428 9.8224 71.2355 8.9612 71.2355 7.74451Z" fill="white" /> <path d="M128.476 7.74451C128.465 7.46376 128.513 7.18383 128.615 6.92227C128.718 6.66071 128.873 6.42315 129.072 6.22449C129.27 6.02583 129.508 5.87035 129.769 5.7678C130.031 5.66524 130.31 5.61783 130.591 5.62852C131.809 5.62852 132.687 6.50666 132.687 7.75509C132.687 9.00352 131.809 9.8224 130.591 9.8224C129.373 9.8224 128.476 8.9612 128.476 7.74451Z" fill="white" /> <path d="M122.302 24.1031C122.291 23.8223 122.339 23.5422 122.441 23.2805C122.543 23.0188 122.699 22.7811 122.897 22.5824C123.096 22.3837 123.334 22.2282 123.595 22.1258C123.857 22.0233 124.137 21.9761 124.417 21.9872C125.636 21.9872 126.513 22.8653 126.513 24.1031C126.513 25.341 125.636 26.1726 124.417 26.1726C123.199 26.1726 122.302 25.3219 122.302 24.1031Z" fill="white" /> <path d="M74.9516 12.059H71.7432V26.0583H74.9516V12.059Z" fill="white" /> <path d="M78.16 26.0583V6.77115H81.3685V26.0626L78.16 26.0583Z" fill="white" /> <path d="M94.6063 6.77115H97.8148V26.0626H95.2239L94.8474 24.0651C93.9591 25.523 92.3094 26.3927 90.131 26.3927C86.0046 26.3927 83.6591 23.0748 83.6591 19.0819C83.6591 15.0891 86.0046 11.7458 90.131 11.7458C92.3137 11.7458 93.8238 12.7149 94.6063 13.902V6.77115ZM90.7993 14.5707C88.3734 14.5707 86.8633 16.5131 86.8633 19.0756C86.8633 21.5851 88.3734 23.553 90.7993 23.553C93.2252 23.553 94.7354 21.5851 94.7354 19.0756C94.7396 16.5047 93.257 14.5664 90.8036 14.5664L90.7993 14.5707Z" fill="white" /> <path d="M113.479 22.2284C112.482 24.7359 110.162 26.3821 107.117 26.3821C102.887 26.3821 100.137 23.225 100.137 19.0439C100.137 14.9706 102.942 11.7353 107.093 11.7353C111.245 11.7353 113.969 14.8902 113.969 18.991C113.982 19.3255 113.953 19.6604 113.883 19.9876H103.288C103.53 22.2009 104.959 23.6292 107.197 23.6292C108.735 23.6292 110.001 22.8738 110.594 21.473L113.479 22.2284ZM103.341 17.6156H110.784C110.513 15.6731 109.166 14.3506 107.089 14.3506C105.012 14.3506 103.665 15.7006 103.341 17.6156V17.6156Z" fill="white" /> <path d="M123.779 14.9452C123.538 14.9117 123.295 14.8933 123.051 14.8902C120.786 14.8902 119.439 16.0772 119.439 18.7751V26.0583H116.23V12.0611H118.821L119.195 14.0014C119.707 13.1127 120.887 11.9257 123.322 11.9257C123.455 11.9257 123.779 11.9532 123.779 11.9532V14.9452Z" fill="white" /> <path d="M132.192 12.059H128.984V26.0583H132.192V12.059Z" fill="white" /> <path d="M134.483 19.0714C134.483 15.1335 137.287 11.7353 141.735 11.7353C146.183 11.7353 149.015 15.1335 149.015 19.0714C149.015 23.0092 146.213 26.3821 141.735 26.3821C137.258 26.3821 134.483 23.0092 134.483 19.0714ZM141.735 23.5488C144.083 23.5488 145.806 21.7692 145.806 19.0714C145.806 16.3735 144.083 14.5664 141.735 14.5664C139.387 14.5664 137.687 16.346 137.687 19.0714C137.687 21.7968 139.417 23.5488 141.735 23.5488V23.5488Z" fill="white" /> </g> <defs> <clipPath id="clip0_4_304"> <rect width="149.015" height="32" fill="white" /> </clipPath> </defs> </svg>');background-repeat:no-repeat;width:150px;height:32px}@media (max-width: 840px){aside{width:250px;padding:60px 0 0 20px}section{left:250px;padding:0 80px}}@media (max-width: 590px){aside{width:230px;padding:60px 0 0 10px}section{left:230px;padding:0 40px}}#modified-files-message a{color:#cbcbcb;font-weight:300;text-decoration:underline}#modified-files-message a:hover{color:#fff;text-decoration:none}#restart-warning{border-radius:4px;padding:8px 16px;border:1px solid #fd6b3c;background:#fd6b3c1a}#react-router-steps{margin:0 0 5px;padding:0 20px}#need-help{color:#48a1ff;text-decoration:none}#router-message{border-radius:4px;padding:16px;border:1px solid #48a1ff}#router-finish-button{margin-top:12px}#router-checkbox-div{display:flex;align-items:center}#router-checkbox{margin-right:10px;width:15px;height:15px}#success-title{display:flex;align-items:center;gap:10px}#success-title .check-icon{display:inline-block;width:24px;height:24px;border:2px solid #28a745;border-radius:50%;position:relative}#success-title .check-icon:before{content:"";position:absolute;top:50%;left:50%;width:6px;height:12px;border:solid #28a745;border-width:0 2px 2px 0;transform:translate(-50%,-60%) rotate(45deg)}
</style>
    <link rel="icon shortcut" href="https://cdn.khulnasoft.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <main>
      <aside>
        <div class="logo"></div>

        <ul>
          <li class="highlight completed">
            <div class="circle"></div>
            <div class="line"></div>
            <span>Connect Khulnasoft.com</span>
          </li>
          <li id="step-update-app" class="highlight active">
            <div class="circle"></div>
            <div class="line"></div>
            <span>Update App</span>
          </li>
          <li id="step-setup-complete">
            <div class="circle"></div>
            <span>Setup Complete</span>
          </li>
        </ul>
      </aside>

      <section id="updating" aria-hidden="false">
        <h1>Updating App to include Khulnasoft.com</h1>
        <p>
          We're making some updates so Khulnasoft can be used within this
          project.<br />
          This usually takes less than a minute to complete.
        </p>

        <nav>
          <p>
            <a id="completing" class="button" aria-disabled="true" href="#">
              <span id="button-text">Updating</span>
              <span id="button-icon"></span>
            </a>
          </p>
        </nav>
      </section>

      <section id="success" aria-hidden="true">
        <h1 id="success-title">
          Connection Successful
          <div class="check-icon"></div>
        </h1>

        <p>
          Your project is now ready to work with Khulnasoft! You can close this tab
          and return to Khulnasoft or your development project to continue.
        </p>

        <div id="modified-files-message" hidden>
          <p>
            We've made a few updates to your app to help integrate Khulnasoft.com:
          </p>
          <ul id="modified-files-list"></ul>
        </div>

        <p id="restart-warning" hidden>
          Please restart the dev server to ensure the changes take effect, then
          reload this page.
        </p>

        <div id="router-message" hidden>
          <!-- Route message for react -->
          <div id="react-message-section" hidden>
            <span
              >Next, add the following path and component in your React app
              routing setup</span
            >
            <ol id="react-router-steps">
              <li>
                Update path to <strong>'/khulnasoft-demo'</strong> or
                <strong>'/*'</strong>
              </li>
              <li>
                Add <strong>'KhulnasoftPage'</strong> component from
                <code>khulnasoft-page</code> file
              </li>
            </ol>
          </div>

          <!-- Route message for angular -->
          <div id="angular-message-section" hidden>
            <span
              >Next, add the following path for Khulnasoft page in your Angular
              routes</span
            >
            <ol id="angular-router-steps">
              <li>
                Update path to <strong>'khulnasoft-demo'</strong> or
                <strong>'**'</strong>
              </li>
              <li>
                Add <strong>'KhulnasoftPage'</strong> component from
                <code>khulnasoft-page.component</code> file
              </li>
            </ol>
          </div>

          <a id="need-help" href="#" hidden>
            <span id="help-text">Need help?</span>
            <span id="help-icon"></span>
          </a>
          <div id="router-checkbox-div"></div>
        </div>
        <div id="router-finish-button" hidden>
          <a class="button next-step" href="#">
            <span id="button-text">Finish</span>
            <span id="button-icon"></span>
          </a>
        </div>

        <nav id="go-to-app" hidden>
          <p hidden>Your new app is ready for Khulnasoft content! Let's go!</p>
          <p>
            <a class="button next-step" href="#">
              <span id="button-text">Go</span>
              <span id="button-icon"></span>
            </a>
          </p>
        </nav>
      </section>

      <section id="error" aria-hidden="true">
        <h1>Oops!</h1>
        <p>Looks like we tripped up on an issue!</p>
        <ul id="error-messages"></ul>
      </section>

      <section id="restart-server" aria-hidden="true">
        <h1>Please Restart Your Dev Server</h1>
        <p>
          We've made updates to your application, please restart your dev server
          to ensure the changes take effect.
        </p>
        <p>
          <a id="completing" class="button" aria-disabled="true" href="#">
            <span id="button-text">Please restart your dev server</span>
            <span id="button-icon"></span>
          </a>
        </p>
      </section>
    </main>
    <script>"use strict";(()=>{var Ft=\`api-key\`;var Vt=\`p-key\`;var We=\`preview-url\`;var $e=\`user-id\`;var Bt="_b-uid";var qt=\`framework\`;var jt=\`platform\`;var Gt=\`node\`;var Kt="/~khulnasoft-dev-tools";var Qt=\`kind\`;var Wt="__DEV_TOOLS_URL__";var $t=(t,e,r)=>He({type:"connectKhulnasoft",data:{publicApiKey:t,privateAuthKey:e,kind:r}});var Ht=()=>He({type:"validateKhulnasoft"});var Yt=t=>He({type:"launchEditor",data:t});var He=async t=>{const e=new URL(Kt,Wt);let r;try{r=await fetch(e,{method:"POST",body:JSON.stringify(t)})}catch(i){console.error(\`Devtools Fetch Error, \${e.href}\`,i);throw new Error(\`Khulnasoft Devtools Fetch Error\`)}const n=r.headers.get("content-type")||"";if(n.includes("application/json")){const i=await r.json();if(r.ok){return i.data}if(Array.isArray(i.errors)&&i.errors.length>0){i.errors.forEach(o=>console.error(o));throw new Error(\`Khulnasoft Devtools Fetch Error: \${i.errors[0]}\`)}}throw new Error(\`Khulnasoft Devtools Fetch Error: \${r.status}, \${await r.text()}\`)};var Ye=function(t,e){Ye=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))r[i]=n[i]};return Ye(t,e)};function V(t,e){if(typeof e!=="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ye(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var m=function(){m=Object.assign||function t(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return m.apply(this,arguments)};function de(t,e){var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0)r[n]=t[n];if(t!=null&&typeof Object.getOwnPropertySymbols==="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++){if(e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i]))r[n[i]]=t[n[i]]}return r}function f(t,e,r,n){function i(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function l(c){try{s(n.next(c))}catch(d){a(d)}}function u(c){try{s(n["throw"](c))}catch(d){a(d)}}function s(c){c.done?o(c.value):i(c.value).then(l,u)}s((n=n.apply(t,e||[])).next())})}function p(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:l(0),"throw":l(1),"return":l(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(s){return function(c){return u([s,c])}}function u(s){if(n)throw new TypeError("Generator is already executing.");while(a&&(a=0,s[0]&&(r=0)),r)try{if(n=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;i=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1];o=s;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(s);break}if(o[2])r.ops.pop();r.trys.pop();continue}s=e.call(t,r)}catch(c){s=[6,c];i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}}function G(t){var e=typeof Symbol==="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length==="number")return{next:function(){if(t&&n>=t.length)t=void 0;return{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function x(t,e){var r=typeof Symbol==="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],a;try{while((e===void 0||e-- >0)&&!(i=n.next()).done)o.push(i.value)}catch(l){a={error:l}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return o}function q(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++){if(o||!(n in e)){if(!o)o=Array.prototype.slice.call(e,0,n);o[n]=e[n]}}return t.concat(o||Array.prototype.slice.call(e))}var Xt="Event tracked successfully";var zt="Unexpected error occurred";var Zt="Event rejected due to exceeded retry count";var Jt="Event skipped due to optOut config";var er="Event rejected due to missing API key";var tr="Invalid API key";var rr="Client not initialized";var D;(function(t){t["SET"]="$set";t["SET_ONCE"]="$setOnce";t["ADD"]="$add";t["APPEND"]="$append";t["PREPEND"]="$prepend";t["REMOVE"]="$remove";t["PREINSERT"]="$preInsert";t["POSTINSERT"]="$postInsert";t["UNSET"]="$unset";t["CLEAR_ALL"]="$clearAll"})(D||(D={}));var W;(function(t){t["REVENUE_PRODUCT_ID"]="$productId";t["REVENUE_QUANTITY"]="$quantity";t["REVENUE_PRICE"]="$price";t["REVENUE_TYPE"]="$revenueType";t["REVENUE"]="$revenue"})(W||(W={}));var X;(function(t){t["IDENTIFY"]="$identify";t["GROUP_IDENTIFY"]="$groupidentify";t["REVENUE"]="revenue_amount"})(X||(X={}));var U;(function(t){t[t["None"]=0]="None";t[t["Error"]=1]="Error";t[t["Warn"]=2]="Warn";t[t["Verbose"]=3]="Verbose";t[t["Debug"]=4]="Debug"})(U||(U={}));var P;(function(t){t["Unknown"]="unknown";t["Skipped"]="skipped";t["Success"]="success";t["RateLimit"]="rate_limit";t["PayloadTooLarge"]="payload_too_large";t["Invalid"]="invalid";t["Failed"]="failed";t["Timeout"]="Timeout";t["SystemError"]="SystemError"})(P||(P={}));var Xe=null;var $=function(t,e,r){if(e===void 0){e=0}if(r===void 0){r=P.Unknown}return{event:t,code:e,message:r}};var K=function(t){return t?(t^Math.random()*16>>t/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,K)};var nr=function(){function t(e){this.client=e;this.queue=[];this.applying=false;this.plugins=[]}t.prototype.register=function(e,r){var n,i,o;return f(this,void 0,void 0,function(){return p(this,function(a){switch(a.label){case 0:e.name=(n=e.name)!==null&&n!==void 0?n:K();e.type=(i=e.type)!==null&&i!==void 0?i:"enrichment";return[4,(o=e.setup)===null||o===void 0?void 0:o.call(e,r,this.client)];case 1:a.sent();this.plugins.push(e);return[2]}})})};t.prototype.deregister=function(e){var r;return f(this,void 0,void 0,function(){var n,i;return p(this,function(o){switch(o.label){case 0:n=this.plugins.findIndex(function(a){return a.name===e});i=this.plugins[n];this.plugins.splice(n,1);return[4,(r=i.teardown)===null||r===void 0?void 0:r.call(i)];case 1:o.sent();return[2]}})})};t.prototype.reset=function(e){this.applying=false;var r=this.plugins;r.map(function(n){var i;return(i=n.teardown)===null||i===void 0?void 0:i.call(n)});this.plugins=[];this.client=e};t.prototype.push=function(e){var r=this;return new Promise(function(n){r.queue.push([e,n]);r.scheduleApply(0)})};t.prototype.scheduleApply=function(e){var r=this;if(this.applying)return;this.applying=true;setTimeout(function(){void r.apply(r.queue.shift()).then(function(){r.applying=false;if(r.queue.length>0){r.scheduleApply(0)}})},e)};t.prototype.apply=function(e){return f(this,void 0,void 0,function(){var r,n,i,o,a,l,u,y,h,s,c,d,v,y,h,E,g,_;var S,I,L,F;return p(this,function(T){switch(T.label){case 0:if(!e){return[2]}r=x(e,1),n=r[0];i=x(e,2),o=i[1];a=this.plugins.filter(function(w){return w.type==="before"});T.label=1;case 1:T.trys.push([1,6,7,8]);l=G(a),u=l.next();T.label=2;case 2:if(!!u.done)return[3,5];y=u.value;if(!y.execute){return[3,4]}return[4,y.execute(m({},n))];case 3:h=T.sent();if(h===null){o({event:n,code:0,message:""});return[2]}else{n=h}T.label=4;case 4:u=l.next();return[3,2];case 5:return[3,8];case 6:s=T.sent();S={error:s};return[3,8];case 7:try{if(u&&!u.done&&(I=l.return))I.call(l)}finally{if(S)throw S.error}return[7];case 8:c=this.plugins.filter(function(w){return w.type==="enrichment"||w.type===void 0});T.label=9;case 9:T.trys.push([9,14,15,16]);d=G(c),v=d.next();T.label=10;case 10:if(!!v.done)return[3,13];y=v.value;if(!y.execute){return[3,12]}return[4,y.execute(m({},n))];case 11:h=T.sent();if(h===null){o({event:n,code:0,message:""});return[2]}else{n=h}T.label=12;case 12:v=d.next();return[3,10];case 13:return[3,16];case 14:E=T.sent();L={error:E};return[3,16];case 15:try{if(v&&!v.done&&(F=d.return))F.call(d)}finally{if(L)throw L.error}return[7];case 16:g=this.plugins.filter(function(w){return w.type==="destination"});_=g.map(function(w){var k=m({},n);return w.execute(k).catch(function(M){return $(k,0,String(M))})});void Promise.all(_).then(function(w){var k=x(w,1),M=k[0];var Q=M||$(n,100,"Event not tracked, no destination plugins on the instance");o(Q)});return[2]}})})};t.prototype.flush=function(){return f(this,void 0,void 0,function(){var e,r,n;var i=this;return p(this,function(o){switch(o.label){case 0:e=this.queue;this.queue=[];return[4,Promise.all(e.map(function(a){return i.apply(a)}))];case 1:o.sent();r=this.plugins.filter(function(a){return a.type==="destination"});n=r.map(function(a){return a.flush&&a.flush()});return[4,Promise.all(n)];case 2:o.sent();return[2]}})})};return t}();var ze="-";var re="AMP";var Ze="".concat(re,"_unsent");var Je="https://api2.amplitude.com/2/httpapi";var ir="https://api.eu.amplitude.com/2/httpapi";var or="https://api2.amplitude.com/batch";var ar="https://api.eu.amplitude.com/batch";var Xr=1e3;var be=function(t){if(Object.keys(t).length>Xr){return false}for(var e in t){var r=t[e];if(!et(e,r))return false}return true};var et=function(t,e){var r,n;if(typeof t!=="string")return false;if(Array.isArray(e)){var i=true;try{for(var o=G(e),a=o.next();!a.done;a=o.next()){var l=a.value;if(Array.isArray(l)){return false}else if(typeof l==="object"){i=i&&be(l)}else if(!["number","string"].includes(typeof l)){return false}if(!i){return false}}}catch(u){r={error:u}}finally{try{if(a&&!a.done&&(n=o.return))n.call(o)}finally{if(r)throw r.error}}}else if(e===null||e===void 0){return false}else if(typeof e==="object"){return be(e)}else if(!["number","string","boolean"].includes(typeof e)){return false}return true};var z=function(){function t(){this._propertySet=new Set;this._properties={}}t.prototype.getUserProperties=function(){return m({},this._properties)};t.prototype.set=function(e,r){this._safeSet(D.SET,e,r);return this};t.prototype.setOnce=function(e,r){this._safeSet(D.SET_ONCE,e,r);return this};t.prototype.append=function(e,r){this._safeSet(D.APPEND,e,r);return this};t.prototype.prepend=function(e,r){this._safeSet(D.PREPEND,e,r);return this};t.prototype.postInsert=function(e,r){this._safeSet(D.POSTINSERT,e,r);return this};t.prototype.preInsert=function(e,r){this._safeSet(D.PREINSERT,e,r);return this};t.prototype.remove=function(e,r){this._safeSet(D.REMOVE,e,r);return this};t.prototype.add=function(e,r){this._safeSet(D.ADD,e,r);return this};t.prototype.unset=function(e){this._safeSet(D.UNSET,e,ze);return this};t.prototype.clearAll=function(){this._properties={};this._properties[D.CLEAR_ALL]=ze;return this};t.prototype._safeSet=function(e,r,n){if(this._validate(e,r,n)){var i=this._properties[e];if(i===void 0){i={};this._properties[e]=i}i[r]=n;this._propertySet.add(r);return true}return false};t.prototype._validate=function(e,r,n){if(this._properties[D.CLEAR_ALL]!==void 0){return false}if(this._propertySet.has(r)){return false}if(e===D.ADD){return typeof n==="number"}if(e!==D.UNSET&&e!==D.REMOVE){return et(r,n)}return true};return t}();var sr=function(t,e,r){var n=typeof t==="string"?{event_type:t}:t;return m(m(m({},n),r),e&&{event_properties:e})};var fe=function(t,e){var r=m(m({},e),{event_type:X.IDENTIFY,user_properties:t.getUserProperties()});return r};var ur=function(t,e,r,n){var i;var o=m(m({},n),{event_type:X.GROUP_IDENTIFY,group_properties:r.getUserProperties(),groups:(i={},i[t]=e,i)});return o};var cr=function(t,e,r){var n;var i=new z;i.set(t,e);var o=m(m({},r),{event_type:X.IDENTIFY,user_properties:i.getUserProperties(),groups:(n={},n[t]=e,n)});return o};var lr=function(t,e){return m(m({},e),{event_type:X.REVENUE,event_properties:t.getEventProperties()})};var B=function(t){return{promise:t||Promise.resolve()}};var tt=function(){function t(e){if(e===void 0){e="$default"}this.initializing=false;this.q=[];this.dispatchQ=[];this.logEvent=this.track.bind(this);this.timeline=new nr(this);this.name=e}t.prototype._init=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:this.config=e;this.timeline.reset(this);return[4,this.runQueuedFunctions("q")];case 1:r.sent();return[2]}})})};t.prototype.runQueuedFunctions=function(e){return f(this,void 0,void 0,function(){var r,n,i,o,a;var l,u;return p(this,function(s){switch(s.label){case 0:r=this[e];this[e]=[];s.label=1;case 1:s.trys.push([1,6,7,8]);n=G(r),i=n.next();s.label=2;case 2:if(!!i.done)return[3,5];o=i.value;return[4,o()];case 3:s.sent();s.label=4;case 4:i=n.next();return[3,2];case 5:return[3,8];case 6:a=s.sent();l={error:a};return[3,8];case 7:try{if(i&&!i.done&&(u=n.return))u.call(n)}finally{if(l)throw l.error}return[7];case 8:return[2]}})})};t.prototype.track=function(e,r,n){var i=sr(e,r,n);return B(this.dispatch(i))};t.prototype.identify=function(e,r){var n=fe(e,r);return B(this.dispatch(n))};t.prototype.groupIdentify=function(e,r,n,i){var o=ur(e,r,n,i);return B(this.dispatch(o))};t.prototype.setGroup=function(e,r,n){var i=cr(e,r,n);return B(this.dispatch(i))};t.prototype.revenue=function(e,r){var n=lr(e,r);return B(this.dispatch(n))};t.prototype.add=function(e){if(!this.config){this.q.push(this.add.bind(this,e));return B()}return B(this.timeline.register(e,this.config))};t.prototype.remove=function(e){if(!this.config){this.q.push(this.remove.bind(this,e));return B()}return B(this.timeline.deregister(e))};t.prototype.dispatchWithCallback=function(e,r){if(!this.config){return r($(e,0,rr))}void this.process(e).then(r)};t.prototype.dispatch=function(e){return f(this,void 0,void 0,function(){var r=this;return p(this,function(n){if(!this.config){return[2,new Promise(function(i){r.dispatchQ.push(r.dispatchWithCallback.bind(r,e,i))})]}return[2,this.process(e)]})})};t.prototype.process=function(e){return f(this,void 0,void 0,function(){var i,r,n,i;return p(this,function(o){switch(o.label){case 0:o.trys.push([0,2,,3]);if(this.config.optOut){return[2,$(e,0,Jt)]}return[4,this.timeline.push(e)];case 1:i=o.sent();i.code===200?this.config.loggerProvider.log(i.message):i.code===100?this.config.loggerProvider.warn(i.message):this.config.loggerProvider.error(i.message);return[2,i];case 2:r=o.sent();n=String(r);this.config.loggerProvider.error(n);i=$(e,0,n);return[2,i];case 3:return[2]}})})};t.prototype.setOptOut=function(e){if(!this.config){this.q.push(this.setOptOut.bind(this,Boolean(e)));return}this.config.optOut=Boolean(e)};t.prototype.flush=function(){return B(this.timeline.flush())};return t}();var rt=function(){function t(){this.productId="";this.quantity=1;this.price=0}t.prototype.setProductId=function(e){this.productId=e;return this};t.prototype.setQuantity=function(e){if(e>0){this.quantity=e}return this};t.prototype.setPrice=function(e){this.price=e;return this};t.prototype.setRevenueType=function(e){this.revenueType=e;return this};t.prototype.setRevenue=function(e){this.revenue=e;return this};t.prototype.setEventProperties=function(e){if(be(e)){this.properties=e}return this};t.prototype.getEventProperties=function(){var e=this.properties?m({},this.properties):{};e[W.REVENUE_PRODUCT_ID]=this.productId;e[W.REVENUE_QUANTITY]=this.quantity;e[W.REVENUE_PRICE]=this.price;e[W.REVENUE_TYPE]=this.revenueType;e[W.REVENUE]=this.revenue;return e};return t}();var dr=function(t,e){var r=Math.max(e,1);return t.reduce(function(n,i,o){var a=Math.floor(o/r);if(!n[a]){n[a]=[]}n[a].push(i);return n},[])};var Ie="Amplitude Logger ";var pe=function(){function t(){this.logLevel=U.None}t.prototype.disable=function(){this.logLevel=U.None};t.prototype.enable=function(e){if(e===void 0){e=U.Warn}this.logLevel=e};t.prototype.log=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Verbose){return}console.log("".concat(Ie,"[Log]: ").concat(e.join(" ")))};t.prototype.warn=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Warn){return}console.warn("".concat(Ie,"[Warn]: ").concat(e.join(" ")))};t.prototype.error=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Error){return}console.error("".concat(Ie,"[Error]: ").concat(e.join(" ")))};t.prototype.debug=function(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}if(this.logLevel<U.Debug){return}console.log("".concat(Ie,"[Debug]: ").concat(e.join(" ")))};return t}();var Se=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:U.Warn,loggerProvider:new pe,offline:false,optOut:false,serverUrl:Je,serverZone:"US",useBatch:false}};var nt=function(){function t(e){var r,n,i,o;this._optOut=false;var a=Se();this.apiKey=e.apiKey;this.flushIntervalMillis=(r=e.flushIntervalMillis)!==null&&r!==void 0?r:a.flushIntervalMillis;this.flushMaxRetries=e.flushMaxRetries||a.flushMaxRetries;this.flushQueueSize=e.flushQueueSize||a.flushQueueSize;this.instanceName=e.instanceName||a.instanceName;this.loggerProvider=e.loggerProvider||a.loggerProvider;this.logLevel=(n=e.logLevel)!==null&&n!==void 0?n:a.logLevel;this.minIdLength=e.minIdLength;this.plan=e.plan;this.ingestionMetadata=e.ingestionMetadata;this.offline=e.offline!==void 0?e.offline:a.offline;this.optOut=(i=e.optOut)!==null&&i!==void 0?i:a.optOut;this.serverUrl=e.serverUrl;this.serverZone=e.serverZone||a.serverZone;this.storageProvider=e.storageProvider;this.transportProvider=e.transportProvider;this.useBatch=(o=e.useBatch)!==null&&o!==void 0?o:a.useBatch;this.loggerProvider.enable(this.logLevel);var l=it(e.serverUrl,e.serverZone,e.useBatch);this.serverZone=l.serverZone;this.serverUrl=l.serverUrl}Object.defineProperty(t.prototype,"optOut",{get:function(){return this._optOut},set:function(e){this._optOut=e},enumerable:false,configurable:true});return t}();var zr=function(t,e){if(t==="EU"){return e?ar:ir}return e?or:Je};var it=function(t,e,r){if(t===void 0){t=""}if(e===void 0){e=Se().serverZone}if(r===void 0){r=Se().useBatch}if(t){return{serverUrl:t,serverZone:void 0}}var n=["US","EU"].includes(e)?e:Se().serverZone;return{serverZone:n,serverUrl:zr(n,r)}};function Zr(t){if(t instanceof Error)return t.message;return String(t)}function Te(t){var e="";try{if("body"in t){e=JSON.stringify(t.body,null,2)}}catch(r){}return e}var ot=function(){function t(){this.name="amplitude";this.type="destination";this.retryTimeout=1e3;this.throttleTimeout=3e4;this.storageKey="";this.scheduled=null;this.queue=[]}t.prototype.setup=function(e){var r;return f(this,void 0,void 0,function(){var n;var i=this;return p(this,function(o){switch(o.label){case 0:this.config=e;this.storageKey="".concat(Ze,"_").concat(this.config.apiKey.substring(0,10));return[4,(r=this.config.storageProvider)===null||r===void 0?void 0:r.get(this.storageKey)];case 1:n=o.sent();this.saveEvents();if(n&&n.length>0){void Promise.all(n.map(function(a){return i.execute(a)})).catch()}return[2,Promise.resolve(void 0)]}})})};t.prototype.execute=function(e){var r=this;return new Promise(function(n){var i={event:e,attempts:0,callback:function(o){return n(o)},timeout:0};void r.addToQueue(i)})};t.prototype.addToQueue=function(){var e=this;var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}var i=r.filter(function(o){if(o.attempts<e.config.flushMaxRetries){o.attempts+=1;return true}void e.fulfillRequest([o],500,Zt);return false});i.forEach(function(o){e.queue=e.queue.concat(o);if(o.timeout===0){e.schedule(e.config.flushIntervalMillis);return}setTimeout(function(){o.timeout=0;e.schedule(0)},o.timeout)});this.saveEvents()};t.prototype.schedule=function(e){var r=this;if(this.scheduled||this.config.offline){return}this.scheduled=setTimeout(function(){void r.flush(true).then(function(){if(r.queue.length>0){r.schedule(e)}})},e)};t.prototype.flush=function(e){if(e===void 0){e=false}return f(this,void 0,void 0,function(){var r,n,i;var o=this;return p(this,function(a){switch(a.label){case 0:if(this.config.offline){this.config.loggerProvider.debug("Skipping flush while offline.");return[2]}r=[];n=[];this.queue.forEach(function(l){return l.timeout===0?r.push(l):n.push(l)});this.queue=n;if(this.scheduled){clearTimeout(this.scheduled);this.scheduled=null}i=dr(r,this.config.flushQueueSize);return[4,Promise.all(i.map(function(l){return o.send(l,e)}))];case 1:a.sent();return[2]}})})};t.prototype.send=function(e,r){if(r===void 0){r=true}return f(this,void 0,void 0,function(){var n,i,o,a,l;return p(this,function(u){switch(u.label){case 0:if(!this.config.apiKey){return[2,this.fulfillRequest(e,400,er)]}n={api_key:this.config.apiKey,events:e.map(function(s){var c=s.event,d=c.extra,v=de(c,["extra"]);return v}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString()};u.label=1;case 1:u.trys.push([1,3,,4]);i=it(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl;return[4,this.config.transportProvider.send(i,n)];case 2:o=u.sent();if(o===null){this.fulfillRequest(e,0,zt);return[2]}if(!r){if("body"in o){this.fulfillRequest(e,o.statusCode,"".concat(o.status,": ").concat(Te(o)))}else{this.fulfillRequest(e,o.statusCode,o.status)}return[2]}this.handleResponse(o,e);return[3,4];case 3:a=u.sent();l=Zr(a);this.config.loggerProvider.error(l);this.fulfillRequest(e,0,l);return[3,4];case 4:return[2]}})})};t.prototype.handleResponse=function(e,r){var n=e.status;switch(n){case P.Success:{this.handleSuccessResponse(e,r);break}case P.Invalid:{this.handleInvalidResponse(e,r);break}case P.PayloadTooLarge:{this.handlePayloadTooLargeResponse(e,r);break}case P.RateLimit:{this.handleRateLimitResponse(e,r);break}default:{this.config.loggerProvider.warn(\`{code: 0, error: "Status '\`.concat(n,"' provided for ").concat(r.length,' events"}'));this.handleOtherResponse(r);break}}};t.prototype.handleSuccessResponse=function(e,r){this.fulfillRequest(r,e.statusCode,Xt)};t.prototype.handleInvalidResponse=function(e,r){var n=this;if(e.body.missingField||e.body.error.startsWith(tr)){this.fulfillRequest(r,e.statusCode,e.body.error);return}var i=q(q(q(q([],x(Object.values(e.body.eventsWithInvalidFields)),false),x(Object.values(e.body.eventsWithMissingFields)),false),x(Object.values(e.body.eventsWithInvalidIdLengths)),false),x(e.body.silencedEvents),false).flat();var o=new Set(i);var a=r.filter(function(l,u){if(o.has(u)){n.fulfillRequest([l],e.statusCode,e.body.error);return}return true});if(a.length>0){this.config.loggerProvider.warn(Te(e))}this.addToQueue.apply(this,q([],x(a),false))};t.prototype.handlePayloadTooLargeResponse=function(e,r){if(r.length===1){this.fulfillRequest(r,e.statusCode,e.body.error);return}this.config.loggerProvider.warn(Te(e));this.config.flushQueueSize/=2;this.addToQueue.apply(this,q([],x(r),false))};t.prototype.handleRateLimitResponse=function(e,r){var n=this;var i=Object.keys(e.body.exceededDailyQuotaUsers);var o=Object.keys(e.body.exceededDailyQuotaDevices);var a=e.body.throttledEvents;var l=new Set(i);var u=new Set(o);var s=new Set(a);var c=r.filter(function(d,v){if(d.event.user_id&&l.has(d.event.user_id)||d.event.device_id&&u.has(d.event.device_id)){n.fulfillRequest([d],e.statusCode,e.body.error);return}if(s.has(v)){d.timeout=n.throttleTimeout}return true});if(c.length>0){this.config.loggerProvider.warn(Te(e))}this.addToQueue.apply(this,q([],x(c),false))};t.prototype.handleOtherResponse=function(e){var r=this;this.addToQueue.apply(this,q([],x(e.map(function(n){n.timeout=n.attempts*r.retryTimeout;return n})),false))};t.prototype.fulfillRequest=function(e,r,n){this.saveEvents();e.forEach(function(i){return i.callback($(i.event,r,n))})};t.prototype.saveEvents=function(){if(!this.config.storageProvider){return}var e=Array.from(this.queue.map(function(r){return r.event}));void this.config.storageProvider.set(this.storageKey,e)};return t}();var Jr=function(t){if(t===void 0){t=0}var e=new Error().stack||"";return e.split("\\n").slice(2+t).map(function(r){return r.trim()})};var A=function(t){return function(){var e=m({},t.config),r=e.loggerProvider,n=e.logLevel;return{logger:r,logLevel:n}}};var en=function(t,e){var r,n;e=e.replace(/\\[(\\w+)\\]/g,".$1");e=e.replace(/^\\./,"");try{for(var i=G(e.split(".")),o=i.next();!o.done;o=i.next()){var a=o.value;if(a in t){t=t[a]}else{return}}}catch(l){r={error:l}}finally{try{if(o&&!o.done&&(n=i.return))n.call(i)}finally{if(r)throw r.error}}return t};var R=function(t,e){return function(){var r,n;var i={};try{for(var o=G(e),a=o.next();!a.done;a=o.next()){var l=a.value;i[l]=en(t,l)}}catch(u){r={error:u}}finally{try{if(a&&!a.done&&(n=o.return))n.call(o)}finally{if(r)throw r.error}}return i}};var C=function(t,e,r,n,i){if(i===void 0){i=null}return function(){var o=[];for(var a=0;a<arguments.length;a++){o[a]=arguments[a]}var l=r(),u=l.logger,s=l.logLevel;if(s&&s<U.Debug||!s||!u){return t.apply(i,o)}var c={type:"invoke public method",name:e,args:o,stacktrace:Jr(1),time:{start:new Date().toISOString()},states:{}};if(n&&c.states){c.states.before=n()}var d=t.apply(i,o);if(d&&d.promise){d.promise.then(function(){if(n&&c.states){c.states.after=n()}if(c.time){c.time.end=new Date().toISOString()}u.debug(JSON.stringify(c,null,2))})}else{if(n&&c.states){c.states.after=n()}if(c.time){c.time.end=new Date().toISOString()}u.debug(JSON.stringify(c,null,2))}return d}};var we=function(){function t(){this.memoryStorage=new Map}t.prototype.isEnabled=function(){return f(this,void 0,void 0,function(){return p(this,function(e){return[2,true]})})};t.prototype.get=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){return[2,this.memoryStorage.get(e)]})})};t.prototype.getRaw=function(e){return f(this,void 0,void 0,function(){var r;return p(this,function(n){switch(n.label){case 0:return[4,this.get(e)];case 1:r=n.sent();return[2,r?JSON.stringify(r):void 0]}})})};t.prototype.set=function(e,r){return f(this,void 0,void 0,function(){return p(this,function(n){this.memoryStorage.set(e,r);return[2]})})};t.prototype.remove=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){this.memoryStorage.delete(e);return[2]})})};t.prototype.reset=function(){return f(this,void 0,void 0,function(){return p(this,function(e){this.memoryStorage.clear();return[2]})})};return t}();var ne=function(){function t(){}t.prototype.send=function(e,r){return Promise.resolve(null)};t.prototype.buildResponse=function(e){var r,n,i,o,a,l,u,s,c,d,v,y,h,E,g,_,S,I,L,F,T,w;if(typeof e!=="object"){return null}var k=e.code||0;var M=this.buildStatus(k);switch(M){case P.Success:return{status:M,statusCode:k,body:{eventsIngested:(r=e.events_ingested)!==null&&r!==void 0?r:0,payloadSizeBytes:(n=e.payload_size_bytes)!==null&&n!==void 0?n:0,serverUploadTime:(i=e.server_upload_time)!==null&&i!==void 0?i:0}};case P.Invalid:return{status:M,statusCode:k,body:{error:(o=e.error)!==null&&o!==void 0?o:"",missingField:(a=e.missing_field)!==null&&a!==void 0?a:"",eventsWithInvalidFields:(l=e.events_with_invalid_fields)!==null&&l!==void 0?l:{},eventsWithMissingFields:(u=e.events_with_missing_fields)!==null&&u!==void 0?u:{},eventsWithInvalidIdLengths:(s=e.events_with_invalid_id_lengths)!==null&&s!==void 0?s:{},epsThreshold:(c=e.eps_threshold)!==null&&c!==void 0?c:0,exceededDailyQuotaDevices:(d=e.exceeded_daily_quota_devices)!==null&&d!==void 0?d:{},silencedDevices:(v=e.silenced_devices)!==null&&v!==void 0?v:[],silencedEvents:(y=e.silenced_events)!==null&&y!==void 0?y:[],throttledDevices:(h=e.throttled_devices)!==null&&h!==void 0?h:{},throttledEvents:(E=e.throttled_events)!==null&&E!==void 0?E:[]}};case P.PayloadTooLarge:return{status:M,statusCode:k,body:{error:(g=e.error)!==null&&g!==void 0?g:""}};case P.RateLimit:return{status:M,statusCode:k,body:{error:(_=e.error)!==null&&_!==void 0?_:"",epsThreshold:(S=e.eps_threshold)!==null&&S!==void 0?S:0,throttledDevices:(I=e.throttled_devices)!==null&&I!==void 0?I:{},throttledUsers:(L=e.throttled_users)!==null&&L!==void 0?L:{},exceededDailyQuotaDevices:(F=e.exceeded_daily_quota_devices)!==null&&F!==void 0?F:{},exceededDailyQuotaUsers:(T=e.exceeded_daily_quota_users)!==null&&T!==void 0?T:{},throttledEvents:(w=e.throttled_events)!==null&&w!==void 0?w:[]}};case P.Timeout:default:return{status:M,statusCode:k}}};t.prototype.buildStatus=function(e){if(e>=200&&e<300){return P.Success}if(e===429){return P.RateLimit}if(e===413){return P.PayloadTooLarge}if(e===408){return P.Timeout}if(e>=400&&e<500){return P.Invalid}if(e>=500){return P.Failed}return P.Unknown};return t}();var N=function(){if(typeof globalThis!=="undefined"){return globalThis}if(typeof window!=="undefined"){return window}if(typeof self!=="undefined"){return self}if(typeof global!=="undefined"){return global}return void 0};var se=function(){var t;var e=N();if(!((t=e===null||e===void 0?void 0:e.location)===null||t===void 0?void 0:t.search)){return{}}var r=e.location.search.substring(1).split("&").filter(Boolean);var n=r.reduce(function(i,o){var a=o.split("=",2);var l=fr(a[0]);var u=fr(a[1]);if(!u){return i}i[l]=u;return i},{});return n};var fr=function(t){if(t===void 0){t=""}try{return decodeURIComponent(t)}catch(e){return""}};var pr="utm_campaign";var vr="utm_content";var hr="utm_id";var gr="utm_medium";var mr="utm_source";var yr="utm_term";var at="dclid";var st="fbclid";var ut="gbraid";var ct="gclid";var lt="ko_click_id";var dt="li_fat_id";var ft="msclkid";var pt="rtd_cid";var vt="ttclid";var ht="twclid";var gt="wbraid";var ie={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0};var ve=function(){function t(){}t.prototype.parse=function(){return f(this,void 0,void 0,function(){return p(this,function(e){return[2,m(m(m(m({},ie),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})};t.prototype.getUtmParam=function(){var e=se();var r=e[pr];var n=e[vr];var i=e[hr];var o=e[gr];var a=e[mr];var l=e[yr];return{utm_campaign:r,utm_content:n,utm_id:i,utm_medium:o,utm_source:a,utm_term:l}};t.prototype.getReferrer=function(){var e,r;var n={referrer:void 0,referring_domain:void 0};try{n.referrer=document.referrer||void 0;n.referring_domain=(r=(e=n.referrer)===null||e===void 0?void 0:e.split("/")[2])!==null&&r!==void 0?r:void 0}catch(i){}return n};t.prototype.getClickIds=function(){var e;var r=se();return e={},e[at]=r[at],e[st]=r[st],e[ut]=r[ut],e[ct]=r[ct],e[lt]=r[lt],e[dt]=r[dt],e[ft]=r[ft],e[pt]=r[pt],e[vt]=r[vt],e[ht]=r[ht],e[gt]=r[gt],e};return t}();var xe=function(t,e,r){if(e===void 0){e=""}if(r===void 0){r=10}return[re,e,t.substring(0,r)].filter(Boolean).join("_")};var mt=function(t){return"".concat(re.toLowerCase(),"_").concat(t.substring(0,6))};var he=function(t,e){if(e===void 0){e=Date.now()}var r=Date.now();var n=r-e;return n>t};var ge=function(){function t(e){this.options=m({},e)}t.prototype.isEnabled=function(){return f(this,void 0,void 0,function(){var e,r,n,i;return p(this,function(o){switch(o.label){case 0:if(!N()){return[2,false]}t.testValue=String(Date.now());e=new t(this.options);r="AMP_TEST";o.label=1;case 1:o.trys.push([1,4,5,7]);return[4,e.set(r,t.testValue)];case 2:o.sent();return[4,e.get(r)];case 3:n=o.sent();return[2,n===t.testValue];case 4:i=o.sent();return[2,false];case 5:return[4,e.remove(r)];case 6:o.sent();return[7];case 7:return[2]}})})};t.prototype.get=function(e){return f(this,void 0,void 0,function(){var r;return p(this,function(n){switch(n.label){case 0:return[4,this.getRaw(e)];case 1:r=n.sent();if(!r){return[2,void 0]}try{try{r=decodeURIComponent(atob(r))}catch(i){}return[2,JSON.parse(r)]}catch(i){return[2,void 0]}return[2]}})})};t.prototype.getRaw=function(e){var r,n;return f(this,void 0,void 0,function(){var i,o,a;return p(this,function(l){i=N();o=(n=(r=i===null||i===void 0?void 0:i.document)===null||r===void 0?void 0:r.cookie.split("; "))!==null&&n!==void 0?n:[];a=o.find(function(u){return u.indexOf(e+"=")===0});if(!a){return[2,void 0]}return[2,a.substring(e.length+1)]})})};t.prototype.set=function(e,r){var n;return f(this,void 0,void 0,function(){var i,o,a,l,u,s;return p(this,function(c){try{i=(n=this.options.expirationDays)!==null&&n!==void 0?n:0;o=r!==null?i:-1;a=void 0;if(o){l=new Date;l.setTime(l.getTime()+o*24*60*60*1e3);a=l}u="".concat(e,"=").concat(btoa(encodeURIComponent(JSON.stringify(r))));if(a){u+="; expires=".concat(a.toUTCString())}u+="; path=/";if(this.options.domain){u+="; domain=".concat(this.options.domain)}if(this.options.secure){u+="; Secure"}if(this.options.sameSite){u+="; SameSite=".concat(this.options.sameSite)}s=N();if(s){s.document.cookie=u}}catch(d){}return[2]})})};t.prototype.remove=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){switch(r.label){case 0:return[4,this.set(e,null)];case 1:r.sent();return[2]}})})};t.prototype.reset=function(){return f(this,void 0,void 0,function(){return p(this,function(e){return[2]})})};return t}();var yt=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.send=function(r,n){return f(this,void 0,void 0,function(){var i,o,a;return p(this,function(l){switch(l.label){case 0:if(typeof fetch==="undefined"){throw new Error("FetchTransport is not supported")}i={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(n),method:"POST"};return[4,fetch(r,i)];case 1:o=l.sent();return[4,o.json()];case 2:a=l.sent();return[2,this.buildResponse(a)]}})})};return e}(ne);var tn=function(){function t(){}t.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:rn(),platform:"Web",os:void 0,deviceModel:void 0}};return t}();var rn=function(){return typeof navigator!=="undefined"&&(navigator.languages&&navigator.languages[0]||navigator.language)||""};var nn=function(){function t(){this.queue=[]}t.prototype.logEvent=function(e){if(!this.receiver){if(this.queue.length<512){this.queue.push(e)}}else{this.receiver(e)}};t.prototype.setEventReceiver=function(e){this.receiver=e;if(this.queue.length>0){this.queue.forEach(function(r){e(r)});this.queue=[]}};return t}();var Z=function(){Z=Object.assign||function t(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o))e[o]=r[o]}return e};return Z.apply(this,arguments)};var Pe=function(t,e){var r=["string","number","boolean","undefined"];var n=typeof t;var i=typeof e;if(n!==i){return false}for(var o=0,a=r;o<a.length;o++){var l=a[o];if(l===n){return t===e}}if(t==null&&e==null){return true}else if(t==null||e==null){return false}if(t.length!==e.length){return false}var u=Array.isArray(t);var s=Array.isArray(e);if(u!==s){return false}if(u&&s){for(var c=0;c<t.length;c++){if(!Pe(t[c],e[c])){return false}}}else{var d=Object.keys(t).sort();var v=Object.keys(e).sort();if(!Pe(d,v)){return false}var y=true;Object.keys(t).forEach(function(h){if(!Pe(t[h],e[h])){y=false}});return y}return true};var on="$set";var an="$unset";var sn="$clearAll";if(!Object.entries){Object.entries=function(t){var e=Object.keys(t);var r=e.length;var n=new Array(r);while(r--){n[r]=[e[r],t[e[r]]]}return n}}var un=function(){function t(){this.identity={userProperties:{}};this.listeners=new Set}t.prototype.editIdentity=function(){var e=this;var r=Z({},this.identity.userProperties);var n=Z(Z({},this.identity),{userProperties:r});return{setUserId:function(i){n.userId=i;return this},setDeviceId:function(i){n.deviceId=i;return this},setUserProperties:function(i){n.userProperties=i;return this},setOptOut:function(i){n.optOut=i;return this},updateUserProperties:function(i){var o=n.userProperties||{};for(var a=0,l=Object.entries(i);a<l.length;a++){var u=l[a],s=u[0],c=u[1];switch(s){case on:for(var d=0,v=Object.entries(c);d<v.length;d++){var y=v[d],h=y[0],E=y[1];o[h]=E}break;case an:for(var g=0,_=Object.keys(c);g<_.length;g++){var h=_[g];delete o[h]}break;case sn:o={};break}}n.userProperties=o;return this},commit:function(){e.setIdentity(n);return this}}};t.prototype.getIdentity=function(){return Z({},this.identity)};t.prototype.setIdentity=function(e){var r=Z({},this.identity);this.identity=Z({},e);if(!Pe(r,this.identity)){this.listeners.forEach(function(n){n(e)})}};t.prototype.addIdentityListener=function(e){this.listeners.add(e)};t.prototype.removeIdentityListener=function(e){this.listeners.delete(e)};return t}();var me=typeof globalThis!=="undefined"?globalThis:typeof global!=="undefined"?global:self;var _r=function(){function t(){this.identityStore=new un;this.eventBridge=new nn;this.applicationContextProvider=new tn}t.getInstance=function(e){if(!me["analyticsConnectorInstances"]){me["analyticsConnectorInstances"]={}}if(!me["analyticsConnectorInstances"][e]){me["analyticsConnectorInstances"][e]=new t}return me["analyticsConnectorInstances"][e]};return t}();var J=function(t){if(t===void 0){t="$default_instance"}return _r.getInstance(t)};var _t=function(t,e){J(e).identityStore.editIdentity().setUserId(t).commit()};var Et=function(t,e){J(e).identityStore.editIdentity().setDeviceId(t).commit()};var bt=function(){function t(){this.name="identity";this.type="before";this.identityStore=J().identityStore}t.prototype.execute=function(e){return f(this,void 0,void 0,function(){var r;return p(this,function(n){r=e.user_properties;if(r){this.identityStore.editIdentity().updateUserProperties(r).commit()}return[2,e]})})};t.prototype.setup=function(e){return f(this,void 0,void 0,function(){return p(this,function(r){if(e.instanceName){this.identityStore=J(e.instanceName).identityStore}return[2]})})};return t}();var It=function(){var t,e,r,n;if(typeof navigator==="undefined")return"";var i=navigator.userLanguage;return(n=(r=(e=(t=navigator.languages)===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:navigator.language)!==null&&r!==void 0?r:i)!==null&&n!==void 0?n:""};var ye=function(t,e){if(typeof t==="boolean"){return t}if((t===null||t===void 0?void 0:t[e])===false){return false}return true};var Ae=function(t){return ye(t,"attribution")};var St=function(t){return ye(t,"fileDownloads")};var Tt=function(t){return ye(t,"formInteractions")};var Re=function(t){return ye(t,"pageViews")};var wt=function(t){return ye(t,"sessions")};var xt=function(t){var e=function(){return false};var r=void 0;var n;var i=t.pageCounter;var o=Re(t.defaultTracking);if(o){e=void 0;n=void 0;if(t.defaultTracking&&typeof t.defaultTracking==="object"&&t.defaultTracking.pageViews&&typeof t.defaultTracking.pageViews==="object"){if("trackOn"in t.defaultTracking.pageViews){e=t.defaultTracking.pageViews.trackOn}if("trackHistoryChanges"in t.defaultTracking.pageViews){r=t.defaultTracking.pageViews.trackHistoryChanges}if("eventType"in t.defaultTracking.pageViews&&t.defaultTracking.pageViews.eventType){n=t.defaultTracking.pageViews.eventType}}}return{trackOn:e,trackHistoryChanges:r,eventType:n,pageCounter:i}};var Pt=function(t){if(Ae(t.defaultTracking)&&t.defaultTracking&&typeof t.defaultTracking==="object"&&t.defaultTracking.attribution&&typeof t.defaultTracking.attribution==="object"){return m({},t.defaultTracking.attribution)}return{}};var Ce=function(t,e){for(var r=0;r<e.length;r++){var n=e[r],i=n.name,o=n.args,a=n.resolve;var l=t&&t[i];if(typeof l==="function"){var u=l.apply(t,o);if(typeof a==="function"){a(u===null||u===void 0?void 0:u.promise)}}}return t};var De=function(t){var e=t;return e&&e._q!==void 0};var Er="2.5.2";var cn="Web";var ln="$remote";var br=function(){function t(){this.name="@amplitude/plugin-context-browser";this.type="before";this.library="amplitude-ts/".concat(Er);if(typeof navigator!=="undefined"){this.userAgent=navigator.userAgent}}t.prototype.setup=function(e){this.config=e;return Promise.resolve(void 0)};t.prototype.execute=function(e){var r,n;return f(this,void 0,void 0,function(){var i,o,a,l;return p(this,function(u){i=new Date().getTime();o=(r=this.config.lastEventId)!==null&&r!==void 0?r:-1;a=(n=e.event_id)!==null&&n!==void 0?n:o+1;this.config.lastEventId=a;if(!e.time){this.config.lastEventTime=i}l=m(m(m(m(m(m(m(m({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:i},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:cn}),this.config.trackingOptions.language&&{language:It()}),this.config.trackingOptions.ipAddress&&{ip:ln}),{insert_id:K(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),e),{event_id:a,library:this.library,user_agent:this.userAgent});return[2,l]})})};return t}();var Oe=function(){function t(e){this.storage=e}t.prototype.isEnabled=function(){return f(this,void 0,void 0,function(){var e,r,n,i,o;return p(this,function(a){switch(a.label){case 0:if(!this.storage){return[2,false]}e=String(Date.now());r=new t(this.storage);n="AMP_TEST";a.label=1;case 1:a.trys.push([1,4,5,7]);return[4,r.set(n,e)];case 2:a.sent();return[4,r.get(n)];case 3:i=a.sent();return[2,i===e];case 4:o=a.sent();return[2,false];case 5:return[4,r.remove(n)];case 6:a.sent();return[7];case 7:return[2]}})})};t.prototype.get=function(e){return f(this,void 0,void 0,function(){var r,n;return p(this,function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,this.getRaw(e)];case 1:r=i.sent();if(!r){return[2,void 0]}return[2,JSON.parse(r)];case 2:n=i.sent();console.error("[Amplitude] Error: Could not get value from storage");return[2,void 0];case 3:return[2]}})})};t.prototype.getRaw=function(e){var r;return f(this,void 0,void 0,function(){return p(this,function(n){return[2,((r=this.storage)===null||r===void 0?void 0:r.getItem(e))||void 0]})})};t.prototype.set=function(e,r){var n;return f(this,void 0,void 0,function(){return p(this,function(i){try{(n=this.storage)===null||n===void 0?void 0:n.setItem(e,JSON.stringify(r))}catch(o){}return[2]})})};t.prototype.remove=function(e){var r;return f(this,void 0,void 0,function(){return p(this,function(n){try{(r=this.storage)===null||r===void 0?void 0:r.removeItem(e)}catch(i){}return[2]})})};t.prototype.reset=function(){var e;return f(this,void 0,void 0,function(){return p(this,function(r){try{(e=this.storage)===null||e===void 0?void 0:e.clear()}catch(n){}return[2]})})};return t}();var Le=1e3;var At=function(t){V(e,t);function e(r){var n=this;var i;n=t.call(this,(i=N())===null||i===void 0?void 0:i.localStorage)||this;n.loggerProvider=r===null||r===void 0?void 0:r.loggerProvider;return n}e.prototype.set=function(r,n){var i;return f(this,void 0,void 0,function(){var o;return p(this,function(a){switch(a.label){case 0:if(!(Array.isArray(n)&&n.length>Le))return[3,2];o=n.length-Le;return[4,t.prototype.set.call(this,r,n.slice(0,Le))];case 1:a.sent();(i=this.loggerProvider)===null||i===void 0?void 0:i.error("Failed to save ".concat(o," events because the queue length exceeded ").concat(Le,"."));return[3,4];case 2:return[4,t.prototype.set.call(this,r,n)];case 3:a.sent();a.label=4;case 4:return[2]}})})};return e}(Oe);var Ir=function(t){V(e,t);function e(){var r;return t.call(this,(r=N())===null||r===void 0?void 0:r.sessionStorage)||this}return e}(Oe);var Sr=function(t){V(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;r.state={done:4};return r}e.prototype.send=function(r,n){return f(this,void 0,void 0,function(){var i=this;return p(this,function(o){return[2,new Promise(function(a,l){if(typeof XMLHttpRequest==="undefined"){l(new Error("XHRTransport is not supported."))}var u=new XMLHttpRequest;u.open("POST",r,true);u.onreadystatechange=function(){if(u.readyState===i.state.done){try{var s=u.responseText;var c=JSON.parse(s);var d=i.buildResponse(c);a(d)}catch(v){l(v)}}};u.setRequestHeader("Content-Type","application/json");u.setRequestHeader("Accept","*/*");u.send(JSON.stringify(n))})]})})};return e}(ne);var Tr=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.send=function(r,n){return f(this,void 0,void 0,function(){var i=this;return p(this,function(o){return[2,new Promise(function(a,l){var u=N();if(!(u===null||u===void 0?void 0:u.navigator.sendBeacon)){throw new Error("SendBeaconTransport is not supported")}try{var s=JSON.stringify(n);var c=u.navigator.sendBeacon(r,JSON.stringify(n));if(c){return a(i.buildResponse({code:200,events_ingested:n.events.length,payload_size_bytes:s.length,server_upload_time:Date.now()}))}return a(i.buildResponse({code:500}))}catch(d){l(d)}})]})})};return e}(ne);var wr=function(t,e,r){if(r===void 0){r=true}return f(void 0,void 0,void 0,function(){var n,i,o,a,l,u,s,c,d;return p(this,function(v){switch(v.label){case 0:n=mt(t);return[4,e.getRaw(n)];case 1:i=v.sent();if(!i){return[2,{optOut:false}]}if(!r)return[3,3];return[4,e.remove(n)];case 2:v.sent();v.label=3;case 3:o=x(i.split("."),6),a=o[0],l=o[1],u=o[2],s=o[3],c=o[4],d=o[5];return[2,{deviceId:a,userId:dn(l),sessionId:Rt(s),lastEventId:Rt(d),lastEventTime:Rt(c),optOut:Boolean(u)}]}})})};var Rt=function(t){var e=parseInt(t,32);if(isNaN(e)){return void 0}return e};var dn=function(t){if(!atob||!escape||!t){return void 0}try{return decodeURIComponent(escape(atob(t)))}catch(e){return void 0}};var j="[Amplitude]";var pa="".concat(j," Page Viewed");var Ct="".concat(j," Form Started");var xr="".concat(j," Form Submitted");var Pr="".concat(j," File Downloaded");var Dt="session_start";var Ot="session_end";var Ar="".concat(j," File Extension");var Rr="".concat(j," File Name");var Cr="".concat(j," Link ID");var Dr="".concat(j," Link Text");var Or="".concat(j," Link URL");var ke="".concat(j," Form ID");var Ue="".concat(j," Form Name");var Ne="".concat(j," Form Destination");var _e="cookie";var Lr="US";var fn=function(t){V(e,t);function e(r,n,i,o,a,l,u,s,c,d,v,y,h,E,g,_,S,I,L,F,T,w,k,M,Q,H,ee,Y,te,ce,le){if(i===void 0){i=new we}if(o===void 0){o={domain:"",expiration:365,sameSite:"Lax",secure:false,upgrade:true}}if(u===void 0){u=1e3}if(s===void 0){s=5}if(c===void 0){c=30}if(d===void 0){d=_e}if(g===void 0){g=new pe}if(_===void 0){_=U.Warn}if(I===void 0){I=false}if(L===void 0){L=false}if(w===void 0){w=""}if(k===void 0){k=Lr}if(Q===void 0){Q=30*60*1e3}if(H===void 0){H=new At({loggerProvider:g})}if(ee===void 0){ee={ipAddress:true,language:true,platform:true}}if(Y===void 0){Y="fetch"}if(te===void 0){te=false}var b=t.call(this,{apiKey:r,storageProvider:H,transportProvider:Lt(Y)})||this;b.apiKey=r;b.appVersion=n;b.cookieOptions=o;b.defaultTracking=a;b.flushIntervalMillis=u;b.flushMaxRetries=s;b.flushQueueSize=c;b.identityStorage=d;b.ingestionMetadata=v;b.instanceName=y;b.loggerProvider=g;b.logLevel=_;b.minIdLength=S;b.offline=I;b.partnerId=F;b.plan=T;b.serverUrl=w;b.serverZone=k;b.sessionTimeout=Q;b.storageProvider=H;b.trackingOptions=ee;b.transport=Y;b.useBatch=te;b._optOut=false;b._cookieStorage=i;b.deviceId=l;b.lastEventId=h;b.lastEventTime=E;b.optOut=L;b.sessionId=M;b.pageCounter=le;b.userId=ce;b.loggerProvider.enable(b.logLevel);return b}Object.defineProperty(e.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(r){if(this._cookieStorage!==r){this._cookieStorage=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"deviceId",{get:function(){return this._deviceId},set:function(r){if(this._deviceId!==r){this._deviceId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},set:function(r){if(this._userId!==r){this._userId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},set:function(r){if(this._sessionId!==r){this._sessionId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"optOut",{get:function(){return this._optOut},set:function(r){if(this._optOut!==r){this._optOut=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(r){if(this._lastEventTime!==r){this._lastEventTime=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(r){if(this._lastEventId!==r){this._lastEventId=r;this.updateStorage()}},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(r){if(this._pageCounter!==r){this._pageCounter=r;this.updateStorage()}},enumerable:false,configurable:true});e.prototype.updateStorage=function(){var r={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter};void this.cookieStorage.set(xe(this.apiKey),r)};return e}(nt);var kr=function(t,e,r){if(e===void 0){e={}}return f(void 0,void 0,void 0,function(){var n,i,o,a,l,u,s,c,d,v,y,h,E,g,_,S;var I;var L,F,T,w,k,M,Q,H,ee,Y,te,ce,le,b,Me,Fe,Ve,Be,qe,je,Ge,Ke,Qe;return p(this,function(ae){switch(ae.label){case 0:n=e.identityStorage||_e;I={};if(!(n!==_e))return[3,1];o="";return[3,5];case 1:if(!((F=(L=e.cookieOptions)===null||L===void 0?void 0:L.domain)!==null&&F!==void 0))return[3,2];a=F;return[3,4];case 2:return[4,vn()];case 3:a=ae.sent();ae.label=4;case 4:o=a;ae.label=5;case 5:i=m.apply(void 0,[(I.domain=o,I.expiration=365,I.sameSite="Lax",I.secure=false,I.upgrade=true,I),e.cookieOptions]);l=pn(e.identityStorage,i);return[4,wr(t,l,(w=(T=e.cookieOptions)===null||T===void 0?void 0:T.upgrade)!==null&&w!==void 0?w:true)];case 6:u=ae.sent();return[4,l.get(xe(t))];case 7:s=ae.sent();c=se();d=(H=(Q=(M=(k=e.deviceId)!==null&&k!==void 0?k:c.deviceId)!==null&&M!==void 0?M:s===null||s===void 0?void 0:s.deviceId)!==null&&Q!==void 0?Q:u.deviceId)!==null&&H!==void 0?H:K();v=(ee=s===null||s===void 0?void 0:s.lastEventId)!==null&&ee!==void 0?ee:u.lastEventId;y=(Y=s===null||s===void 0?void 0:s.lastEventTime)!==null&&Y!==void 0?Y:u.lastEventTime;h=(ce=(te=e.optOut)!==null&&te!==void 0?te:s===null||s===void 0?void 0:s.optOut)!==null&&ce!==void 0?ce:u.optOut;E=(le=s===null||s===void 0?void 0:s.sessionId)!==null&&le!==void 0?le:u.sessionId;g=(Me=(b=e.userId)!==null&&b!==void 0?b:s===null||s===void 0?void 0:s.userId)!==null&&Me!==void 0?Me:u.userId;r.previousSessionDeviceId=(Fe=s===null||s===void 0?void 0:s.deviceId)!==null&&Fe!==void 0?Fe:u.deviceId;r.previousSessionUserId=(Ve=s===null||s===void 0?void 0:s.userId)!==null&&Ve!==void 0?Ve:u.userId;_={ipAddress:(qe=(Be=e.trackingOptions)===null||Be===void 0?void 0:Be.ipAddress)!==null&&qe!==void 0?qe:true,language:(Ge=(je=e.trackingOptions)===null||je===void 0?void 0:je.language)!==null&&Ge!==void 0?Ge:true,platform:(Qe=(Ke=e.trackingOptions)===null||Ke===void 0?void 0:Ke.platform)!==null&&Qe!==void 0?Qe:true};S=s===null||s===void 0?void 0:s.pageCounter;return[2,new fn(t,e.appVersion,l,i,e.defaultTracking,d,e.flushIntervalMillis,e.flushMaxRetries,e.flushQueueSize,n,e.ingestionMetadata,e.instanceName,v,y,e.loggerProvider,e.logLevel,e.minIdLength,e.offline,h,e.partnerId,e.plan,e.serverUrl,e.serverZone,E,e.sessionTimeout,e.storageProvider,_,e.transport,e.useBatch,g,S)]}})})};var pn=function(t,e){if(t===void 0){t=_e}if(e===void 0){e={}}switch(t){case"localStorage":return new At;case"sessionStorage":return new Ir;case"none":return new we;case"cookie":default:return new ge(m(m({},e),{expirationDays:e.expiration}))}};var Lt=function(t){if(t==="xhr"){return new Sr}if(t==="beacon"){return new Tr}return new yt};var vn=function(t){return f(void 0,void 0,void 0,function(){var e,r,n,i,o,o,a,l,u,s;return p(this,function(c){switch(c.label){case 0:return[4,new ge().isEnabled()];case 1:if(!c.sent()||!t&&typeof location==="undefined"){return[2,""]}e=t!==null&&t!==void 0?t:location.hostname;r=e.split(".");n=[];i="AMP_TLDTEST";for(o=r.length-2;o>=0;--o){n.push(r.slice(o).join("."))}o=0;c.label=2;case 2:if(!(o<n.length))return[3,7];a=n[o];l={domain:"."+a};u=new ge(l);return[4,u.set(i,1)];case 3:c.sent();return[4,u.get(i)];case 4:s=c.sent();if(!s)return[3,6];return[4,u.remove(i)];case 5:c.sent();return[2,"."+a];case 6:o++;return[3,2];case 7:return[2,""]}})})};var Nr=function(t,e,r){if(e===void 0){e=""}if(r===void 0){r=10}return[re,e,t.substring(0,r)].filter(Boolean).join("_")};var Ur=function(t){var e=t.split(".");if(e.length<=2){return t}return e.slice(e.length-2,e.length).join(".")};var hn=function(t){return Object.values(t).every(function(e){return!e})};var Mr=function(t,e,r,n){if(n===void 0){n=true}var i=t.referrer,o=t.referring_domain,a=de(t,["referrer","referring_domain"]);var l=e||{},u=l.referrer,s=l.referring_domain,c=de(l,["referrer","referring_domain"]);if(gn(r.excludeReferrers,t.referring_domain)){return false}if(!n&&hn(t)&&e){return false}var d=JSON.stringify(a)!==JSON.stringify(c);var v=Ur(o||"")!==Ur(s||"");return!e||d||v};var gn=function(t,e){if(t===void 0){t=[]}if(e===void 0){e=""}return t.some(function(r){return r instanceof RegExp?r.test(e):r===e})};var Fr=function(t,e){var r=m(m({},ie),t);var n=Object.entries(r).reduce(function(i,o){var a;var l=x(o,2),u=l[0],s=l[1];i.setOnce("initial_".concat(u),(a=s!==null&&s!==void 0?s:e.initialEmptyValue)!==null&&a!==void 0?a:"EMPTY");if(s){return i.set(u,s)}return i.unset(u)},new z);return fe(n)};var Vr=function(t){var e=t;if(e){if(e.startsWith(".")){e=e.substring(1)}return[new RegExp("".concat(e.replace(".","\\\\."),"$"))]}return[]};var kt=function(t){var e=this;if(t===void 0){t={}}var r={name:"@amplitude/plugin-web-attribution-browser",type:"before",setup:function(n,i){var o;return f(this,void 0,void 0,function(){var a,l,u,s,c,d,v,y;return p(this,function(h){switch(h.label){case 0:a=m({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:false,excludeReferrers:Vr((o=n.cookieOptions)===null||o===void 0?void 0:o.domain)},t);n.loggerProvider.log("Installing @amplitude/plugin-web-attribution-browser.");l=n.cookieStorage;u=Nr(n.apiKey,"MKTG");return[4,Promise.all([new ve().parse(),l.get(u)])];case 1:s=x.apply(void 0,[h.sent(),2]),c=s[0],d=s[1];v=he(n.sessionTimeout,n.lastEventTime);if(Mr(c,d,a,v)){if(a.resetSessionOnNewCampaign){i.setSessionId(Date.now());n.loggerProvider.log("Created a new session for new campaign.")}n.loggerProvider.log("Tracking attribution.");y=Fr(c,a);i.track(y);void l.set(u,c)}return[2]}})})},execute:function(n){return f(e,void 0,void 0,function(){return p(this,function(i){return[2,n]})})}};return r};var Br=function(t){var e={};for(var r in t){var n=t[r];if(n){e[r]=n}}return e};var Ut=function(t){if(t===void 0){t={}}var e;var r=N();var n=void 0;var i;var o;var a=function(){return f(void 0,void 0,void 0,function(){var v;var y;var h;return p(this,function(E){switch(E.label){case 0:o.pageCounter=!o.pageCounter?1:o.pageCounter+1;y={event_type:(h=t.eventType)!==null&&h!==void 0?h:"[Amplitude] Page Viewed"};v=[{}];return[4,mn()];case 1:return[2,(y.event_properties=m.apply(void 0,[m.apply(void 0,v.concat([E.sent()])),{"[Amplitude] Page Domain":typeof location!=="undefined"&&location.hostname||"","[Amplitude] Page Location":typeof location!=="undefined"&&location.href||"","[Amplitude] Page Path":typeof location!=="undefined"&&location.pathname||"","[Amplitude] Page Title":typeof document!=="undefined"&&document.title||"","[Amplitude] Page URL":typeof location!=="undefined"&&location.href.split("?")[0]||"","[Amplitude] Page Counter":o.pageCounter}]),y)]}})})};var l=function(){return typeof t.trackOn==="undefined"||typeof t.trackOn==="function"&&t.trackOn()};var u=typeof location!=="undefined"?location.href:null;var s=function(){return f(void 0,void 0,void 0,function(){var v,y,h,E,g;return p(this,function(_){switch(_.label){case 0:v=location.href;y=_n(t.trackHistoryChanges,v,u||"")&&l();u=v;if(!y)return[3,4];n===null||n===void 0?void 0:n.log("Tracking page view event");if(!(e===null||e===void 0))return[3,1];h=void 0;return[3,3];case 1:g=(E=e).track;return[4,a()];case 2:h=g.apply(E,[_.sent()]);_.label=3;case 3:h;_.label=4;case 4:return[2]}})})};var c=function(){void s()};var d={name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(v,y){return f(void 0,void 0,void 0,function(){var h,E;return p(this,function(g){switch(g.label){case 0:e=y;o=v;n=v.loggerProvider;n.log("Installing @amplitude/plugin-page-view-tracking-browser");if(r){r.addEventListener("popstate",c);i=r.history.pushState;r.history.pushState=new Proxy(r.history.pushState,{apply:function(_,S,I){var L=x(I,3),F=L[0],T=L[1],w=L[2];_.apply(S,[F,T,w]);void s()}})}if(!l())return[3,2];n.log("Tracking page view event");E=(h=e).track;return[4,a()];case 1:E.apply(h,[g.sent()]);g.label=2;case 2:return[2]}})})},execute:function(v){return f(void 0,void 0,void 0,function(){var y;return p(this,function(h){switch(h.label){case 0:if(!(t.trackOn==="attribution"&&yn(v)))return[3,2];n===null||n===void 0?void 0:n.log("Enriching campaign event to page view event with campaign parameters");return[4,a()];case 1:y=h.sent();v.event_type=y.event_type;v.event_properties=m(m({},v.event_properties),y.event_properties);h.label=2;case 2:return[2,v]}})})},teardown:function(){return f(void 0,void 0,void 0,function(){return p(this,function(v){if(r){r.removeEventListener("popstate",c);if(i){r.history.pushState=i}}return[2]})})}};return d};var mn=function(){return f(void 0,void 0,void 0,function(){var t;return p(this,function(e){switch(e.label){case 0:t=Br;return[4,new ve().parse()];case 1:return[2,t.apply(void 0,[e.sent()])]}})})};var yn=function(t){if(t.event_type==="$identify"&&t.user_properties){var e=t.user_properties;var r=e[D.SET]||{};var n=e[D.UNSET]||{};var i=q(q([],x(Object.keys(r)),false),x(Object.keys(n)),false);return Object.keys(ie).every(function(o){return i.includes(o)})}return false};var _n=function(t,e,r){switch(t){case"pathOnly":return e.split("?")[0]!==r.split("?")[0];default:return e!==r}};var qr=function(){var t;var e=[];var r=function(s,c,d){s.addEventListener(c,d);e.push({element:s,type:c,handler:d})};var n=function(){e.forEach(function(s){var c=s.element,d=s.type,v=s.handler;c===null||c===void 0?void 0:c.removeEventListener(d,v)});e=[]};var i="@amplitude/plugin-form-interaction-tracking-browser";var o="enrichment";var a=function(s,c){return f(void 0,void 0,void 0,function(){var d,v;return p(this,function(y){if(!c){s.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return[2]}if(typeof document==="undefined"){return[2]}d=function(h){var E=false;r(h,"change",function(){var g;if(!E){c.track(Ct,(g={},g[ke]=ue(h.id),g[Ue]=ue(h.name),g[Ne]=h.action,g))}E=true});r(h,"submit",function(){var g,_;if(!E){c.track(Ct,(g={},g[ke]=ue(h.id),g[Ue]=ue(h.name),g[Ne]=h.action,g))}c.track(xr,(_={},_[ke]=ue(h.id),_[Ue]=ue(h.name),_[Ne]=h.action,_));E=false})};v=Array.from(document.getElementsByTagName("form"));v.forEach(d);if(typeof MutationObserver!=="undefined"){t=new MutationObserver(function(h){h.forEach(function(E){E.addedNodes.forEach(function(g){if(g.nodeName==="FORM"){d(g)}if("querySelectorAll"in g&&typeof g.querySelectorAll==="function"){Array.from(g.querySelectorAll("form")).map(d)}})})});t.observe(document.body,{subtree:true,childList:true})}return[2]})})};var l=function(s){return f(void 0,void 0,void 0,function(){return p(this,function(c){return[2,s]})})};var u=function(){return f(void 0,void 0,void 0,function(){return p(this,function(s){t===null||t===void 0?void 0:t.disconnect();n();return[2]})})};return{name:i,type:o,setup:a,execute:l,teardown:u}};var ue=function(t){if(typeof t!=="string"){return void 0}return t};var jr=function(){var t;var e=[];var r=function(s,c,d){s.addEventListener(c,d);e.push({element:s,type:c,handler:d})};var n=function(){e.forEach(function(s){var c=s.element,d=s.type,v=s.handler;c===null||c===void 0?void 0:c.removeEventListener(d,v)});e=[]};var i="@amplitude/plugin-file-download-tracking-browser";var o="enrichment";var a=function(s,c){return f(void 0,void 0,void 0,function(){var d,v,y;return p(this,function(h){if(!c){s.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return[2]}if(typeof document==="undefined"){return[2]}d=function(E){var g;try{g=new URL(E.href,window.location.href)}catch(I){return}var _=v.exec(g.href);var S=_===null||_===void 0?void 0:_[1];if(S){r(E,"click",function(){var I;if(S){c.track(Pr,(I={},I[Ar]=S,I[Rr]=g.pathname,I[Cr]=E.id,I[Dr]=E.text,I[Or]=E.href,I))}})}};v=/\\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)$/;y=Array.from(document.getElementsByTagName("a"));y.forEach(d);if(typeof MutationObserver!=="undefined"){t=new MutationObserver(function(E){E.forEach(function(g){g.addedNodes.forEach(function(_){if(_.nodeName==="A"){d(_)}if("querySelectorAll"in _&&typeof _.querySelectorAll==="function"){Array.from(_.querySelectorAll("a")).map(d)}})})});t.observe(document.body,{subtree:true,childList:true})}return[2]})})};var l=function(s){return f(void 0,void 0,void 0,function(){return p(this,function(c){return[2,s]})})};var u=function(){return f(void 0,void 0,void 0,function(){return p(this,function(s){t===null||t===void 0?void 0:t.disconnect();n();return[2]})})};return{name:i,type:o,setup:a,execute:l,teardown:u}};var Gr=false;var Kr=function(t){if(Gr||t.defaultTracking!==void 0){return}var e="\`options.defaultTracking\` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to \`options.defaultTracking\`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\\n\\namplitude.init(<YOUR_API_KEY>, {\\n  defaultTracking: true,\\n});\\n\\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details.";t.loggerProvider.warn(e);Gr=true};var Qr=function(){var t="@amplitude/plugin-network-checker-browser";var e="before";var r=N();var n=[];var i=function(u,s){if(r){r.addEventListener(u,s);n.push({type:u,handler:s})}};var o=function(){n.forEach(function(u){var s=u.type,c=u.handler;if(r){r.removeEventListener(s,c)}});n=[]};var a=function(u,s){return f(void 0,void 0,void 0,function(){return p(this,function(c){u.offline=!navigator.onLine;i("online",function(){u.loggerProvider.debug("Network connectivity changed to online.");u.offline=false;setTimeout(function(){s.flush()},u.flushIntervalMillis)});i("offline",function(){u.loggerProvider.debug("Network connectivity changed to offline.");u.offline=true});return[2]})})};var l=function(){return f(void 0,void 0,void 0,function(){return p(this,function(u){o();return[2]})})};return{name:t,type:e,setup:a,teardown:l}};var Wr=function(t){V(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.init=function(r,n,i){if(r===void 0){r=""}var o;var a;if(arguments.length>2){o=n;a=i}else{if(typeof n==="string"){o=n;a=void 0}else{o=n===null||n===void 0?void 0:n.userId;a=n}}return B(this._init(m(m({},a),{userId:o,apiKey:r})))};e.prototype._init=function(r){var n,i;return f(this,void 0,void 0,function(){var o,a,l,u;var s=this;return p(this,function(c){switch(c.label){case 0:if(this.initializing){return[2]}this.initializing=true;return[4,kr(r.apiKey,r,this)];case 1:o=c.sent();return[4,t.prototype._init.call(this,o)];case 2:c.sent();this.setSessionId((i=(n=r.sessionId)!==null&&n!==void 0?n:this.config.sessionId)!==null&&i!==void 0?i:Date.now());a=J(r.instanceName);a.identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId});if(!(this.config.offline!==Xe))return[3,4];return[4,this.add(Qr()).promise];case 3:c.sent();c.label=4;case 4:return[4,this.add(new ot).promise];case 5:c.sent();return[4,this.add(new br).promise];case 6:c.sent();return[4,this.add(new bt).promise];case 7:c.sent();Kr(this.config);if(!St(this.config.defaultTracking))return[3,9];return[4,this.add(jr()).promise];case 8:c.sent();c.label=9;case 9:if(!Tt(this.config.defaultTracking))return[3,11];return[4,this.add(qr()).promise];case 10:c.sent();c.label=11;case 11:if(!Ae(this.config.defaultTracking))return[3,13];l=Pt(this.config);u=kt(l);return[4,this.add(u).promise];case 12:c.sent();c.label=13;case 13:if(!Re(this.config.defaultTracking))return[3,15];return[4,this.add(Ut(xt(this.config))).promise];case 14:c.sent();c.label=15;case 15:this.initializing=false;return[4,this.runQueuedFunctions("dispatchQ")];case 16:c.sent();a.eventBridge.setEventReceiver(function(d){void s.track(d.eventType,d.eventProperties)});return[2]}})})};e.prototype.getUserId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.userId};e.prototype.setUserId=function(r){if(!this.config){this.q.push(this.setUserId.bind(this,r));return}if(r!==this.config.userId||r===void 0){this.config.userId=r;_t(r,this.config.instanceName)}};e.prototype.getDeviceId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.deviceId};e.prototype.setDeviceId=function(r){if(!this.config){this.q.push(this.setDeviceId.bind(this,r));return}this.config.deviceId=r;Et(r,this.config.instanceName)};e.prototype.reset=function(){this.setDeviceId(K());this.setUserId(void 0)};e.prototype.getSessionId=function(){var r;return(r=this.config)===null||r===void 0?void 0:r.sessionId};e.prototype.setSessionId=function(r){var n;if(!this.config){this.q.push(this.setSessionId.bind(this,r));return}if(r===this.config.sessionId){return}var i=this.getSessionId();var o=this.config.lastEventTime;var a=(n=this.config.lastEventId)!==null&&n!==void 0?n:-1;this.config.sessionId=r;this.config.lastEventTime=void 0;this.config.pageCounter=0;if(wt(this.config.defaultTracking)){if(i&&o){this.track(Ot,void 0,{device_id:this.previousSessionDeviceId,event_id:++a,session_id:i,time:o+1,user_id:this.previousSessionUserId})}this.config.lastEventTime=this.config.sessionId;this.track(Dt,void 0,{event_id:++a,session_id:this.config.sessionId,time:this.config.lastEventTime})}this.previousSessionDeviceId=this.config.deviceId;this.previousSessionUserId=this.config.userId};e.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()};e.prototype.setTransport=function(r){if(!this.config){this.q.push(this.setTransport.bind(this,r));return}this.config.transportProvider=Lt(r)};e.prototype.identify=function(r,n){if(De(r)){var i=r._q;r._q=[];r=Ce(new z,i)}if(n===null||n===void 0?void 0:n.user_id){this.setUserId(n.user_id)}if(n===null||n===void 0?void 0:n.device_id){this.setDeviceId(n.device_id)}return t.prototype.identify.call(this,r,n)};e.prototype.groupIdentify=function(r,n,i,o){if(De(i)){var a=i._q;i._q=[];i=Ce(new z,a)}return t.prototype.groupIdentify.call(this,r,n,i,o)};e.prototype.revenue=function(r,n){if(De(r)){var i=r._q;r._q=[];r=Ce(new rt,i)}return t.prototype.revenue.call(this,r,n)};e.prototype.process=function(r){return f(this,void 0,void 0,function(){var n,i;return p(this,function(o){n=Date.now();i=he(this.config.sessionTimeout,this.config.lastEventTime);if(r.event_type!==Dt&&r.event_type!==Ot&&(!r.session_id||r.session_id===this.getSessionId())&&i){this.setSessionId(n)}return[2,t.prototype.process.call(this,r)]})})};return e}(tt);var En=function(){var t=new Wr;return{init:C(t.init.bind(t),"init",A(t),R(t,["config"])),add:C(t.add.bind(t),"add",A(t),R(t,["config.apiKey","timeline.plugins"])),remove:C(t.remove.bind(t),"remove",A(t),R(t,["config.apiKey","timeline.plugins"])),track:C(t.track.bind(t),"track",A(t),R(t,["config.apiKey","timeline.queue.length"])),logEvent:C(t.logEvent.bind(t),"logEvent",A(t),R(t,["config.apiKey","timeline.queue.length"])),identify:C(t.identify.bind(t),"identify",A(t),R(t,["config.apiKey","timeline.queue.length"])),groupIdentify:C(t.groupIdentify.bind(t),"groupIdentify",A(t),R(t,["config.apiKey","timeline.queue.length"])),setGroup:C(t.setGroup.bind(t),"setGroup",A(t),R(t,["config.apiKey","timeline.queue.length"])),revenue:C(t.revenue.bind(t),"revenue",A(t),R(t,["config.apiKey","timeline.queue.length"])),flush:C(t.flush.bind(t),"flush",A(t),R(t,["config.apiKey","timeline.queue.length"])),getUserId:C(t.getUserId.bind(t),"getUserId",A(t),R(t,["config","config.userId"])),setUserId:C(t.setUserId.bind(t),"setUserId",A(t),R(t,["config","config.userId"])),getDeviceId:C(t.getDeviceId.bind(t),"getDeviceId",A(t),R(t,["config","config.deviceId"])),setDeviceId:C(t.setDeviceId.bind(t),"setDeviceId",A(t),R(t,["config","config.deviceId"])),reset:C(t.reset.bind(t),"reset",A(t),R(t,["config","config.userId","config.deviceId"])),getSessionId:C(t.getSessionId.bind(t),"getSessionId",A(t),R(t,["config"])),setSessionId:C(t.setSessionId.bind(t),"setSessionId",A(t),R(t,["config"])),extendSession:C(t.extendSession.bind(t),"extendSession",A(t),R(t,["config"])),setOptOut:C(t.setOptOut.bind(t),"setOptOut",A(t),R(t,["config"])),setTransport:C(t.setTransport.bind(t),"setTransport",A(t),R(t,["config"]))}};var O=En();var bs=O.add;var Is=O.extendSession;var Ss=O.flush;var Ts=O.getDeviceId;var ws=O.getSessionId;var xs=O.getUserId;var Ps=O.groupIdentify;var As=O.identify;var Rs=O.init;var Cs=O.logEvent;var Ds=O.remove;var Os=O.reset;var Ls=O.revenue;var ks=O.setDeviceId;var Nt=O.setGroup;var Us=O.setOptOut;var Ns=O.setSessionId;var Ms=O.setTransport;var Fs=O.setUserId;var oe=O.track;var Mt=(t,e)=>{setTimeout(()=>{const r=Array.from(document.querySelectorAll("section"));for(const n of r){n.setAttribute("aria-hidden",String(n.id!==t))}},e)};var $r=t=>{Mt("success",500);if(t){Tn()}setTimeout(bn,500)};var bn=()=>{const t=document.getElementById("step-update-app");t.className="highlight completed";const e=document.getElementById("step-setup-complete");e.className="highlight active"};var Ee=(t=[])=>{Mt("error",500);const e=document.getElementById("error-messages");e.innerHTML="";for(const r of t){const n=document.createElement("li");n.textContent=r;e.appendChild(n)}document.title=\`Error Connecting\`};var Hr=()=>{Mt("restart-server",500);document.title=\`Restart Dev Server\`};var In=async()=>{const t=new URL(location.href);const e=t.searchParams.get(We);const r=t.searchParams.get(Ft);const n=t.searchParams.get(Vt);const i=t.searchParams.get($e);const o=t.searchParams.get(qt)||"unknown";const a=t.searchParams.get(jt);const l=t.searchParams.get(Gt);const u=t.searchParams.get(Qt)||null;try{console.info(\`framework: \${o}, platform: \${a}, node: \${l}\`);const s=new URL(location.pathname,location.origin);if(r){Nt("organization",r);Nt("space",r)}if(!e){window.history.replaceState({},"",s.href);Ee(["Missing preview url"]);oe("integration failed",{url:s.href,message:"missing preview url",framework:o});return}s.searchParams.set(We,e);s.searchParams.set($e,i);window.history.replaceState({},"",s.href);if(r&&n){let c=0;const d=async()=>{c++;try{const v=await $t(r,n,u);if(v.success){const y=Yr(e,v.pathname,i);oe("site integrated",{url:y,position:o});if(v.modifiedFiles.length>0){const h=document.getElementById("modified-files-list");v.modifiedFiles.forEach(g=>{const _=document.createElement("li");const S=document.createElement("a");S.textContent=g.displayFilePath||g.filePath;S.href=\`~launch#\${g.displayFilePath}\`;S.addEventListener("click",I=>{I.preventDefault();I.stopPropagation();Yt({filePath:g.filePath})});_.appendChild(S);h.appendChild(_)});const E=document.getElementById("modified-files-message");E.removeAttribute("hidden")}if(u!=="vcp"&&(v.platform.os==="win32"||o==="@remix-run/react")){const h=document.getElementById("restart-warning");h.removeAttribute("hidden")}else if(u!=="vcp"&&(o==="react"||o==="@angular/core")){const h=document.getElementById("router-message");h.removeAttribute("hidden");if(o==="@angular/core"){oe("angular framework",{});const I=document.getElementById("angular-message-section");I?.removeAttribute("hidden")}if(o==="react"){oe("react framework",{});const I=document.getElementById("react-message-section");I?.removeAttribute("hidden")}const E=document.getElementById("router-checkbox-div");const g=document.createElement("input");g.type="checkbox";g.id="router-checkbox";const _=document.createElement("label");_.htmlFor="router-checkbox";_.textContent=\`I've updated my router files\`;E.appendChild(g);E.appendChild(_);const S=document.getElementById("router-finish-button");g.addEventListener("change",function(){if(g.checked){S.removeAttribute("hidden")}else{S.setAttribute("hidden","true")}})}else{const h=document.getElementById("go-to-app");h.removeAttribute("hidden");if(u!=="vcp"){const E=h.querySelector("p");if(E){E.removeAttribute("hidden")}const g=h.querySelector("#button-text");if(g){g.textContent="Go to your app"}}}setTimeout(()=>{$r(true)},500)}else{oe("integration failed",{path:v.pathname,message:"error connecting to Khulnasoft.com",position:o});Ee([\`Error connecting to Khulnasoft.com\`])}}catch(v){const y=String(v.message||v);if(y.includes("Fetch Error")){if(c>3){Hr()}setTimeout(d,1e3)}else{Ee([y])}}};d()}else{const c=await Ht();if(c.isValid){Yr(e,c.pathname,i);const d=document.getElementById("go-to-app");d.removeAttribute("hidden");$r(false)}else{Ee([\`Error connecting to Khulnasoft.com\`])}}}catch(s){oe("integration failed",{message:"uncaught error",details:String(s),position:JSON.stringify({framework:o,platform:a,nodeVersion:l})});console.error("integrationFailed",s);const c=String(s);if(c.includes("Fetch Error")){Hr()}else{Ee([c])}}};var Yr=(t,e,r)=>{const n=new URL(e,t);if(r){n.hash=\`\${Bt}=\${r}\`}const i=document.querySelectorAll(".next-step");for(const o of i){o.setAttribute("href",n.href)}console.debug("App Url",n.href);return n.href};var Sn=()=>{return new Promise((t,e)=>{if(globalThis.confetti){return t(globalThis.confetti)}const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js";r.onload=()=>t(globalThis.confetti);r.onerror=e;document.head.appendChild(r);r.remove()})};var Tn=async()=>{const t={spread:360,ticks:50,gravity:0,decay:.95,startVelocity:30,colors:["19b4f4","a97ff2","fd6b3c","ffffff"]};const e=Sn();const r=async()=>{const n=document.getElementById("button-icon");const i=n.getBoundingClientRect();const o=window.scrollX+i.left;const a=window.scrollY+i.top;const l={x:o/window.innerWidth,y:a/window.innerHeight};const u=await e;u({...t,origin:l,scalar:1.2});u({...t,origin:l,scalar:.75})};setTimeout(r,500);setTimeout(r,650);setTimeout(r,800);setTimeout(r,950)};In();})();
</script>
  </body>
</html>
`)}async function Bb(e,r){let t=await Zd(e),n=e.getFrameworks();return r.replace(/__LOCAL_APP_ID__/g,t).replace(/__DEV_TOOLS_URL__/g,e.devToolsServerUrl).replace(/__CLIENT_ID__/g,e.getClientId()).replace(/__FRAMEWORK__/g,n.length?n[0].name:"")}var Mb=require("node:os");async function $b(e,r){let t=new URL("/cli-auth","https://khulnasoft.com");t.searchParams.set("client_id",e.getClientId()),t.searchParams.set("host",await e.getDeviceId()),t.searchParams.set("response_type","code"),t.searchParams.set("cli","true");let n=new URL($n,e.devToolsServerUrl);n.searchParams.set(So,(0,Mb.platform)()),n.searchParams.set(wo,process.versions.node);let i=e.getFrameworks();return i.length>0&&(t.searchParams.set(di,i[0].name),n.searchParams.set(di,i[0].name)),t.searchParams.set("redirect_url",n.href),t.searchParams.set("preview_url",r),t.href}async function jb(e,r,t,n){try{if(!e)return ns(t,n,400,"Khulnasoft context closed");let i=gI(t);if(i.pathname===Fl){if(t.method==="POST"){let s=await hI(t);if(s)try{let o=await Ob(e,JSON.parse(s));return Ub(t,n,200,o)}catch(o){e.debug("Dev API Error",o.stack||o.message||o);let a={errors:[String(o.message||o)]};return Ub(t,n,500,a)}}else if(t.method==="OPTIONS"){let s={"Access-Control-Allow-Methods":"POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Cache-Control, X-Khulnasoft-Devtools-Version"},o=t.headers.origin;o&&o!=="null"?Kb(new URL(o))&&(s["Access-Control-Allow-Origin"]=o):s["Access-Control-Allow-Origin"]="*",n.writeHead(200,s),n.end();return}return ns(t,n,405,`${Fl} is an API endpoint used only during development by the Khulnasoft.com Devtools client-side script`)}if(i.pathname===_l)return dI(t,n,200,await Rb(e));if(i.pathname===Ed){let s=i.searchParams.get(Nl);return s?mI(n,302,await $b(e,s)):ns(t,n,400,`Missing ${Nl} querystring`)}if(i.pathname===$n)return fI(t,n,200,await Lb(e));if(i.pathname===Cd){await Ot(e,{_:[]},{});let s=await li(e),{figmaKhulnasoftLinks:o,foundErrors:a}=await fo({force:!0,mappingFiles:s,sys:e,print:!1});return po(t,n,200,"application/json",JSON.stringify({figmaKhulnasoftLinks:o,foundErrors:a,version:2,local:!0},null,2))}return i.pathname===Un?(e.debug(`Close Dev Tools Server Requested: ${i.href}`),setTimeout(()=>{try{r.close(s=>{e.debug(`Dev Tools Server Closed Error: ${s}`)})}catch(s){e.debug(`Error closing devtools server: ${s}`)}},20),ns(t,n,200,"Closing Dev Tools Server")):ns(t,n,404,"Not found")}catch(i){return console.error("Dev Server Error",i),ns(t,n,500,`Dev Server Error: ${i}`)}}function Ub(e,r,t,n){po(e,r,t,"application/json",JSON.stringify(n))}function dI(e,r,t,n){po(e,r,t,"application/javascript",n)}function fI(e,r,t,n){po(e,r,t,"text/html",n)}function ns(e,r,t,n){po(e,r,t,"text/plain",n)}function po(e,r,t,n,i){let s={"Content-Type":`${n}; charset=utf-8`,"Cache-Control":"no-cache, no-store, must-revalidate","X-Khulnasoft-Devtools-Version":"1.5.12"},o=e.headers.origin;o&&o!=="null"?Kb(new URL(o))&&(s["Access-Control-Allow-Origin"]=o):s["Access-Control-Allow-Origin"]="*",r.writeHead(t,s),r.end(i)}function Kb(e){return e.hostname==="localhost"||e.origin==="https://khulnasoft.com"||e.origin==="https://www.khulnasoft.com"||e.origin.endsWith(".khulnasoft.com")?!0:e.port===""?!1:e.port!=="80"&&e.port!=="443"}function mI(e,r,t){e.writeHead(r,{Location:t}),e.end()}async function hI(e){let r="";for await(let t of e)r+=t;return r}function gI(e){let r=e.url||"/";return new URL(r,`http://${e.headers.host}`)}async function Vb(e){if(globalThis.__khulnasoftDevToolsServer)return e.debug("reusing existing devtools server"),globalThis.__khulnasoftDevToolsServer.setContext(e),globalThis.__khulnasoftDevToolsServer;let r=await yI(e),t=(0,nl.createServer)((i,s)=>{jb(e,t,i,s)}),n=()=>new Promise((i,s)=>{t.listening?(e.debug(`closing devtools server on port ${r}`),t.close(o=>{e=null,o?(e.debug(`error closing devtools server on port ${r}`),s(o)):(e&&e.debug(`closed devtools server on port ${r}`),i())})):(e.debug(`devtools server on port ${r} not listening`),i())});return process.once("SIGTERM",n),process.once("SIGINT",n),process.env.CI!=="true"&&process.stdin.on("end",n),globalThis.__khulnasoftDevToolsServer={url:new URL(`http://localhost:${r}`).href,port:r,setContext:i=>{e.debug(`set devtools context on server ${r}`),e=i},close:async()=>{globalThis.__khulnasoftDevToolsServer=null,await n()}},new Promise(i=>{t.listen(r,()=>{e.debug(`started devtools server on port ${r}`),i(globalThis.__khulnasoftDevToolsServer)})})}function yI(e){return new Promise(r=>{let t=e.port;try{(0,nl.request)({hostname:"localhost",port:t,path:Un,method:"GET"},i=>{i.on("end",()=>{e.debug(`${Un} - Response ended`),r(t)})}).on("error",i=>{e.debug(`${Un} - No response ${i}`),r(t)}).end()}catch(n){e.debug(`${Un} - Error ${n}`),r(t)}})}async function vp(e){let r={getPastSyncInfo:()=>null,resyncSnippet:()=>null,...e,devToolsServerUrl:"",isValid:!1,publicApiKey:"",serverShouldRestart:!1,port:e.port||5273,ignoreMissingConfig:!1},t=e.getFrameworks().map(s=>s.name).join(", ");r.debug(`create devtools ${zb} [${t}]`);let n=await Vb(r);return r.devToolsServerUrl=n.url,r.port=n.port,{getUrl:()=>r.devToolsServerUrl}}var zb="1.5.12";var xr=require("node:path"),Tt=require("node:fs");var On=K(Ze(),1);async function qb(e){console.log(""),ot((0,On.bgCyan)((0,On.bold)((0,On.white)(" add ")))+"  "+(0,On.dim)(ut));let r=e.snippetId;if(!r&&!e.snippet)return de("SnippetId expected. npx khulnasoft.com add <snippetId>"),await ee(1);let t=ar(),n=e.snippet||null;if(!n&&r&&(t.start(`Fetching snippet ${r}`),n=await Pp(r),t.stop(`Fetched snippet ${r}`)),!n)return de(`No snippet found for id ${r}`),await ee(1);let i=process.cwd(),s=co(i)??i;if(n.files?.length>0){let o=Ip(s,n.framework||"react"),a=e.path||await jt({message:"Where should we copy the files?",initialValue:o,validate(u){if(u.length===0)return"File path is required!";if(u[0]!==".")return"Please enter a relative path."}});if(Re(a))return de("Cancelled sync"),await ee(0);let l=await il(s,n,n.files,a,!1);return j.success("All files have been written successfully."),{snippet:n,pathInput:a,writtenFiles:l,timeStamp:Date.now()}}else{let{code:o,suggestedName:a,framework:l}=n;l&&(a=await bI(s,l,o)),a??(a="./src/components/MyComponent.jsx");let u=Wb(n,DI(n.code),n.framework);try{n.framework==="html"?u=await or(u,"html"):n.framework==="angular"?u=await or(u,"angular"):n.framework==="vue"?u=await or(u,"vue"):n.framework==="svelte"?u=await or(u,"html"):u=await or(u,"typescript")}catch{}let c=e.path;if(!c){try{let f=(await ZD({cwd:process.cwd()})).getFrameworks();if(f.length>0){let m;if(f.some(h=>h.name.includes("qwik"))?m="qwik":f.some(h=>h.name.includes("react"))?m="react":m=f[0].name,n.framework&&n.framework!==m){let h=await Ct({message:`This snippet is for ${n.framework}, but you are using ${m}. Continue?`,initialValue:!1});if(Re(h)||!h)return console.log("Please go back to khulnasoft and change the output framework to match your project."),console.log(),await ee(0)}}}catch{}if(c=await jt({message:"Where should we copy the code?",initialValue:a?.startsWith("./")?a:`./${a}`,validate(d){if(d.length===0)return"File path is required!";if(d[0]!==".")return"Please enter a relative path."}}),Re(c))return console.log(""),await ee(0)}let p=(0,xr.resolve)(s,c);j.info(`Writing code to ${p}`),(0,Tt.mkdirSync)((0,xr.dirname)(p),{recursive:!0}),(0,Tt.writeFileSync)(p,u)}}function Pp(e){return nt(`https://cdn.khulnasoft.com/api/v1/snippet/${e}`).then(r=>r.status===404?null:r.json())}function DI(e){return e.replace(/^```jsx\s?|\s?```$/g,"").trim()}function Wb(e,r,t,n=!1){if(!t)return r;let i="This code was generated by Khulnasoft.com",s=n?`https://khulnasoft.com/content/${e.contentId}?codeSession=${e.sessionKey}&sid=${e.id}`:"",o=["vue","html","svelte"].includes(t.toLowerCase()),a=[i,s].filter(Boolean);return`${o?a.map(u=>`<!-- ${u} -->`).join(`
`):`/**
${a.map(u=>` * ${u}`).join(`
`)}
 */`}
${r}`}async function bI(e,r,t){let n,i=EI(t,r.toLowerCase());switch(r.toLowerCase()){case"react":let s=await xI(e);n=`components/${i||"MyComponent"}.${s?"tsx":"jsx"}`;break;case"angular":n=`app/components/${i||"my-component"}.component.ts`;break;case"vue":n=`components/${i||"MyComponent"}.vue`;break;case"svelte":n=`components/${i||"MyComponent"}.svelte`;break;case"html":n=`${i||"my-design"}.html`;break;case"qwik":n=`components/${i||"MyComponent"}.tsx`;break;default:n=`components/${i||"MyComponent"}.tsx`}return n=(0,Tt.existsSync)("./src")?`./src/${n}`:`./${n}`,n}async function xI(e){if((0,Tt.existsSync)((0,xr.join)(e,"./tsconfig.json")))return!0;let r=yp(e);return r&&(0,Tt.existsSync)((0,xr.join)(r,"./package.json"))?(0,Tt.readFileSync)((0,xr.join)(r,"./package.json"),"utf-8").includes("typescript"):!1}function EI(e,r){let t={vue:/name:\s*'([^']+)'/,react:/function (\w+)\([\w\W]+\)/,qwik:/export const (\w+) = component\$/,angular:/selector:\s*'([^']+)'/};if(!t[r])return null;let n=e.match(t[r]);return r==="react"&&!n?.[1]?e.match(/const (\w+)[\w\W]+=\s*\(/)?.[1]||null:n?.[1]||null}async function il(e,r,t,n,i){let s=[];for(let o of t){let a=CI(n,o.path),l=(0,xr.resolve)(e,a);if("code"in o){let u=await wI(r,o.code,SI(o.path),i);(0,Tt.mkdirSync)((0,xr.dirname)(l),{recursive:!0}),(0,Tt.writeFileSync)(l,u),s.push({...o,path:a,code:u,timestamp:(0,Tt.statSync)(l).mtime.getTime()}),j.info(`Writing file to ${l}`)}else(0,Tt.mkdirSync)(l,{recursive:!0}),s=s.concat(await il(e,r,o.files,a,i))}return s}function CI(e,r){let t=e.replace(/^\.?\/+|\/+$/g,""),n=r.replace(/^\.?\/+|\/+$/g,""),i=t.split("/").filter(Boolean),s=n.split("/").filter(Boolean),o=-1;for(let l=0;l<i.length;l++){let u=s.indexOf(i[l]);u!==-1&&(o=u)}return[...i,...s.slice(o+1)].join("/")}function SI(e){switch(e.split(".").pop()?.toLowerCase()){case"html":case"svelte":return"html";case"vue":return"vue";case"ts":case"tsx":case"js":case"jsx":return"typescript";case"css":return"css";case"json":return"json";default:return"typescript"}}async function wI(e,r,t,n){let i=r;try{i=await or(r,t)}catch{}return n?Wb(e,i,t,n):i}function Ip(e,r){let n=(0,Tt.existsSync)((0,xr.join)(e,"src"))?"src/":"";switch(r.toLowerCase()){case"angular":return`./${n}app/components/`;case"html":return"./";default:return`./${n}components/`}}var Jb=K(require("chokidar"),1),Yb=K(require("ignore"),1);function Xb(e){let r=e.match(/khulnasoft\.io\/content\/([^?]+)\?codeSession=([^&]+)&sid=([^\s]+)/);return r?{contentId:r[1],sessionKey:r[2],snippetId:r[3]}:{}}async function ol(e){let r=Qb(e);return await(0,Np.glob)("**/*",{cwd:e,ignore:{ignored(n){return r(n.relative())}},nodir:!0})}async function TI(e,r,t){let n=await(0,Np.glob)("**/*",{cwd:e,ignore:["node_modules/**"],nodir:!0}),i=[];for(let s of n){let o=(0,Rt.resolve)(e,s);try{let a=(0,$t.readFileSync)(o,"utf-8");if(a.includes("This code was generated by Khulnasoft.com")){let l=Xb(a);if(r&&t&&(l.contentId!==r||l.sessionKey!==t))continue;i.push({path:s,code:sl(a),name:s.split("/").pop()||"",timestamp:(0,$t.statSync)(o).mtime.getTime(),snippetId:l.snippetId})}}catch(a){console.error(`Error reading file ${o}:`,a)}}return i}function AI(e,r){let t=Xb(e);return t.contentId===r.contentId&&t.sessionKey===r.sessionKey}function Qb(e){let r=["*.png","*.jpg","*.jpeg","*.gif","*.webp","*.yml","*.yaml","*.snap","*.liquid",".git",".DS_Store",".vscode","node_modules",".next","coverage","example","public","yarn.lock","pnpm-lock.yaml","__snapshots__","package-lock.json"],t=(0,Yb.default)().add(r);function n(i){try{let s=(0,Rt.resolve)(e,i);if((0,$t.existsSync)(s)){let o=(0,$t.readFileSync)(s,"utf8");t.add(o)}}catch(s){console.debug(`No ${i} found or error reading it:`,s)}}return n(".gitignore"),n(".prettierignore"),n(".khulnasoftignore"),i=>{let s=(0,Rt.relative)(e,i);if(!s)return!1;let o=s.split(Rt.sep).join("/");return t.ignores(o)}}function Gb(e,r,t){let n=Qb(e),i=Jb.default.watch(e,{ignored:n,ignoreInitial:!0,awaitWriteFinish:{stabilityThreshold:500,pollInterval:600},ignorePermissionErrors:!0,followSymlinks:!1,atomic:600}),s=async a=>{let l=(0,Rt.relative)(e,a);try{let u=(0,$t.readFileSync)(a,"utf-8");if(AI(u,r.snippet)){let c=r.writtenFiles.find(p=>p.path===l);c?(c.code=sl(u),c.timestamp=Date.now()):r.writtenFiles.push({path:l,code:sl(u),timestamp:Date.now(),name:l.split("/").pop()||""}),r.timeStamp=Date.now(),t(r)}}catch(u){console.debug(`Error reading file ${a}:`,u)}};i.on("add",async a=>{j.info(`File added: ${a}`),await s(a)}).on("change",async a=>{j.info(`File changed: ${a}`),await s(a)}).on("unlink",a=>{j.info(`File deleted: ${a}`);let l=(0,Rt.relative)(e,a);r.writtenFiles=r.writtenFiles.filter(u=>u.path!==l),r.timeStamp=Date.now(),t(r)}).on("unlinkDir",a=>{j.info(`Folder deleted: ${a}`);let l=(0,Rt.relative)(e,a);r.writtenFiles=r.writtenFiles.filter(u=>!u.path.startsWith(l)),r.timeStamp=Date.now(),t(r)}).on("ready",()=>{console.debug("Initial scan complete. Ready for changes.")}).on("error",a=>{console.error(`Watcher error: ${a}`)}),i.on("raw",async(a,l,u)=>{if(a==="renamed"){j.info(`File renamed: ${u.oldPath} -> ${l}`);let c=u.oldPath?(0,Rt.relative)(e,u.oldPath):void 0,p=l?(0,Rt.relative)(e,l):void 0;if(c&&p){let d=r.writtenFiles.find(f=>f.path===c);d&&(d.path=p,r.timeStamp=Date.now(),t(r))}}});let o=async()=>{await i.close()};return process.on("SIGINT",o),process.on("SIGTERM",o),o}async function Zb(e,r){e.debug("khulnasoft sync server init");let t=await Tn(e),n=r,i=()=>Promise.resolve();n&&setTimeout(()=>{i=Gb(e.getAppRootDir(),n,s=>{n=s})},1e3),await vp({...t,ensureFigmaImportPage:()=>Promise.reject("Not supported"),getPastSyncInfo:({sessionKey:s,since:o})=>!n||s!==n.snippet.sessionKey?null:{...n,hasChanged:n.timeStamp>o},resyncSnippet:async s=>{await i();let o=await Fp({path:n?.pathInput,snippet:s.snippet,cwd:e.getAppRootDir()});return o&&(n=o,i=Gb(e.getAppRootDir(),n,a=>{n=a})),n},getClientId:()=>"khulnasoft-sync-cli",closeAppServer:async()=>{await i()},restartAppServer:async()=>{e.debug("restart server")},enableAppWatch:async s=>s,...e})}async function Fp(e){let r=e.snippetId,t=e.snippet||null;if(!t&&r&&(t=await Pp(r)),!t)return de(`No snippet found for id ${r}`),await ee(1);let n=process.cwd(),i=co(n)??n,s=await TI(i,t.contentId,t.sessionKey),o=s.filter(p=>p.snippetId===t.id);if(j.info(`Found ${o.length} matching files for snippet ${t.id} in existing files ${s.length}`),o.length>0){let p=Math.max(...o.map(d=>d.timestamp||0));return{snippet:t,writtenFiles:o,pathInput:Hb(o.map(d=>d.path)),timeStamp:p}}let a=Ip(i,t.framework||"react"),l=e.path||Hb(s.map(p=>p.path))||await jt({message:"Where should we copy the files?",initialValue:a,validate(p){if(p.length===0)return"File path is required!";if(p[0]!==".")return"Please enter a relative path."}});Re(l)&&(de("Cancelled sync"),process.exit(0));for(let p of s){let d=(0,Rt.resolve)(i,p.path);try{(0,$t.unlinkSync)(d),j.info(`Deleted old file: ${d}`);let f=(0,Rt.dirname)(d);(0,$t.readdirSync)(f).length===0&&((0,$t.rmdirSync)(f),j.info(`Deleted empty folder: ${f}`))}catch(f){j.error(`Error cleaning up file ${d}: ${f}`)}}let u=await il(i,t,t.files,l,!0);j.success("All files have been written successfully.");let c=Math.max(...u.map(p=>p.timestamp||0));return{snippet:t,writtenFiles:u.map(p=>({...p,code:sl(p.code)})),pathInput:l,timeStamp:c||Date.now()}}function sl(e){if(!e)return e;let r=/<!--\s*This code was generated by Khulnasoft\.io\s*-->\s*(?:<!--\s*https:\/\/khulnasoft\.io\/content\/[a-f0-9]+\?codeSession=[a-f0-9]+&sid=[a-f0-9]+\s*-->\s*)?/,t=/\/\*\*\s*\n\s*\* This code was generated by Khulnasoft\.io\s*\n\s*\* https:\/\/khulnasoft\.io\/content\/[a-f0-9]+\?codeSession=[a-f0-9]+&sid=[a-f0-9]+\s*\n\s*\*\/\s*/,n=e.replace(r,"").replace(t,"");return n=n.replace(/^\n+/,""),n}function Hb(e){if(e.length===0)return"";if(e.length===1)return`./${e[0].slice(0,e[0].lastIndexOf("/")+1)}`;let r=e.map(i=>i.split("/")),t=Math.min(...r.map(i=>i.length)),n=[];for(let i=0;i<t;i++){let s=r[0][i];if(r.every(o=>o[i]===s))n.push(s);else break}return`./${n.join("/")}`}var cE=require("node:child_process");var xl=require("child_process");var _p=K(require("node:process"),1);function kp(){let{env:e}=_p.default,{TERM:r,TERM_PROGRAM:t}=e;return _p.default.platform!=="win32"?r!=="linux":!!e.WT_SESSION||!!e.TERMINUS_SUBLIME||e.ConEmuTask==="{cmd::Cmder}"||t==="Terminus-Sublime"||t==="vscode"||r==="xterm-256color"||r==="alacritty"||r==="rxvt-unicode"||r==="rxvt-unicode-256color"||e.TERMINAL_EMULATOR==="JetBrains-JediTerm"}var Op=K(Ze(),1),pn=K(To(),1),al=require("node:process"),Rn=K(require("node:readline"),1),mo=K(Ze(),1),sr=()=>{let e=Rp?["\u25D2","\u25D0","\u25D3","\u25D1"]:["\u2022","o","O","0"],r=Rp?80:120,t,n,i=!1,s="",o="",a="",l=y=>{let D=y>1?"Something went wrong":"Canceled";i&&m(D,y)},u=(y,D)=>{console.error(D,y),l(2)},c=()=>l(1),p=()=>{process.on("uncaughtExceptionMonitor",u),process.on("unhandledRejection",u),process.on("SIGINT",c),process.on("SIGTERM",c),process.on("exit",l)},d=()=>{process.removeListener("uncaughtExceptionMonitor",u),process.removeListener("unhandledRejection",u),process.removeListener("SIGINT",c),process.removeListener("SIGTERM",c),process.removeListener("exit",l)},f=(y="")=>{i=!0,t=_I(),s=y.replace(/\.+$/,""),process.stdout.write(`${Op.default.gray(vI)}
`);let D=0,C=0;p(),process.env.CI||(n=setInterval(()=>{let x=Op.default.magenta(e[D]),b=".".repeat(Math.floor(C)).slice(0,3);process.stdout.write(pn.cursor.move(-999,-a.split(`
`).length+1)),process.stdout.write(pn.erase.down(a.split(`
`).length));let E=`${x}  ${s}${b}${o}`;process.stdout.write(E),D=D+1<e.length?D+1:0,C=C<e.length?C+.125:0,a=E},r))},m=(y,D=0)=>{s=y??s,i=!1,clearInterval(n);let C=D===0?(0,mo.green)(NI):D===1?(0,mo.red)(PI):(0,mo.red)(II);process.stdout.write(pn.cursor.move(-999,-a.split(`
`).length+1)),process.stdout.write(pn.erase.down(a.split(`
`).length)),process.stdout.write(`${C}  ${s}
`),a=s,d(),t()};return{start:f,stop:m,message:(y="")=>{s=y??s},extra:(y="")=>{o=y}}},Rp=kp(),ll=(e,r)=>Rp?e:r,vI=ll("\u2502","|"),PI=ll("\u25A0","x"),II=ll("\u25B2","x"),NI=ll("\u25C7","o"),FI=globalThis.process.platform.startsWith("win");function _I({input:e=al.stdin,output:r=al.stdout,overwrite:t=!0,hideCursor:n=!0}={}){let i=Rn.createInterface({input:e,output:r,prompt:"",tabSize:1});Rn.emitKeypressEvents(e,i),e.isTTY&&e.setRawMode(!0);let s=(o,{name:a})=>{if(String(o)===""){n&&r.write(pn.cursor.show),process.exit(0);return}if(!t)return;Rn.moveCursor(r,a==="return"?0:-1,a==="return"?-1:0,()=>{Rn.clearLine(r,1,()=>{e.once("keypress",s)})})};return n&&r.write(pn.cursor.hide),e.once("keypress",s),()=>{e.off("keypress",s),n&&r.write(pn.cursor.show),e.isTTY&&!FI&&e.setRawMode(!1),i.terminal=!1,i.close()}}var Ln=K(Ze(),1);var ex=async(e,r)=>{console.log(""),ot((0,Ln.bgCyan)((0,Ln.bold)((0,Ln.white)(" code indexing ")))+"  "+(0,Ln.dim)(ut)),console.error("NOT SUPPORTED YET"),ct("DONE")};var L=K(Ze(),1);function Er(e){switch(We("cli help",{subcommand:e}),console.log(""),ot((0,L.bgCyan)((0,L.bold)((0,L.white)(" help ")))+"  "+(0,L.dim)(ut)),e){case"add":case"generate":case"gen":case"g":ot(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Generate Figma Components")}

${(0,L.bgGreen)((0,L.white)(" npx khulnasoft.com figma generate URL [URL ...] "))}

Start the auto-mapping wizard for the Figma Component URLs pasted in.

${(0,L.yellow)("Usage:")}
  Get the URL by right-clicking on the Figma Component and selecting
  "Copy Link". Be sure to copy the URL from the main component.

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--figmaToken")}     Figma access token for authentication
  ${(0,L.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,L.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,L.cyan)("--ci")}             Run in CI mode without interactive prompts
  ${(0,L.cyan)("--force")}          Force operation even if there are warnings
  ${(0,L.cyan)("--skipInstallation")} Skip the package installation step
  ${(0,L.cyan)("--yes")}            Auto-confirm all prompts`);break;case"auth":j.info(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Authentication")}

${(0,L.bgGreen)((0,L.white)(" npx khulnasoft.com auth "))}

Re-authenticate with Figma and Khulnasoft.com.

${(0,L.yellow)("Environment Variables:")}
  ${(0,L.cyan)("KHULNASOFT_PUBLIC_KEY")}   Your Khulnasoft.com public API key
  ${(0,L.cyan)("KHULNASOFT_PRIVATE_KEY")}  Your Khulnasoft.com private API key
  ${(0,L.cyan)("FIGMA_PERSONAL_TOKEN")} Your Figma personal access token

${(0,L.yellow)("Non-Interactive Authentication:")}
  Environment variables can be used to skip the interactive authentication process.
  This is especially useful for CI/CD pipelines or automated workflows.

  Example using environment variables:
  ${(0,L.dim)('export KHULNASOFT_PRIVATE_KEY="your-private-key"')}
  ${(0,L.dim)('export FIGMA_PERSONAL_TOKEN="your-figma-token"')}
  ${(0,L.dim)("npx khulnasoft.com figma generate <url> --ci")}

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--figmaToken")}     Figma access token for authentication
  ${(0,L.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,L.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,L.cyan)("--force")}          Force re-authentication even if already authenticated

${(0,L.yellow)("Learn More:")}
  \u2022 Khulnasoft.com API keys: https://www.khulnasoft.com/c/docs/using-your-api-key#managing-private-keys
  \u2022 Figma access token: https://help.figma.com/hc/en-us/articles/8085703771159-Manage-personal-access-tokens
  \u2022 CI setup guide: https://www.khulnasoft.com/c/docs/integrating-khulnasoft-figma`);break;case"publish":j.info(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Publish Mappings")}

${(0,L.bgGreen)((0,L.white)(" npx khulnasoft.com figma publish "))}

Publish your Figma Mappings to Khulnasoft.com.

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,L.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,L.cyan)("--ci")}             Run in CI mode without interactive prompts
  ${(0,L.cyan)("--force")}          Force publish even if there are warnings
  ${(0,L.cyan)("--verbose")}        Print output as JSON
  ${(0,L.cyan)("--dryrun")}         Run without making changes
  ${(0,L.cyan)("--yes")}            Auto-confirm all prompts`);break;case"migrate":j.info(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Migrate Mappings")}

${(0,L.bgGreen)((0,L.white)(" npx khulnasoft.com figma migrate "))}

Migrate your existing Figma Mappings into the repo as local files.

${(0,L.yellow)("Description:")}
  Downloads existing Figma Mappings from Khulnasoft.com and saves them locally.

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,L.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,L.cyan)("--force")}          Force migration even if there are warnings
  ${(0,L.cyan)("--yes")}            Auto-confirm all prompts`);break;case"code":j.info(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Code Generation")}

${(0,L.bgGreen)((0,L.white)(" npx khulnasoft.com code --url URL "))}

Generate or modify code based on Figma designs.

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--url")}            URL to start completion from
  ${(0,L.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,L.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,L.cyan)("--prompt")}         Prompt text for non-interactive mode
  ${(0,L.cyan)("--mode")}           Generation mode - either 'exact' for precise matches or 'creative' for more flexibility
  ${(0,L.cyan)("--cwd")}            Working directory to run commands from

${(0,L.yellow)("Configuration Files:")}
  ${(0,L.cyan)(".khulnasoftignore")}   Add patterns to exclude files from being included in code generation
  ${(0,L.cyan)(".khulnasoftrules")}    Add custom instructions that will be injected into the LLM prompt
  ${(0,L.cyan)(".cursorrules")}     Cursor's settings are automatically supported for consistent behavior`);break;case"indexing":j.info(`${(0,L.cyan)("\u2192")} ${(0,L.bold)("Code Indexing")}

${(0,L.bgGreen)((0,L.white)(" npx khulnasoft.com code indexing "))}

Index your codebase to improve code generation results.

${(0,L.yellow)("Arguments:")}
  ${(0,L.cyan)("--privateKey")}     Khulnasoft.com private API key
  ${(0,L.cyan)("--spaceId")}        Khulnasoft.com space ID to use
  ${(0,L.cyan)("--cwd")}            Working directory to run commands from`);break;default:j.info(`${(0,L.bold)("Available Commands:")}
`),[{command:"generate URL [URL ...]",description:"Start the auto-mapping wizard for Figma Component URLs"},{command:"publish",description:"Publish your Figma Mappings to Khulnasoft.com"},{command:"migrate",description:"Migrate existing Figma Mappings into the repo as local files"},{command:"auth",description:"Re-authenticate with Figma and Khulnasoft.com"},{command:"code",description:"Generate or modify code based on Figma designs"},{command:"indexing",description:"Index your codebase to improve code generation results"}].forEach(({command:t,description:n})=>{j.info(`${(0,L.cyan)("\u2192")} ${(0,L.bgGreen)((0,L.white)(` npx khulnasoft.com figma ${t} `))}
   ${(0,L.dim)(n)}
`)}),j.info(`
Use ${(0,L.cyan)("npx khulnasoft.com figma help <command>")} for detailed help about a command`)}ct("bye \u{1F44B}")}var pE=K(require("crypto"),1);var sN=K(Wl()),Vx=K(Kx()),ho=K(require("@sentry/node"));function pl(e,r,t){let n,i=new Promise(o=>{try{n=(0,Vx.default)(e,r,{stdio:"inherit",...t}),n.on("error",a=>{ho.captureException(a),o(!1)}),n.on("close",a=>{a===0?o(!0):(ho.captureMessage(`cmd "${e} ${r.join(" ")}", exit code: ${a}`,"error"),o(!1))})}catch(a){ho.captureException(a),o(!1)}});return{abort:async()=>{n&&n.kill("SIGINT")},command:i}}var ad=K(require("node:path"),1),El=K(require("node:os"),1);var oN="NORabcdefghilnopqrstuvy",aN=`"#%)*+56789<>?@Z[\\]^|\xA7\xAB\xE4\xE7'`,lN="-.ABDEFGIKWY_\r	z{\xFC",uN=",01234:~\xDC\xDF",cN="",pN="!$&(/;=JX`j\n}\xF6",dN="CHLMPQSTUVfkmspwx ",zx=[oN,aN,lN,uN,cN,pN,dN],fN={C4:.08086208692099685,C0:.2020182639633662,C6:.2372744211422125,C2:.3042805747355606,C5:.4157646363858563,C1:.4790556468110302,C3:.6581971122770317,CX:.980083857442348};function mN(e,r){let t=e[r];if(t===" ")return r>0&&e[r-1]===" "?"C4":"C0";if(t.charCodeAt(0)>255)return"C3";for(let n=0;n<zx.length;n++)if(zx[n].indexOf(t)!==-1)return"C"+n;return"CX"}function go(e){if(e){let r=0;for(let t=0;t<e.length;t++)r+=fN[mN(e,t)];return Math.round(r)}else return 0}var rE=K(require("prompts"),1);function dn(e){return Array.isArray?Array.isArray(e):Qx(e)==="[object Array]"}var hN=1/0;function gN(e){if(typeof e=="string")return e;let r=e+"";return r=="0"&&1/e==-hN?"-0":r}function yN(e){return e==null?"":gN(e)}function Ur(e){return typeof e=="string"}function Yx(e){return typeof e=="number"}function DN(e){return e===!0||e===!1||bN(e)&&Qx(e)=="[object Boolean]"}function Xx(e){return typeof e=="object"}function bN(e){return Xx(e)&&e!==null}function Ht(e){return e!=null}function qp(e){return!e.trim().length}function Qx(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var xN="Incorrect 'index' type",EN=e=>`Invalid value for key ${e}`,CN=e=>`Pattern length exceeds max of ${e}.`,SN=e=>`Missing ${e} property in key`,wN=e=>`Property 'weight' in key '${e}' must be a positive integer`,qx=Object.prototype.hasOwnProperty,Wp=class{constructor(r){this._keys=[],this._keyMap={};let t=0;r.forEach(n=>{let i=Zx(n);this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(n=>{n.weight/=t})}get(r){return this._keyMap[r]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function Zx(e){let r=null,t=null,n=null,i=1,s=null;if(Ur(e)||dn(e))n=e,r=Wx(e),t=Gp(e);else{if(!qx.call(e,"name"))throw new Error(SN("name"));let o=e.name;if(n=o,qx.call(e,"weight")&&(i=e.weight,i<=0))throw new Error(wN(o));r=Wx(o),t=Gp(o),s=e.getFn}return{path:r,id:t,weight:i,src:n,getFn:s}}function Wx(e){return dn(e)?e:e.split(".")}function Gp(e){return dn(e)?e.join("."):e}function TN(e,r){let t=[],n=!1,i=(s,o,a)=>{if(Ht(s))if(!o[a])t.push(s);else{let l=o[a],u=s[l];if(!Ht(u))return;if(a===o.length-1&&(Ur(u)||Yx(u)||DN(u)))t.push(yN(u));else if(dn(u)){n=!0;for(let c=0,p=u.length;c<p;c+=1)i(u[c],o,a+1)}else o.length&&i(u,o,a+1)}};return i(e,Ur(r)?r.split("."):r,0),n?t:t[0]}var AN={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},vN={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,r)=>e.score===r.score?e.idx<r.idx?-1:1:e.score<r.score?-1:1},PN={location:0,threshold:.6,distance:100},IN={useExtendedSearch:!1,getFn:TN,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},ne={...vN,...AN,...PN,...IN},NN=/[^ ]+/g;function FN(e=1,r=3){let t=new Map,n=Math.pow(10,r);return{get(i){let s=i.match(NN).length;if(t.has(s))return t.get(s);let o=1/Math.pow(s,.5*e),a=parseFloat(Math.round(o*n)/n);return t.set(s,a),a},clear(){t.clear()}}}var yo=class{constructor({getFn:r=ne.getFn,fieldNormWeight:t=ne.fieldNormWeight}={}){this.norm=FN(t,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}setSources(r=[]){this.docs=r}setIndexRecords(r=[]){this.records=r}setKeys(r=[]){this.keys=r,this._keysMap={},r.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ur(this.docs[0])?this.docs.forEach((r,t)=>{this._addString(r,t)}):this.docs.forEach((r,t)=>{this._addObject(r,t)}),this.norm.clear())}add(r){let t=this.size();Ur(r)?this._addString(r,t):this._addObject(r,t)}removeAt(r){this.records.splice(r,1);for(let t=r,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(r,t){return r[this._keysMap[t]]}size(){return this.records.length}_addString(r,t){if(!Ht(r)||qp(r))return;let n={v:r,i:t,n:this.norm.get(r)};this.records.push(n)}_addObject(r,t){let n={i:t,$:{}};this.keys.forEach((i,s)=>{let o=i.getFn?i.getFn(r):this.getFn(r,i.path);if(Ht(o)){if(dn(o)){let a=[],l=[{nestedArrIndex:-1,value:o}];for(;l.length;){let{nestedArrIndex:u,value:c}=l.pop();if(Ht(c))if(Ur(c)&&!qp(c)){let p={v:c,i:u,n:this.norm.get(c)};a.push(p)}else dn(c)&&c.forEach((p,d)=>{l.push({nestedArrIndex:d,value:p})})}n.$[s]=a}else if(Ur(o)&&!qp(o)){let a={v:o,n:this.norm.get(o)};n.$[s]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}};function eE(e,r,{getFn:t=ne.getFn,fieldNormWeight:n=ne.fieldNormWeight}={}){let i=new yo({getFn:t,fieldNormWeight:n});return i.setKeys(e.map(Zx)),i.setSources(r),i.create(),i}function _N(e,{getFn:r=ne.getFn,fieldNormWeight:t=ne.fieldNormWeight}={}){let{keys:n,records:i}=e,s=new yo({getFn:r,fieldNormWeight:t});return s.setKeys(n),s.setIndexRecords(i),s}function dl(e,{errors:r=0,currentLocation:t=0,expectedLocation:n=0,distance:i=ne.distance,ignoreLocation:s=ne.ignoreLocation}={}){let o=r/e.length;if(s)return o;let a=Math.abs(n-t);return i?o+a/i:a?1:o}function kN(e=[],r=ne.minMatchCharLength){let t=[],n=-1,i=-1,s=0;for(let o=e.length;s<o;s+=1){let a=e[s];a&&n===-1?n=s:!a&&n!==-1&&(i=s-1,i-n+1>=r&&t.push([n,i]),n=-1)}return e[s-1]&&s-n>=r&&t.push([n,s-1]),t}var ui=32;function ON(e,r,t,{location:n=ne.location,distance:i=ne.distance,threshold:s=ne.threshold,findAllMatches:o=ne.findAllMatches,minMatchCharLength:a=ne.minMatchCharLength,includeMatches:l=ne.includeMatches,ignoreLocation:u=ne.ignoreLocation}={}){if(r.length>ui)throw new Error(CN(ui));let c=r.length,p=e.length,d=Math.max(0,Math.min(n,p)),f=s,m=d,h=a>1||l,g=h?Array(p):[],y;for(;(y=e.indexOf(r,m))>-1;){let T=dl(r,{currentLocation:y,expectedLocation:d,distance:i,ignoreLocation:u});if(f=Math.min(T,f),m=y+c,h){let R=0;for(;R<c;)g[y+R]=1,R+=1}}m=-1;let D=[],C=1,x=c+p,b=1<<c-1;for(let T=0;T<c;T+=1){let R=0,B=x;for(;R<B;)dl(r,{errors:T,currentLocation:d+B,expectedLocation:d,distance:i,ignoreLocation:u})<=f?R=B:x=B,B=Math.floor((x-R)/2+R);x=B;let I=Math.max(1,d-B+1),O=o?p:Math.min(d+B,p)+c,Z=Array(O+2);Z[O+1]=(1<<T)-1;for(let N=O;N>=I;N-=1){let z=N-1,oe=t[e.charAt(z)];if(h&&(g[z]=+!!oe),Z[N]=(Z[N+1]<<1|1)&oe,T&&(Z[N]|=(D[N+1]|D[N])<<1|1|D[N+1]),Z[N]&b&&(C=dl(r,{errors:T,currentLocation:z,expectedLocation:d,distance:i,ignoreLocation:u}),C<=f)){if(f=C,m=z,m<=d)break;I=Math.max(1,2*d-m)}}if(dl(r,{errors:T+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>f)break;D=Z}let E={isMatch:m>=0,score:Math.max(.001,C)};if(h){let T=kN(g,a);T.length?l&&(E.indices=T):E.isMatch=!1}return E}function RN(e){let r={};for(let t=0,n=e.length;t<n;t+=1){let i=e.charAt(t);r[i]=(r[i]||0)|1<<n-t-1}return r}var fl=class{constructor(r,{location:t=ne.location,threshold:n=ne.threshold,distance:i=ne.distance,includeMatches:s=ne.includeMatches,findAllMatches:o=ne.findAllMatches,minMatchCharLength:a=ne.minMatchCharLength,isCaseSensitive:l=ne.isCaseSensitive,ignoreLocation:u=ne.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?r:r.toLowerCase(),this.chunks=[],!this.pattern.length)return;let c=(d,f)=>{this.chunks.push({pattern:d,alphabet:RN(d),startIndex:f})},p=this.pattern.length;if(p>ui){let d=0,f=p%ui,m=p-f;for(;d<m;)c(this.pattern.substr(d,ui),d),d+=ui;if(f){let h=p-ui;c(this.pattern.substr(h),h)}}else c(this.pattern,0)}searchIn(r){let{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(r=r.toLowerCase()),this.pattern===r){let m={isMatch:!0,score:0};return n&&(m.indices=[[0,r.length-1]]),m}let{location:i,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:l,ignoreLocation:u}=this.options,c=[],p=0,d=!1;this.chunks.forEach(({pattern:m,alphabet:h,startIndex:g})=>{let{isMatch:y,score:D,indices:C}=ON(r,m,h,{location:i+g,distance:s,threshold:o,findAllMatches:a,minMatchCharLength:l,includeMatches:n,ignoreLocation:u});y&&(d=!0),p+=D,y&&C&&(c=[...c,...C])});let f={isMatch:d,score:d?p/this.chunks.length:1};return d&&n&&(f.indices=c),f}},jr=class{constructor(r){this.pattern=r}static isMultiMatch(r){return Gx(r,this.multiRegex)}static isSingleMatch(r){return Gx(r,this.singleRegex)}search(){}};function Gx(e,r){let t=e.match(r);return t?t[1]:null}var Hp=class extends jr{constructor(r){super(r)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(r){let t=r===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Jp=class extends jr{constructor(r){super(r)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(r){let n=r.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,r.length-1]}}},Yp=class extends jr{constructor(r){super(r)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(r){let t=r.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},Xp=class extends jr{constructor(r){super(r)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(r){let t=!r.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,r.length-1]}}},Qp=class extends jr{constructor(r){super(r)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(r){let t=r.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[r.length-this.pattern.length,r.length-1]}}},Zp=class extends jr{constructor(r){super(r)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(r){let t=!r.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,r.length-1]}}},ml=class extends jr{constructor(r,{location:t=ne.location,threshold:n=ne.threshold,distance:i=ne.distance,includeMatches:s=ne.includeMatches,findAllMatches:o=ne.findAllMatches,minMatchCharLength:a=ne.minMatchCharLength,isCaseSensitive:l=ne.isCaseSensitive,ignoreLocation:u=ne.ignoreLocation}={}){super(r),this._bitapSearch=new fl(r,{location:t,threshold:n,distance:i,includeMatches:s,findAllMatches:o,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(r){return this._bitapSearch.searchIn(r)}},hl=class extends jr{constructor(r){super(r)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(r){let t=0,n,i=[],s=this.pattern.length;for(;(n=r.indexOf(this.pattern,t))>-1;)t=n+s,i.push([n,t-1]);let o=!!i.length;return{isMatch:o,score:o?0:1,indices:i}}},ed=[Hp,hl,Yp,Xp,Zp,Qp,Jp,ml],Hx=ed.length,LN=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,BN="|";function MN(e,r={}){return e.split(BN).map(t=>{let n=t.trim().split(LN).filter(s=>s&&!!s.trim()),i=[];for(let s=0,o=n.length;s<o;s+=1){let a=n[s],l=!1,u=-1;for(;!l&&++u<Hx;){let c=ed[u],p=c.isMultiMatch(a);p&&(i.push(new c(p,r)),l=!0)}if(!l)for(u=-1;++u<Hx;){let c=ed[u],p=c.isSingleMatch(a);if(p){i.push(new c(p,r));break}}}return i})}var $N=new Set([ml.type,hl.type]),td=class{constructor(r,{isCaseSensitive:t=ne.isCaseSensitive,includeMatches:n=ne.includeMatches,minMatchCharLength:i=ne.minMatchCharLength,ignoreLocation:s=ne.ignoreLocation,findAllMatches:o=ne.findAllMatches,location:a=ne.location,threshold:l=ne.threshold,distance:u=ne.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:i,findAllMatches:o,ignoreLocation:s,location:a,threshold:l,distance:u},this.pattern=t?r:r.toLowerCase(),this.query=MN(this.pattern,this.options)}static condition(r,t){return t.useExtendedSearch}searchIn(r){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:i}=this.options;r=i?r:r.toLowerCase();let s=0,o=[],a=0;for(let l=0,u=t.length;l<u;l+=1){let c=t[l];o.length=0,s=0;for(let p=0,d=c.length;p<d;p+=1){let f=c[p],{isMatch:m,indices:h,score:g}=f.search(r);if(m){if(s+=1,a+=g,n){let y=f.constructor.type;$N.has(y)?o=[...o,...h]:o.push(h)}}else{a=0,s=0,o.length=0;break}}if(s){let p={isMatch:!0,score:a/s};return n&&(p.indices=o),p}}return{isMatch:!1,score:1}}},rd=[];function UN(...e){rd.push(...e)}function nd(e,r){for(let t=0,n=rd.length;t<n;t+=1){let i=rd[t];if(i.condition(e,r))return new i(e,r)}return new fl(e,r)}var gl={AND:"$and",OR:"$or"},id={PATH:"$path",PATTERN:"$val"},sd=e=>!!(e[gl.AND]||e[gl.OR]),jN=e=>!!e[id.PATH],KN=e=>!dn(e)&&Xx(e)&&!sd(e),Jx=e=>({[gl.AND]:Object.keys(e).map(r=>({[r]:e[r]}))});function tE(e,r,{auto:t=!0}={}){let n=i=>{let s=Object.keys(i),o=jN(i);if(!o&&s.length>1&&!sd(i))return n(Jx(i));if(KN(i)){let l=o?i[id.PATH]:s[0],u=o?i[id.PATTERN]:i[l];if(!Ur(u))throw new Error(EN(l));let c={keyId:Gp(l),pattern:u};return t&&(c.searcher=nd(u,r)),c}let a={children:[],operator:s[0]};return s.forEach(l=>{let u=i[l];dn(u)&&u.forEach(c=>{a.children.push(n(c))})}),a};return sd(e)||(e=Jx(e)),n(e)}function VN(e,{ignoreFieldNorm:r=ne.ignoreFieldNorm}){e.forEach(t=>{let n=1;t.matches.forEach(({key:i,norm:s,score:o})=>{let a=i?i.weight:null;n*=Math.pow(o===0&&a?Number.EPSILON:o,(a||1)*(r?1:s))}),t.score=n})}function zN(e,r){let t=e.matches;r.matches=[],Ht(t)&&t.forEach(n=>{if(!Ht(n.indices)||!n.indices.length)return;let{indices:i,value:s}=n,o={indices:i,value:s};n.key&&(o.key=n.key.src),n.idx>-1&&(o.refIndex=n.idx),r.matches.push(o)})}function qN(e,r){r.score=e.score}function WN(e,r,{includeMatches:t=ne.includeMatches,includeScore:n=ne.includeScore}={}){let i=[];return t&&i.push(zN),n&&i.push(qN),e.map(s=>{let{idx:o}=s,a={item:r[o],refIndex:o};return i.length&&i.forEach(l=>{l(s,a)}),a})}var fn=class{constructor(r,t={},n){this.options={...ne,...t},this.options.useExtendedSearch,this._keyStore=new Wp(this.options.keys),this.setCollection(r,n)}setCollection(r,t){if(this._docs=r,t&&!(t instanceof yo))throw new Error(xN);this._myIndex=t||eE(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(r){Ht(r)&&(this._docs.push(r),this._myIndex.add(r))}remove(r=()=>!1){let t=[];for(let n=0,i=this._docs.length;n<i;n+=1){let s=this._docs[n];r(s,n)&&(this.removeAt(n),n-=1,i-=1,t.push(s))}return t}removeAt(r){this._docs.splice(r,1),this._myIndex.removeAt(r)}getIndex(){return this._myIndex}search(r,{limit:t=-1}={}){let{includeMatches:n,includeScore:i,shouldSort:s,sortFn:o,ignoreFieldNorm:a}=this.options,l=Ur(r)?Ur(this._docs[0])?this._searchStringList(r):this._searchObjectList(r):this._searchLogical(r);return VN(l,{ignoreFieldNorm:a}),s&&l.sort(o),Yx(t)&&t>-1&&(l=l.slice(0,t)),WN(l,this._docs,{includeMatches:n,includeScore:i})}_searchStringList(r){let t=nd(r,this.options),{records:n}=this._myIndex,i=[];return n.forEach(({v:s,i:o,n:a})=>{if(!Ht(s))return;let{isMatch:l,score:u,indices:c}=t.searchIn(s);l&&i.push({item:s,idx:o,matches:[{score:u,value:s,norm:a,indices:c}]})}),i}_searchLogical(r){let t=tE(r,this.options),n=(a,l,u)=>{if(!a.children){let{keyId:p,searcher:d}=a,f=this._findMatches({key:this._keyStore.get(p),value:this._myIndex.getValueForItemAtKeyId(l,p),searcher:d});return f&&f.length?[{idx:u,item:l,matches:f}]:[]}let c=[];for(let p=0,d=a.children.length;p<d;p+=1){let f=a.children[p],m=n(f,l,u);if(m.length)c.push(...m);else if(a.operator===gl.AND)return[]}return c},i=this._myIndex.records,s={},o=[];return i.forEach(({$:a,i:l})=>{if(Ht(a)){let u=n(t,a,l);u.length&&(s[l]||(s[l]={idx:l,item:a,matches:[]},o.push(s[l])),u.forEach(({matches:c})=>{s[l].matches.push(...c)}))}}),o}_searchObjectList(r){let t=nd(r,this.options),{keys:n,records:i}=this._myIndex,s=[];return i.forEach(({$:o,i:a})=>{if(!Ht(o))return;let l=[];n.forEach((u,c)=>{l.push(...this._findMatches({key:u,value:o[c],searcher:t}))}),l.length&&s.push({idx:a,item:o,matches:l})}),s}_findMatches({key:r,value:t,searcher:n}){if(!Ht(t))return[];let i=[];if(dn(t))t.forEach(({v:s,i:o,n:a})=>{if(!Ht(s))return;let{isMatch:l,score:u,indices:c}=n.searchIn(s);l&&i.push({score:u,key:r,value:s,idx:o,norm:a,indices:c})});else{let{v:s,n:o}=t,{isMatch:a,score:l,indices:u}=n.searchIn(s);a&&i.push({score:l,key:r,value:s,norm:o,indices:u})}return i}};fn.version="7.0.0";fn.createIndex=eE;fn.parseIndex=_N;fn.config=ne;fn.parseQuery=tE;UN(td);var nE=K(Ze(),1);var od=class{constructor(r,t){this.sys=r;this.appRootDir=t;Dd(this,"tokenCache",new Map)}get(r){if(!this.tokenCache.has(r)){let t=this.sys.readFileSync(this.sys.join(this.appRootDir,r))??"";this.tokenCache.set(r,go(t))}return this.tokenCache.get(r)}getForVisible(r,t){return t?this.get(r):0}calculateTotal(r){return r.reduce((t,n)=>t+this.get(n.value),0)}};async function iE(e,r,t,n,i){let s=new od(e,t),o=c=>({title:(0,nE.dim)(c),value:c});if(r.length<4)return null;let a=r.map(o),l=new fn(a,{keys:["value"]});j.message("");let u=await(0,rE.default)({type:"autocomplete",name:"file",message:" Add context file (Ctrl+C to skip)",choices:r.map(o),suggest:async(c,p)=>{let d;c?d=l.search(c).map(m=>m.item):d=p.sort((m,h)=>{let g=n.get(m.value)??0;return(n.get(h.value)??0)-g}).slice(0,10);let f=[];for(let m of d)s.get(m.value)<=i&&f.push(m);return f.length===0?[{title:"No valid matching files",value:"",disabled:!0}]:f},validate:c=>{if(!c)return"Please select a file";let p=s.get(c);return p>i?`File exceeds token limit of ${i} (has ${p} tokens)`:!0}});return u.file?(n.set(u.file,4),u.file):null}var ld=K(require("prettier"),1);function GN(e){return Math.min(3,Math.max(0,e))}var dE=async(e,r,t)=>{r==="indexing"?await ex(e,t):r==="generate"||r==="gen"||r==="g"?await sE(e,t):r==="gen"?Er("code"):await sE(e,t)},sE=async(e,r)=>{console.log(""),ot((0,te.bgCyan)((0,te.bold)((0,te.white)(" code ")))+"  "+(0,te.dim)(ut));let t=await Ot(e,r,{forceSpaceId:r.spaceId,khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0}),n={history:[],undoStates:[],sessionId:pE.default.randomUUID(),selectedFilePaths:new Map};We("figma code started",{spaceId:t.khulnasoftPublicKey});let i=r.url;if(await Do(e),r.prompt){let l={userPrompt:r.prompt,mode:r.mode||"precise"};await oE(e,t,r,n,l.userPrompt,i,null),ct(`${(0,te.bgGreen)((0,te.bold)((0,te.white)(" Done! \u{1F389} ")))} ${(0,te.dim)("session "+n.sessionId)}`),cd(n.sessionId,t.khulnasoftPublicKey),We("figma code accepted",{spaceId:t.khulnasoftPublicKey,userPrompt:l.userPrompt});let u=n.history[n.history.length-1]?.id;u&&await ud(e,t,u,!!r.verbose,"positive");return}if(!process.stdout.isTTY&&process.env.FORCE_TTY!=="1")return de(`This command requires a TTY-enabled terminal.
If you are using Windows Git Bash, try a different terminal or wrap the command with winpty.`),await ee(1);let s=e.getAppRootDir(),o=await e.getRepoInfo();for(!await Gr(e,s)&&!o.remoteUrl&&await Ct({message:"Looks like this is an empty project. Would you like to set up a new Khulnasoft.com project?",active:"Yes, create new project",inactive:"Skip for now"})&&(await pl("npm",["init","khulnasoft.com@latest","--","--skip-question"],{stdio:"inherit",cwd:s}).command||(de(`Project creation failed. To create a new project manually, run:
${(0,te.bold)("npm init khulnasoft.com@latest")}`),await ee(1)));;){let l=await HN(e,t,r,n,!!i);if(l.command==="exit")break;let u=l.userPrompt;u&&await oE(e,t,r,n,u,i,void 0)}};async function HN(e,r,t,n,i){let{isNextPage:s}=mE(n.nextUrl);if(s){j.warn("Large generation in progress.");let u=await Ct({message:"Do you want to continue generating?",active:"Continue",inactive:"Stop"});return Re(u)||!u?(j.info("Generation stopped by user"),{command:"exit"}):{command:void 0,userPrompt:"continue"}}let o=e.getAppRootDir(),a="",l="precise";if(n.history.length===0){let p=await jt({message:i?"How does the design integrate into the project? (be detailed)":"What do you want to do?",placeholder:i?'some examples: "add a header to the layout of the app", "add a new contact page", "update the card component"':'some examples: "add a new page", "add a new component", "update the button component"',validate(d){if(i){if(d.length===0)return"please, enter a detailed instruction";if(d.length<10)return"a more detailed instruction is needed"}else if(d.length===0)return"please, provide some prompt"}});if(Re(p))return de("See you later! \u{1F44B}"),cd(n.sessionId,r.khulnasoftPublicKey),{command:"exit"};if(a=p??"integrate design into the app, might be a new page/component/layout depending on the design",i){let d=l??await Hd({message:"How do you want to apply the changes?",options:[{value:"precise",label:"Precise",hint:"imports exactly as designed, might include artifacts"},{value:"creative",label:"Match-my-style",hint:"design might be slighly changed to match the codebase, but looks better"}]});if(Re(d))return de("Command cancelled"),{command:"exit"};l=d}else l="creative"}else{let u=n.history[n.history.length-1]?.id;j.message(`What do you want to do next?

${(0,te.bgBlack)(" Ctrl+C ")} ${(0,te.dim)("to accept changes and exit")}
${(0,te.bgBlack)(' "undo" ')} ${(0,te.dim)("to undo last changes and try again")}`,{symbol:(0,te.green)("\u2714")});let c=await jt({message:`${(0,te.bgBlack)(" Follow up ")} with more instructions:`,placeholder:' Reply "accept", "undo", or provide follow-up feedback (Ctrl+C to exit)',validate(f){if(!f)return"Please enter a value (Ctrl+C & exit)"}});if(Re(c)||c.trim().toLowerCase()==="accept")return ct(`${(0,te.bgGreen)((0,te.bold)((0,te.white)(" Done! \u{1F389} ")))} ${(0,te.dim)("session "+n.sessionId)}`),cd(n.sessionId,r.khulnasoftPublicKey),We("figma code accepted",{spaceId:r.khulnasoftPublicKey,userPrompt:a}),u&&await ud(e,r,u,!!t.verbose,"positive"),{command:"exit"};let d=c.trim().toLowerCase().replace(/"|'/g,"");if(d.startsWith("undo")){u&&await ud(e,r,u,!!t.verbose,"negative"),n.history.pop();let f=n.history.pop(),m=n.undoStates.pop();if(m){for(let g of m.files)g.content?await e.writeFile(e.join(o,g.path),g.content):await e.unlink(e.join(o,g.path));j.warn(`Restored files to previous state:
${m.files.map(g=>(0,te.dim)(" - "+g.path)).join(`
`)}
`)}return{command:"undo",userPrompt:d!=="undo"&&f?.content?`${f}
followup: ${d.replace("undo","")}`:void 0,mode:l}}a=c}return{command:void 0,userPrompt:a,mode:l}}var JN=10,yl=50,ci=1e5,YN=2,fE=2;async function oE(e,r,t,n,i,s,o){let a=e.getAppRootDir(),l=await e.getRepoInfo(),u=await Gr(e,a),c=Qn(An),p=n.nextUrl??s,{isNextPage:d}=mE(p),f;try{let h=await ol(a),g=[],y=[],D=!1,C=!1;if(!d){let I=oF(e,r,t,n,l,g,y,i,h,u);f&&(f.stop(""),f=void 0);let O=o===void 0?await iE(e,h,a,n.selectedFilePaths,ci):o;I&&(f=sr(),f.start("Analyzing relevant files"),await I,f&&(f.stop("Repo analyzed successfully"),f=void 0)),O&&!g.includes(O)&&g.push(O)}let x=await nF(e,a);f=sr(),f.start("Thinking"),n.undoStates.push({files:[]});let b=await ld.default.resolveConfigFile(process.cwd()),E=b?await ld.default.resolveConfig(b):null,T=[],R={url:p,position:process.env.NODE_ENV==="test"?"cli-test":"cli",eventName:"cli code",maxPages:1,autoContinue:1,userContext:aF(l),files:g.map(I=>({filePath:I,content:e.readFileSync(e.join(a,I)),importance:n.selectedFilePaths.get(I)??1})).concat(y.slice(0,300).map(I=>({filePath:I}))),customInstructions:x,sessionId:n.sessionId,userPrompt:i,rerankFiles:10,prettierConfig:E??void 0},B=XN(r,R,!!t.verbose);for await(let I of B)try{let ie=function(N,z){N.type==="text"&&(D||(process.stdout.write((0,te.dim)(`\u2502  
`)+(0,te.magenta)("~  ")),D=!0),process.stdout.write(z.replace(/\n/g,`
`+(0,te.magenta)("\u2502  ")))),!N.synthetic&&(N.type==="file"||N.type==="diff")&&f&&f.extra(`

${c.highlightAuto(N.content).value.split(`
`).slice(-10).map(oe=>oe.length>process.stdout.columns?oe.slice(0,process.stdout.columns-5):oe).join(`
`)}`)};var m=ie;async function O(N){if(D&&(process.stdout.write(`
`),D=!1),N.type==="user"&&(f=sr(),f.start(N.content)),N.type==="thinking"&&(f=sr(),f.start("Planning")),N.type==="file"&&!N.synthetic&&(f=sr(),f.start(`${N.actionTitle??N.artifactTitle}`)),N.type==="diff"&&(f=sr(),f.start(`${N.actionTitle??N.artifactTitle}`)),N.type==="done"){if(Array.isArray(N.actions))for(let z of N.actions){let oe=z.filePath;if(z.type==="file"&&oe&&!z.incomplete){let F=e.join(a,oe),Y=e.existsSync(F)?e.readFileSync(F):null;n.undoStates[n.undoStates.length-1].files.push({path:oe,content:Y}),await e.writeFile(F,z.content),n.selectedFilePaths.set(oe,3),g.includes(oe)||g.push(oe)}}if(n.history.push({role:"user",content:i}),n.history.push({role:"assistant",content:N.content,id:N.id}),N.usage&&N.usage.total/N.usage.limits.aiGeneration>.5&&j.info(sF(N.usage.total,N.usage.limits.aiGeneration)),N.stopReason==="limit"){j.error((0,te.red)("\u{1F6A8} The request was cancelled because it reached the account limits."));let z=new URL("https://khulnasoft.com/account/subscription");if(z.searchParams.set("space_id",r.khulnasoftPublicKey),await Ct({message:(0,te.dim)(z.href),active:"Open subscription page",inactive:"Exit"})){let{default:F}=await import("open");await F(z.href)}return await ee(1),!0}else f&&(f.stop(),f=void 0),f=sr(),f.start("Applying changes...")}return N.type==="continue"?(f&&(f.stop((0,te.green)("Changes are applied")),f=void 0),n.nextUrl=N.nextUrl,!0):!1}async function Z(N){if(N.type==="done"&&f&&(f.stop((0,te.green)("Changes are applied")),f=void 0),N.type==="thinking"&&f&&(f.stop("Implementation plan generated"),f=void 0),N.type==="user"&&f&&(f.stop(),f=void 0),N.type==="diff"&&f&&(f.stop(`${N.actionTitle??N.artifactTitle}: ${(0,te.dim)(N.filePath)}`),f=void 0),N.type==="file"&&N.filePath&&f&&!N.synthetic&&(f.stop(`${N.actionTitle??N.artifactTitle??"Created"}: ${(0,te.dim)(N.filePath)}`),f=void 0),N.type==="shell"){j.message(`Requested to run command:
${(0,te.bgBlack)(" "+N.content.trim()+" ")}`,{symbol:(0,te.magenta)("~")});let z=await Ct({message:"Do you want to execute and continue?",active:`Execute ${(0,te.dim)("(recommended)")}`,inactive:"Skip"});if(Re(z)||!z){j.warn(`Command skipped. Run it manually:
${(0,te.bgBlack)(" "+N.content+" ")}.`);return}f=sr(),f.start(`Running \`${N.content}\``),await rF(N.content,{shell:!0,stdio:"inherit"})?f.stop(`Command \`${N.content}\` completed`):f.stop(`Command \`${N.content}\` failed`,2),f=void 0}}if(f&&!C&&(f.stop("\u{1F4A1}"),f=void 0,C=!0),I.type==="delta"){let N=I.content,z=T[T.length-1];z&&(z.content+=N),await ie(z,N)}else{let N=T[T.length-1];if(N&&(N.incomplete=!1,await Z(N)),T.push(I),await O(I))break}}catch{}D&&(process.stdout.write(`
`),D=!1);return}finally{f&&(f.stop(),f=void 0)}}async function*XN(e,r,t){let n=JSON.stringify(r),i=new URL(`${mr}/codegen/completion`);i.searchParams.set("apiKey",e.khulnasoftPublicKey),i.searchParams.set("userId",e.userId),t&&console.log("FETCH",i,n);let s=await nt(i,{method:"POST",body:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.khulnasoftPrivateKey}`}});if(!s.ok)throw new Error(`Failed to generate completion:
`+await s.text());let o=ul(s.body);for await(let a of o){if(a.length===0)continue;yield JSON.parse(a)}}async function ud(e,r,t,n,i,s){try{let o=JSON.stringify({id:t,feedbackText:s,feedbackSentiment:i}),a=new URL(`${mr}/codegen/feedback`);a.searchParams.set("apiKey",r.khulnasoftPublicKey),a.searchParams.set("userId",r.userId),n&&console.log("FETCH",a,o),await nt(a,{method:"POST",body:o,headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.khulnasoftPrivateKey}`}})}catch(o){e.Sentry?.captureException(o)}}async function QN(e,r,t,n){try{let i=new URL(`${mr}/codegen/search`);i.searchParams.set("apiKey",r.khulnasoftPublicKey),i.searchParams.set("userId",r.userId),i.searchParams.set("v2","true"),t.verbose&&console.log("FETCH",i,JSON.stringify(n));let s=await nt(i,{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.khulnasoftPrivateKey}`}});if(!s.ok)throw new Error(`Failed to search codebase:
`+await s.text());return await s.json()}catch(i){return e.Sentry?.captureException(i),null}}function ZN(e,r,t){let n=e.readFileSync(e.join(r,t))??"";return{tokens:go(n),content:n}}function aE(e,r){if(r===0)return Math.floor(ci*.15);let t=Math.floor(ci/(r+2));return e>=fE?Math.min(Math.floor(ci*.3),t*1.5):Math.min(Math.floor(ci*.15),t*.75)}async function eF(e,r=10){let t=new Map;try{let n=`git log -n ${r} --name-only --format="%H"`,i=(0,xl.execSync)(n,{cwd:e,encoding:"utf-8",stdio:"pipe"}).split(`
`),s=null,o=[];for(let u of i)u&&(u.match(/^[0-9a-f]{40}$/)?(s&&o.length&&lE(t,o,s),s=u,o.length=0):o.push(u));s&&o.length&&lE(t,o,s);let l=(0,xl.execSync)("git status --porcelain",{cwd:e,encoding:"utf-8",stdio:"pipe"}).split(`
`).filter(Boolean).map(u=>u.slice(3));for(let u of l)t.has(u)||t.set(u,{filePath:u,lastModified:new Date,frequency:1,commitIds:[],relatedFiles:new Set});for(let[u,c]of t)try{let p=`git log -1 --format=%cd --date=iso ${u}`,d=(0,xl.execSync)(p,{cwd:e,encoding:"utf-8",stdio:"pipe"}).trim();d&&(c.lastModified=new Date(d))}catch{c.lastModified=new Date}return t}catch(n){return process.env.DEBUG&&console.error("Error getting git history:",n),new Map}}function lE(e,r,t){for(let n of r)if(!e.has(n))e.set(n,{filePath:n,lastModified:new Date,frequency:1,commitIds:[t],relatedFiles:new Set});else{let i=e.get(n);i.frequency++,i.commitIds.push(t)}for(let n of r){let i=e.get(n);r.forEach(s=>{s!==n&&i.relatedFiles.add(s)})}}function tF(e,r,t,n){let i=r.get(e);if(!i)return t;let o=(new Date().getTime()-i.lastModified.getTime())/(1e3*60*60*24),a=Math.max(0,1-o/30),l=Math.min(1,i.frequency/5),u=ad.default.dirname(e),c=0;for(let[h]of r)ad.default.dirname(h)===u&&(c+=.2);c=Math.min(1,c);let p=0;for(let h of n)if(e===h||e.startsWith(h+"/")){p=1;break}let d=0;i.relatedFiles.size>0&&Array.from(i.relatedFiles).some(g=>n.some(y=>g===y||g.startsWith(y+"/")))&&(d=.8);let f=(a+l+c+p+d)/5;return Math.max(t,1+f*3)}function Dl(e,r){return!(r.includes(".test.")||r.includes(".spec.")||r.includes(".unit.")||r.includes(".e2e.")||r.includes("test")||r.includes("tests")||e.basename(r).startsWith("."))}function bl(e,r,t,n){let i=t.get(e)??0;if(e==="package.json"||e==="tsconfig.json"||e.includes("tailwind.config")||e.includes("next.config")||e.endsWith("components.json")||e.endsWith("/app.component.ts")||e.endsWith("/app.component.html")||e.endsWith("/app.component.css")||e.endsWith("/app.component.scss")||e.endsWith("/app.module.ts")||e.endsWith("/app.config.ts")||e.endsWith("/app.routes.ts"))return 3;if(e.includes("components/ui/")||e.endsWith(".mapper.tsx")||e.endsWith(".mapper.jsx")||e.includes("vendor/")||e.startsWith("lib/")||e.endsWith("package-lock.json")||e.endsWith("khulnasoft-registry.ts"))return i;if(e.includes("layout"))return Math.max(i,2);if(uE(e)<3&&e.includes("route"))return Math.max(i,3);if(uE(e)<2&&(e.endsWith(".css")||e.endsWith(".scss")))return Math.max(i,2);if(r.length>0){if(r.some(s=>e.includes(s)))return Math.max(i,2)}else if(e.includes("components/ui/"))return i;return!e.endsWith(".ts")&&!e.endsWith(".tsx")&&!e.endsWith(".js")&&!e.endsWith(".jsx")&&!e.endsWith(".html")&&!e.endsWith(".html.erb")?i:Math.max(i,n)}function uE(e){return(e.match(/\//g)||[]).length}async function*ul(e){if(!e)return;let r="",t=e.getReader(),n,i;for(;!n&&({value:i,done:n}=await t.read(),!n);){let s=new TextDecoder().decode(i);r+=s;let o=r.split(`
`);for(let a=0;a<o.length-1;a++)yield o[a];r=o[o.length-1]}}function rF(e,r){let t;return new Promise(i=>{try{t=(0,cE.spawn)(e,{shell:!0,...r}),t.on("error",()=>{i(!1)}),t.on("close",s=>{i(s===0)})}catch{i(!1)}})}async function nF(e,r){let t=[];async function n(i){try{let s=e.resolve(r,i);if(await e.exists(s)){let o=await e.readFile(s);if(o){let a="hash-"+await e.hash(o);t.push({id:a,name:i,content:o})}}}catch(s){console.debug(`No ${i} found or error reading it:`,s)}}return await n(".cursorrules"),await n(".khulnasoftrules"),await n(".windsurfrules"),await n(".github/copilot-instructions.md"),t}function iF(e,r){let t="https://docs.google.com/forms/d/e/1FAIpQLSdHUIxeNZCAeMTgAWehxBtZplgcqXqyPbGf9Z1Advnf2ARxGw/viewform",n="entry.986969459",i="entry.1867678972",s=new URL(t);return s.searchParams.set("usp","pp_url"),s.searchParams.set(n,e),r&&s.searchParams.set(i,r),s.toString()}function cd(e,r){let t=iF(e,r);console.log(`
   \u{1F4DD} We'd love your feedback on the code generation!
   ${(0,te.dim)(t)}
`)}function sF(e,r){let t=Math.round(e/r*100),n=process.stdout.columns||80,i=Math.min(Math.floor(n/2),80),s=Math.round(t/100*i),o=i-s,a="\u2588".repeat(s),l="\u2591".repeat(o),u=e.toLocaleString(),c=r.toLocaleString();return`Usage: ${u}/${c}
${a}${l}`}async function oF(e,r,t,n,i,s,o,a,l,u){let c=0,p=[],d=e.getAppRootDir(),f=await QN(e,r,t,{query:a,repoInfo:i,limit:JN,files:l.slice(0,300),packageJson:u?JSON.stringify(u):void 0,sessionId:n.sessionId}),m=new Set;for(let y of f?.ranked??[])m.add(y.filePath);let h=Array.from(m),g=f?.relevantPaths??[];if(h.length>0)for(let y of l){let D=bl(y,h,n.selectedFilePaths,0);D!==0&&s.length<yl?(s.push(y),n.selectedFilePaths.set(y,D)):Dl(e,y)&&o.push(y)}else if(i.commit){let y=await eF(d),D=l.map(b=>{let E=bl(b,[],n.selectedFilePaths,1);if(E===0)return null;let T=tF(b,y,E,g);return{file:b,importance:Math.max(E,T)}}).filter(b=>b!==null&&b.importance>0).sort((b,E)=>E.importance-b.importance),C=D.filter(b=>b.importance>=fE).length,x=D.map(({file:b,importance:E})=>{let{tokens:T}=ZN(e,d,b),R=aE(E,C);return{file:b,importance:E,tokens:T,maxTokens:R}});x.sort((b,E)=>{let T=b.tokens>b.maxTokens,R=E.tokens>E.maxTokens;return T!==R?T?1:-1:b.importance!==E.importance?E.importance-b.importance:b.tokens-E.tokens});for(let{file:b,importance:E,tokens:T,maxTokens:R}of x){if(T>R){p.push(b);continue}c+T<=ci&&s.length<yl?(s.push(b),c+=T,n.selectedFilePaths.set(b,E)):Dl(e,b)&&o.push(b)}if(D.forEach(({file:b,importance:E})=>{n.selectedFilePaths.set(b,GN(E))}),s.length<YN&&p.length>0)for(let b of p){let E=e.readFileSync(e.join(d,b))??"",T=D.find(O=>O.file===b)?.importance??1,R=aE(T,C),B=E.slice(0,R*4),I=go(B);c+I<=ci&&s.length<yl&&(s.push(b),c+=I,n.selectedFilePaths.set(b,Math.max(1,T-1)))}l.forEach(b=>{!s.includes(b)&&Dl(e,b)&&o.push(b)})}else{let y=l.filter(b=>{let E=bl(b,h,n.selectedFilePaths,1);return E===1||E===2}),D=Math.min(40,y.length),C=[],x=0;for(;C.length<D&&x<y.length*2;){x++;let b=y[Math.floor(Math.random()*y.length)];C.includes(b)||C.push(b)}for(let b of l){let E=bl(b,C,n.selectedFilePaths,1);E!==0&&s.length<yl?(s.push(b),n.selectedFilePaths.set(b,E)):Dl(e,b)&&o.push(b)}}}var mE=e=>{if(!e)return{isInitial:!0,isNextPage:!1};let r=new URL(e);return r.protocol==="cgen:"?{isInitial:!1,isNextPage:r.searchParams.get("nextPage")==="true"}:{isInitial:!0,isNextPage:!1}};async function Do(e){let r=e.getAppRootDir();j.info(`Open project: ${(0,te.dim)(r)}`);let t=await ol(r),n=t.filter(i=>i.endsWith("/package.json"));if(n.length>0)j.warn(`This command works best when executed at the root of a single project.
Found several ${(0,te.bold)("package.json")} files (${n.length}) instead:
${(0,te.dim)(n.join(`
`))}`);else{let i=t.filter(s=>s.endsWith("/tsconfig.json"));i.length>0&&j.warn(`This command works best when executed at the root of a single project.
Found several ${(0,te.bold)("tsconfig.json")} files (${i.length}) instead:
${(0,te.dim)(i.join(`
`))}`)}}function aF(e){let r={client:"@khulnasoft.com/dev-tools",clientVersion:ut,nodeVersion:process.version,systemPlatform:process.platform,systemEOL:El.default.EOL,systemArch:El.default.arch(),inGitRepo:!!e.remoteUrl};try{let t=El.default.userInfo();r.systemShell=t.shell}catch{}return r}var gE=async(e,r)=>{let t=Cl(r);console.log(""),ot((0,ge.bgCyan)((0,ge.bold)((0,ge.white)(" figma publish ")))+"  "+(0,ge.dim)(ut)),await Do(e);let n=await li(e),{figmaKhulnasoftLinks:i,foundErrors:s,figmaLinksToResolve:o}=await fo({force:r.force,mappingFiles:n,sys:e,print:!0}),{khulnasoftPrivateKey:a,khulnasoftPublicKey:l,userId:u,spaceName:c,figmaAuth:p}=await Ot(e,r,{forceSpaceId:r.spaceId,khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0,figmaAuth:o.length>0});p&&o.length>0&&await rl(p,i,o);let d;if(d||(d=await Tn(e)),We("figma publish started",{spaceId:l,mappingFiles:n.length}),s){if(We("figma publish user error",{spaceId:l,mappingFiles:n.length,figmaKhulnasoftLinks:i.length}),r.force!==!0)return j.message(""),de(`Please fix the issues and try again, or use the ${(0,ge.bold)("--force")} flag to publish regardless.`),await ee(1);j.warn("Local mappings contain some errors, but --force flag was used, skipping.")}let f=c?`${(0,ge.bold)(c)} ${(0,ge.dim)("("+l+")")}`:`space id "${(0,ge.bold)(l)}"`;if(n.length===0){j.warning(`No mappings found. Publishing will remove all existing mapping in space: ${f}.`);let y=t||r.yes||await Ct({message:"Do you want to continue?",active:"Publish",inactive:"Cancel"});if(Re(y)||!y)return de("Publish cancelled"),await ee(1)}else{let y=t||r.yes||await Ct({message:`Do you want to publish the found mappings to ${f}?
${(0,ge.dim)("Existing mappings will be overwritten")}`,active:"Publish",inactive:"Cancel"});if(Re(y)||!y)return de("Publish cancelled"),await ee(1)}let m=ar(),h=await e.getRepoInfo();if(r.dryrun||(m.start("Publishing Figma Mappings"),await fF(e,{spaceId:l,userId:u,privateKey:a,figmaKhulnasoftLinks:i,repoInfo:h}),m.stop(i.length>0?`${i.length} mappings uploaded`:"All mappings removed from the Khulnasoft space")),r.verbose||r.dryrun){let y=Qn(An);j.info(y.highlight("json",JSON.stringify(i,null,2)).value)}await bo(e,l,d,!0),j.success((0,ge.bgGreen)((0,ge.bold)((0,ge.white)(" Done! \u{1F389} "))));let g={react:"npm run start",angular:"npm run start",vue:"npm run dev",svelte:"npm run dev",next:"npm run dev",remix:"npm run dev"}[d.framework]??"npm run start";ct((0,ge.dim)(`You can now start the dev server:

   `)+(0,ge.bgBlack)((0,ge.white)((0,ge.bold)(` ${g} `)))+`

   `+(0,ge.dim)("Then, go back to Figma and generate code again to see your mapped components.")),We("figma publish success",{spaceId:l,mappingFiles:n.length,figmaKhulnasoftLinks:i.length})};async function lF(e,r,t){let n=[],i=[r],s=e.relative(e.getAppRootDir(),r.fileName);for(;i.length>0;){let o=i.shift();if(dF(o,r)){let a=cF(e,o,r,t),{line:l,character:u}=r.getLineAndCharacterOfPosition(o.getStart());a&&(a.loc=`${s}:${l+1}:${u+1}`,n.push(a))}i.push(...o.getChildren(r))}return n}var uF="figmaMapping";function cF(e,r,t,n){let[i]=r.arguments;if(!i)throw new Error("Invalid figmaMapping call, no arguments found");if(!Xe.default.isObjectLiteralExpression(i))throw new Error("Invalid figmaMapping call, argument is not an object literal");let s=i.properties;if(!s)throw new Error("Invalid figmaMapping call, argument has no properties");let o="",a,l,u="-",c=e.basename(t.fileName,".mapper.tsx"),p,d,f,m;if(r.typeArguments&&r.typeArguments.length>0){let g=hE(r.typeArguments[0].getText(t));g&&(c=g)}for(let g of s){let y=g.name?.getText(t);if(!y)throw new Error("Invalid figmaMapping call, property has no name");switch(y){case"url":{if(!("initializer"in g))throw new Error("Invalid figmaMapping call, url has no initializer");let D=g.initializer;if(!Xe.default.isStringLiteral(D))throw new Error("Invalid figmaMapping call, componentKey is not a string literal");m=D.text;break}case"componentKey":{if(!("initializer"in g))throw new Error("Invalid figmaMapping call, componentKey has no initializer");let D=g.initializer;if(!Xe.default.isStringLiteral(D))throw new Error("Invalid figmaMapping call, componentKey is not a string literal");o=D.text;break}case"mapper":if(Xe.default.isMethodDeclaration(g)){let D=function(C){if((Xe.default.isJsxOpeningElement(C)||Xe.default.isJsxSelfClosingElement(C))&&Xe.default.isIdentifier(C.tagName)){u=C.tagName.getText(t);let b=n.getSymbolAtLocation(C.tagName)?.getDeclarations()?.[0];if(b){let E=pF(b);E?.importClause&&(E.importClause.name?.getText(t)===u?p="default":E.importClause.namedBindings&&(p="named"),d=u,Xe.default.isStringLiteral(E.moduleSpecifier)&&(f=E.moduleSpecifier.text))}return u}else if(Xe.default.isTaggedTemplateExpression(C)&&Xe.default.isIdentifier(C.tag)&&C.tag.escapedText==="html"){let x=C.template.getText(t).match(/^`<([^\s]+)/);if(x){u=x[1];return}}else Xe.default.forEachChild(C,D)};var h=D;if(g.parameters[0].type){let C=g.parameters[0].type.getText(t),x=hE(C);x&&(c=x)}Xe.default.forEachChild(g,D),l=g.getText(t).replace(/^mapper/,"function Mapper"),a=pd(l);break}case"designTokenMapper":if(Xe.default.isMethodDeclaration(g)){l=g.getText(t).replace(/^designTokenMapper/,"function Mapper"),a=pd(l),o="design-tokens";break}case"genericMapper":if(Xe.default.isMethodDeclaration(g)){l=g.getText(t).replace(/^genericMapper/,"function Mapper"),a=pd(l),o="*";break}}}if(!o&&!m)throw new Error("Invalid figmaMapping call, no componentKey or url found");if(!o&&!a)throw new Error("Invalid figmaMapping call, no mapper found");if(!o&&!l)throw new Error("Invalid figmaMapping call, no original mapper found");return{khulnasoftName:u,figmaName:c,figmaKey:o,figmaUrl:m,inputMapper:a,exportType:p,importName:d,importPath:f,originalInputMapper:l,source:"cli"}}function pd(e){return Xe.default.transpile(e,{target:Xe.default.ScriptTarget.Latest,allowNonTsExtensions:!0,moduleResolution:Xe.default.ModuleResolutionKind.NodeJs,module:Xe.default.ModuleKind.CommonJS,noImplicitAny:!1,esModuleInterop:!0,noUnusedLocals:!1,noUnusedParameters:!1,jsx:Xe.default.JsxEmit.React,jsxFactory:"React.createElement",jsxFragmentFactory:"React.Fragment",allowJs:!0,checkJs:!0,strict:!0,suppressImplicitAnyIndexErrors:!0,typeRoots:["node_modules/@types"],inlineSources:!0,inlineSourceMap:!0})}function pF(e){let r=e;for(;r;){if(Xe.default.isImportDeclaration(r))return r;r=r.parent}}function dF(e,r){return Xe.default.isCallExpression(e)&&e.expression.getText(r).includes(uF)}async function li(e){let r=["node_modules","dist","build","public"];return(await e.readdirRecursive(e.getAppRootDir(),r)).filter(n=>Qt(n))}function hE(e){let r=e.match(/^Figma(\w+)Props$/);if(r&&typeof r[1]=="string")return r[1]}async function bo(e,r,t,n=!1){try{return t||(t=await Tn(e)),await t.setPublicApiKey({publicApiKey:r}),n&&await t.ensureFigmaImportPage(),!0}catch(i){return dd.captureException(i),!1}}var fF=async(e,r)=>{let t=new URL(`${mr}/mappings/publish`);if(t.searchParams.set("apiKey",r.spaceId),t.searchParams.set("userId",r.userId),!(await nt(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.privateKey}`},body:JSON.stringify({remoteUrl:r.repoInfo?.remoteUrl,defaultBranch:r.repoInfo?.defaultBranch,currentBranch:r.repoInfo?.currentBranch,commit:r.repoInfo?.commit,figmaKhulnasoftLinks:r.figmaKhulnasoftLinks,sdkVersion:e.sdkVersion,spaceKind:e.kind,cliVersion:e.version,cliFrameworks:e.getFrameworks().map(i=>i.name),cliPlatform:e.platform(),cliDeviceId:await e.getDeviceId()})})).ok)throw new Error("Failed to publish Figma mappings");return!0};async function fo({force:e,mappingFiles:r,print:t,sys:n}){if(!r.length)return{figmaKhulnasoftLinks:[],figmaLinksToResolve:[],foundErrors:!1};let i=[],s=await at(n,r),o=s.getTypeChecker(),a=[...s.getSyntacticDiagnostics(),...s.getGlobalDiagnostics(),...s.getSemanticDiagnostics(),...s.getDeclarationDiagnostics()].filter(p=>!(p.category!==Xe.default.DiagnosticCategory.Error||p.code===6133||p.code===6138||p.code===6196||p.code===6192||p.code===6198||p.code===6199||p.code===6205||p.code===1449||p.code===2578||p.code===2695||p.code===2322)),l=new Set,u=!1;for(let p of r)try{let d=s.getSourceFile(p);if(!d)throw new Error(`Could not find source file for ${p}`);let f=d?.fileName;if(f){let h=a.filter(g=>g.file?.fileName===f);if(h.length>0&&(u=!0,e!==!0)){j.error((0,ge.red)(`TypeScript errors in ${(0,ge.dim)(n.relative(n.getAppRootDir(),p))}:
`)+h.map(g=>` \u2022 ${mF(g)}`).join(`
`));continue}}let m=await lF(n,d,o);if(i.push(...m),t){let h=!1,g=`${(0,ge.dim)(n.relative(n.getAppRootDir(),p))}:
`+m.map(y=>{let D=!1;y.figmaKey?(D||(D=l.has(y.figmaKey)),l.add(y.figmaKey)):y.figmaUrl&&(D||(D=l.has(y.figmaUrl)),l.add(y.figmaUrl));let C="";switch(y.figmaKey){case"design-tokens":C="  "+(0,ge.cyan)("\u2747\uFE0E Design tokens mapper");break;case"*":C="  "+(0,ge.yellow)("\u25CF Generic mapper");break;default:C=`  ${(0,ge.magenta)("\u2756 "+ai(y.figmaName))}  ${(0,ge.dim)("\u2192")}  ${y.khulnasoftName==="-"?"-":"<"+y.khulnasoftName+">"}`;break}return D&&(h=!0,C=(0,ge.bgRed)(C+(0,ge.bold)(" <= duplicated"))),C}).join(`
`);h?(u=!0,j.error(g)):j.info(g)}}catch(d){return dd.captureException(d),console.error(d),await ee(1)}let c=i.filter(p=>p.figmaUrl&&!p.figmaKey).map(p=>p.figmaUrl);return{figmaKhulnasoftLinks:i,figmaLinksToResolve:c,foundErrors:u}}function mF(e){let{messageText:r}=e;if(typeof r=="string")return r;let{next:t}=r,n=[r.messageText];return t&&n.push(t.map(i=>i.messageText).join(`
`)),n.join(`
`)}var xE=require("crypto");var Cl=e=>!!(process.env.CI||e.ci),Ot=async(e,r,t)=>{let n=Cl(r)?{}:DF(e),i=n.spaceName,s=n.userId,o,a=process.env.KHULNASOFT_PUBLIC_KEY??r.spaceId??n.khulnasoftPublicKey,l=process.env.KHULNASOFT_PRIVATE_KEY??r.privateKey??n.khulnasoftPrivateKey,u=process.env.FIGMA_PERSONAL_TOKEN??r.figmaToken;if(u?o={access_token:u,oauth:!1}:o=n.figmaAuth,t.forceSpaceId&&a&&a!==t.forceSpaceId){j.warning(`CLI is currently logged in space ${(0,Bn.yellow)(a)},
however the command required --spaceId=${(0,Bn.green)(t.forceSpaceId)}`);let c=r.yes||await Ct({message:"Do you wanna switch spaces?",active:"Yes",inactive:`Stay in current ${i} space`});if(Re(c)||!c)throw de(`Aborting. Another way to fix this conflict is making sure the figma plugin is logged in "${i}" instead.`),new Error("Exiting");a=t.forceSpaceId,l=void 0,i=void 0,s=void 0}if(Cl(r)){if(!o&&t.figmaAuth)throw new Error(`No Figma personal token found.
Please set the FIGMA_PERSONAL_TOKEN environment variable.`);if(!l&&t.khulnasoftPrivateKey)throw new Error(`No Khulnasoft private key found.
Please set the KHULNASOFT_PRIVATE_KEY environment variable.`);if(!a&&t.khulnasoftPublicKey)throw new Error(`No Khulnasoft public key found.
Please set the KHULNASOFT_PUBLIC_KEY environment variable.`);return{figmaAuth:o,khulnasoftPublicKey:a,khulnasoftPrivateKey:l}}if((t.force||!o&&t.figmaAuth)&&(o=await gF(),yE(e,{figmaAuth:o})),t.force||!l&&t.khulnasoftPrivateKey||!a&&t.khulnasoftPublicKey){let{privateKey:c,spaceId:p,spaceName:d,userId:f}=await yF(e,t.forceSpaceId);if(t.forceSpaceId&&p!==t.forceSpaceId)throw new Error(`OAuth flow returned space ${(0,Bn.yellow)(p)}, however the command required --spaceId=${(0,Bn.green)(t.forceSpaceId)}`);a=p,l=c,i=d,s=f,await sb(s),await bo(e,p,void 0,!1),yE(e,{khulnasoftPublicKey:a,khulnasoftPrivateKey:l,spaceName:i,userId:s})}return s&&mn.setUser({id:s,username:process.env.USER||process.env.USERNAME||"unknown"}),(i||a)&&mn.setContext("khulnasoft",{spaceId:a,spaceName:i}),{figmaAuth:o,khulnasoftPublicKey:a,khulnasoftPrivateKey:l,spaceName:i,userId:s}},hF="RHr2ed743waC2g2ZHMEJSn6O0NQ08L";async function gF(){let e=(0,xE.randomUUID)();return CE({name:"Figma",port:5283,requestListener:async(r,t,n,i,s)=>{let o=new URL(t.url||"",`http://localhost:${r}`);if(o.pathname==="/figma-connect"){let a=o.searchParams.get("code"),l=o.searchParams.get("state");if(a&&e===l){let u=await nt("https://www.figma.com/api/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:"nrGCqw6TLl95QJhVDi097A",client_secret:hF,redirect_uri:"http://localhost:5283/figma-connect",code:a,grant_type:"authorization_code"}).toString()});u.ok||s(new Error("Failed to get figma access token"));let c=await u.json();n.end(`<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Khulnasoft.com</title>
    <link rel="icon shortcut" href="https://cdn.khulnasoft.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #2a2a2a;
      }
      main {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .auth-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 444px;
        padding: 40px 20px;
        border-radius: 4px;
        border: 1px solid var(--Dark-Mode-outline, #555);
        font-family: Inter, sans-serif;
        text-align: center;
      }

      .auth-icon {
        width: 64px;
        aspect-ratio: 1;
        object-fit: contain;
        object-position: center;
      }

      .auth-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: start;
        width: 100%;
        margin-top: 24px;
      }

      .auth-title {
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        line-height: 1.2;
        align-self: center;
      }

      .auth-message {
        color: rgba(255, 255, 255, 1);
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        margin-top: 4px;
      }

      .auth-logo {
        width: 186px;
        aspect-ratio: 2.91;
        object-fit: contain;
        object-position: center;
        border-radius: 0;
        margin-top: 24px;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <main>
      <section class="auth-container">
        <img
          src="https://cdn.khulnasoft.com/api/v1/image/assets/TEMP/77fa9d1570a153d1f6171e29d4650f05b4ee7f28f09e94bb10c40108f1237d3c?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Authentication icon"
          class="auth-icon"
          loading="lazy"
        />
        <div class="auth-content">
          <h1 class="auth-title">Authentication successful</h1>
          <p class="auth-message">
            You can now close this browser tab and return to your CLI to
            continue
          </p>
        </div>
        <img
          src="https://cdn.khulnasoft.com/api/v1/image/assets/TEMP/183613c2acd7df7fb88682c42deef5e84d8522e6a384f4ad19327df1bda5dfab?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Company logo"
          class="auth-logo"
          loading="lazy"
        />
      </section>
    </main>
    <!--SCRIPT_PLACEHOLDER-->
  </body>
</html>
`.replace("{{MESSAGE}}","The CLI has authenticated correctly with Figma"),()=>{i({...c,oauth:!0})})}}},onListen:r=>{let t=new URL("https://www.figma.com/oauth");return t.searchParams.set("client_id","nrGCqw6TLl95QJhVDi097A"),t.searchParams.set("redirect_uri",`http://localhost:${r}/figma-connect`),t.searchParams.set("scope","files:read,file_dev_resources:read,file_variables:read"),t.searchParams.set("state",e),t.searchParams.set("response_type","code"),t.href}})}async function EE(e,r){let t=new URL("https://cdn.khulnasoft.com/api/v1/usage/codegen-usage");t.searchParams.set("apiKey",e);let n=await nt(t,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}});if(!n.ok)throw new Error("Failed to retrieve codegen usage, are you logged in to proper Khulnasoft space?");return await n.json()}async function yF(e,r){let t=await e.getDeviceId();return CE({name:"Khulnasoft.com",port:5284,requestListener:async(n,i,s,o)=>{let a=new URL(i.url||"",`http://localhost:${n}`);a.pathname===$n&&s.end(`<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <script>
      (function (window) {
        if (window.location !== window.top.location) {
          window.top.location = window.location;
        }
      })(this);
    </script>
    <title>Successfully Connected With Khulnasoft.com</title>
    <link rel="icon shortcut" href="https://cdn.khulnasoft.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <style>
      body {
        background-color: #2a2a2a;
      }
      main {
        width: 100vw;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .auth-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        max-width: 444px;
        padding: 40px 20px;
        border-radius: 4px;
        border: 1px solid var(--Dark-Mode-outline, #555);
        font-family: Inter, sans-serif;
        text-align: center;
      }

      .auth-icon {
        width: 64px;
        aspect-ratio: 1;
        object-fit: contain;
        object-position: center;
      }

      .auth-content {
        align-self: stretch;
        display: flex;
        flex-direction: column;
        justify-content: start;
        width: 100%;
        margin-top: 24px;
      }

      .auth-title {
        color: #fff;
        font-size: 20px;
        font-weight: 600;
        line-height: 1.2;
        align-self: center;
      }

      .auth-message {
        color: rgba(255, 255, 255, 1);
        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
        margin-top: 4px;
      }

      .auth-logo {
        width: 186px;
        aspect-ratio: 2.91;
        object-fit: contain;
        object-position: center;
        border-radius: 0;
        margin-top: 24px;
        max-width: 100%;
      }
    </style>
  </head>

  <body>
    <main>
      <section class="auth-container">
        <img
          src="https://cdn.khulnasoft.com/api/v1/image/assets/TEMP/77fa9d1570a153d1f6171e29d4650f05b4ee7f28f09e94bb10c40108f1237d3c?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Authentication icon"
          class="auth-icon"
          loading="lazy"
        />
        <div class="auth-content">
          <h1 class="auth-title">Authentication successful</h1>
          <p class="auth-message">
            You can now close this browser tab and return to your CLI to
            continue
          </p>
        </div>
        <img
          src="https://cdn.khulnasoft.com/api/v1/image/assets/TEMP/183613c2acd7df7fb88682c42deef5e84d8522e6a384f4ad19327df1bda5dfab?placeholderIfAbsent=true&apiKey=38af5e1d956b48c29e1199757cc72fdb"
          alt="Company logo"
          class="auth-logo"
          loading="lazy"
        />
      </section>
    </main>
    <!--SCRIPT_PLACEHOLDER-->
  </body>
</html>
`.replace("{{MESSAGE}}","The CLI has authenticated correctly with Khulnasoft.com"),()=>{o({privateKey:a.searchParams.get("p-key")||"",spaceId:a.searchParams.get("api-key")||"",spaceName:a.searchParams.get("org-name")||"",userId:a.searchParams.get("user-id")||""})})},onListen:n=>{let i=new URL("/cli-auth","https://khulnasoft.com");i.searchParams.set("client_id","khulnasoft-dev-tools-cli"),i.searchParams.set("host",t),i.searchParams.set("response_type","code"),i.searchParams.set("cli","true"),r&&i.searchParams.set("space_id",r);let s=new URL($n,`http://localhost:${n}`);s.searchParams.set(So,(0,bE.platform)()),s.searchParams.set(wo,process.versions.node);let o=e.getFrameworks();return o.length>0&&(i.searchParams.set(di,o[0].name),s.searchParams.set(di,o[0].name)),i.searchParams.set("redirect_url",s.href),i.href}})}function yE(e,r){let t=e.getAppRootDir(),n=(0,Sl.join)(t,"node_modules",".khulnasoft"),i=(0,Sl.join)(n,"data.json");if((0,Kr.existsSync)(i))try{let s=(0,Kr.readFileSync)(i,"utf8"),o=JSON.parse(s);r=Object.assign(o.credentials,r)}catch(s){mn.captureException(s),console.error("Failed to store credentials",s)}else(0,Kr.mkdirSync)(n,{recursive:!0});(0,Kr.writeFileSync)(i,JSON.stringify({credentials:r},null,2))}function DF(e){let r=e.getAppRootDir(),t=(0,Sl.join)(r,"node_modules",".khulnasoft","data.json");if((0,Kr.existsSync)(t))try{let n=(0,Kr.readFileSync)(t,"utf8");return JSON.parse(n).credentials}catch(n){mn.captureException(n),console.error("Failed to load credentials",n)}return{}}async function CE(e){let{default:r}=await import("open"),t,n,i,s=new Promise((u,c)=>{t=u,n=c}),o=(0,DE.createServer)((u,c)=>e.requestListener(e.port,u,c,t,n)),a=()=>{l(),o&&("closeAllConnections"in o&&o.closeAllConnections(),o.close(u=>{u&&(mn.captureException(u),console.error(u))}))};process.on("uncaughtExceptionMonitor",a),process.on("unhandledRejection",a),process.on("SIGINT",a),process.on("SIGTERM",a),process.on("exit",a);let l=()=>{process.removeListener("uncaughtExceptionMonitor",a),process.removeListener("unhandledRejection",a),process.removeListener("SIGINT",a),process.removeListener("SIGTERM",a),process.removeListener("exit",a)};try{o.listen(e.port,()=>{let c=e.onListen(e.port);j.warn(`Required authenticating with ${e.name}
OPEN: ${(0,Bn.dim)(c)}`),i=sr(),i.start(`Waiting for ${e.name} authentication`),r(c,{wait:!1})});let u=await s;return i&&i.stop(`Authenticated with ${e.name} successfully`),u}catch(u){throw i&&(i.stop(`Failed to authenticate with ${e.name}.`,-1),Er("auth")),console.error(u),mn.captureException(u),a(),u}finally{a()}}var Ge=K(Ze(),1),os=require("path");var bF="https://cdn.khulnasoft.com",SE=async(e,r)=>{console.log(""),ot((0,Ge.bgCyan)((0,Ge.bold)((0,Ge.white)(" figma migrate ")))+"  "+(0,Ge.dim)(ut));let{khulnasoftPrivateKey:t,khulnasoftPublicKey:n}=await Ot(e,r,{forceSpaceId:r.spaceId,khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0});We("figma publish started",{spaceId:n});let i=await li(e);if(i.length>0){We("figma migrate with existing files",{spaceId:n}),j.warning(`${(0,Ge.yellow)("This repo already has figma mappings in:")}

${i.map(u=>` - ${(0,os.relative)(e.getAppRootDir(),u)}`).join(`
`)}

Migration is going to create new files, possibly duplicates.`);let l=await Ct({message:"Do you want to continue?",initialValue:!1});if(!l||Re(l))return de("Migration cancelled"),await ee(1)}j.message("We are about to import your existing figma mappings into this local repo.");let s=ar();s.start("Fetching figma mappings");let o=await fd({privateKey:t,spaceId:n});s.stop(`Fetched ${o.length} figma mappings:`),j.message(o.map(l=>{switch(l.figmaKey){case"design-tokens":return(0,Ge.cyan)("\u2747\uFE0E Design tokens mapper");case"*":return(0,Ge.yellow)("\u25CF Generic mapper");default:return`${(0,Ge.magenta)("\u2756 "+ai(l.figmaName))} ${(0,Ge.dim)("\u2192")} ${l.khulnasoftName}`}}).join(`
`));let a=await jt({message:`Where do you want to save the figma mappings? ${(0,Ge.dim)("(Ctrl+C to exit)")}`,initialValue:"./src/mappings",defaultValue:"./src/mappings",placeholder:"./src/mappings",validate:l=>{if((0,os.extname)(l)!=="")return"It must be a valid directory path, not a file";if((0,os.isAbsolute)(l))return"It must be a relative path"}});if(Re(a))return de("Migration cancelled"),await ee(1);await(0,wl.mkdir)(a,{recursive:!0}),await Promise.all(o.map(async l=>{let u=await xF(l),c;switch(l.figmaKey){case"design-tokens":c="design-tokens";break;case"*":c="generic";break;default:c=ai(l.figmaName)}let p=a+"/"+c+".mapper.tsx";return j.info((0,Ge.green)("created ")+(0,Ge.dim)(p)),(0,wl.writeFile)(p,u)})),j.info("Check out the docs for following steps: https://khulnasoft.com/docs/figma/figma-mappings"),ct((0,Ge.bgGreen)((0,Ge.bold)((0,Ge.white)(" Done! \u{1F389} ")))+` ${o.length} mappings imported`),We("figma migrate success",{spaceId:n,mappingFiles:o.length})};async function fd(e){let r=await nt(`${bF}/api/internal/kv/${e.spaceId}/figma-khulnasoft?apiKey=${e.spaceId}`,{headers:{Authorization:`Bearer ${e.privateKey}`}});if(!r.ok)throw new Error(`Failed to fetch figma-khulnasoft links: ${r.statusText}`);let t=await r.json();if(!(t instanceof Object&&"figmaKhulnasoftLinks"in t))throw new Error("Invalid response");return t.figmaKhulnasoftLinks}async function xF(e){let r="figmaMapping",t=e.originalInputMapper?.match(/function Mapper\(\s*([a-zA-Z0-9_$]+)\s*(?::[^)])?\s*\)/)?.[1],n=e.originalInputMapper?.match(/function Mapper\([^)]*\)(\s*{([^]*))$/)?.[1],i;switch(e.figmaKey){case"design-tokens":i=`${r}({
  designTokenMapper(${t||"designToken"})${n}
})`;break;case"*":i=`${r}({
  genericMapper(${t||"figma"})${n}
})`;break;default:i=`${r}({${e.figmaUrl?`
  url: ${JSON.stringify(e.figmaUrl)},`:""}
  componentKey: ${JSON.stringify(e.figmaKey)}${n?`,
  mapper(${t||"figma"})${n}`:""}
})`}return or(`import { figmaMapping } from '@khulnasoft.com/dev-tools/figma';
${EF(e)}

${i}`,"typescript",void 0)}function EF(e){let{exportType:r,importName:t,importPath:n}=e;if(t&&n){let i=JSON.stringify(n);return r==="named"?`import { ${t} } from ${i};`:`import ${t} from ${i};`}return""}var Tl=K(require("prompts"),1),ls=K(require("fs"),1);var Q=K(Ze(),1),vE=require("path");var PE=K(require("@sentry/node"),1),xo=K(TE(),1);var IE=async(e,r)=>{if(console.log(""),ot((0,Q.bgMagenta)((0,Q.bold)((0,Q.white)(" figma generate ")))+"  "+(0,Q.dim)(ut)),j.message((0,Q.dim)(`This command will help you create new ".mapper.tsx" files to connect Figma components to your code components.
Check out `)+(0,Q.bold)((0,Q.cyan)("https://www.khulnasoft.com/c/docs/cli-mapping"))+(0,Q.dim)(" for more details.")),r.componentName&&!r.mappingOutput)return j.error("Mapping output must be provided when mapping a single component"),await ee(1);if(r.mappingOutput&&!r.mappingOutput.endsWith(".mapper.tsx"))return j.error("Mapping output must end with .mapper.tsx, e.g. my-component.mapper.tsx"),await ee(1);await Do(e);let t=ar();t.start("Loading type information");let n;try{n=await Tn(e),t.stop("Repo's framework detected")}catch{return t.stop("Repo's framework is not supported"),We("figma generate, framework not supported",{frameworks:e.getFrameworks().map(g=>g.name)}),t.message(`We can not generate mappers automatically, but it's possible to do it manually:
https://www.khulnasoft.com/c/docs/mapping-functions`),await ee(1)}let i=[],s;if(r.token)j.message(),s=await Ot(e,r,{}),i=await yb(s,r.token,!!r.verbose);else{let h=r._.slice(2);if(!h.length)return de(`No Figma URL provided, use:
  npx khulnasoft.com figma generate "https://..."`),Er(),await ee(1);if(s=await Ot(e,r,{khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0,figmaAuth:Db(h),forceSpaceId:r.spaceId}),!s.khulnasoftPrivateKey||!s.khulnasoftPublicKey)return de("Missing khulnasoft.com credentials"),await ee(1);let g=await EE(s.khulnasoftPublicKey,s.khulnasoftPrivateKey),y=await fd({privateKey:s.khulnasoftPrivateKey,spaceId:s.khulnasoftPublicKey});if(!g.features?.includes("component-mapping")&&y.length===0)return de("Component mapping is an enterprise feature. Please visit "+(0,Q.bold)((0,Q.cyan)("https://www.khulnasoft.com/unlock-enterprise"))+" to start your trial."),await ee(1);t=ar(),t.start("Gathering Figma component info"),i=await bb(s.figmaAuth,{privateKey:s.khulnasoftPrivateKey,spaceId:s.khulnasoftPublicKey},h)}We("figma generate started",{spaceId:s.khulnasoftPublicKey,mode:r.componentName?"non-interactive":"interactive"});let o=Qn(An),a,l,u=await n.getRegistry({readAllInputTypes:!0});t.stop("Figma's component metadata loaded"),j.message();let c=await li(e),{figmaKhulnasoftLinks:p,figmaLinksToResolve:d}=await fo({force:!0,print:!1,mappingFiles:c,sys:e});d.length>0&&s.figmaAuth&&await rl(s.figmaAuth,p,d);let f=await AF(i,p);i=i.filter(([,h])=>f.includes(h.key));let m=[];for(let h=0;h<i.length;h++){let[g,y]=i[h];h>0&&j.info(`Mapped ${h} / ${i.length} components:

${i.map(([,O],Z)=>h>Z?O.documentName==="-"?(0,Q.dim)(` \u2756 ${O.name}`)+" "+(0,Q.yellow)("(skipped)"):(0,Q.green)(` \u2714 ${O.name} \u2192 <${O.documentName} />`):h===Z?(0,Q.underline)(` \u2192 ${O.name}`):(0,Q.dim)(` \u2756 ${O.name}`)).filter(Boolean).join(`
`)}
`);let D,C,x,E=(await n.findAllDependencies()).filter(O=>!NF(O.name)),T=r.componentName?u.components.find(O=>O.name===r.componentName):await AE(u.components,y.name,E.length>0);if(T==="external package"){let O=await IF(E);n.addExternalPackage(O);let Z=await n.getRegistry({readAllInputTypes:!0});Z&&(u=Z);let ie=await AE(u?.components.filter(N=>N.importPath===O),y.name,!0);ie==="skip"?D=void 0:D=ie}else T==="skip"?D=void 0:D=T;if(!D){y.documentName="-",j.warning("Skipping mapping for "+y.name);continue}let R,B={componentNames:u.components.map(O=>O.name),figmaNode:y,figmaUrl:g,registeredCmp:D,token:r.token,meta:{figmaNode:y,figmaKey:y.key,registeredCmp:D,cliVersion:e.version,cliFrameworks:e.getFrameworks().map(O=>O.name),cliPlatform:e.platform(),cliDeviceId:await e.getDeviceId()}};try{for(t=ar(),t.start("Generating mapping, might take some seconds");;){B.previousCompletion=x,B.prompt=R;let O=FF(s,B,!!r.verbose);for await(let ie of O)ie.type==="done"&&(C=ie.code,x=ie.completion);if(C)t.stop("Generated mapping"),j.message(o.highlight("typescript",C).value);else return t.stop("Failed to generate mapping",1),We("figma generate, LLM failed",{spaceId:s.khulnasoftPublicKey,componentName:y.name}),await ee(1);if(r.componentName)break;let Z=await vF();if(Z.trim()==="good")break;We("figma add follow up prompt",{spaceId:s.khulnasoftPublicKey,prompt:Z}),R=Z}}catch(O){return PE.captureException(O),de("LLM failed:"+String(O)),await ee(1)}let I=`${ai(y.name)}.mapper.tsx`;y.documentName=D.importName,C&&(r.mappingOutput?(l=r.mappingOutput,a=e.dirname(l),ls.default.mkdirSync(a,{recursive:!0})):a?l=e.join(a,I):(l=await TF(I),a=e.dirname(l),ls.default.mkdirSync(a,{recursive:!0})),ls.default.writeFileSync(l,await or(C,void 0,l)),m.push(l)),!D.isRegistered&&D.id&&(t=ar(),t.start("Registering khulnasoft component in registry"),await n.registerComponent({cmpId:D.id}),t.stop(`<${D.importName}> added to the khulnasoft registry`))}s.khulnasoftPublicKey&&await bo(e,s.khulnasoftPublicKey,n,!0),a?(m.length===1?j.success(`${(0,Q.bgGreen)((0,Q.bold)((0,Q.white)(" Done! \u{1F389} ")))} New mapper file saved in: ${(0,Q.dim)(m[0])}`):j.success(`${(0,Q.bgGreen)((0,Q.bold)((0,Q.white)(" Done! \u{1F389} ")))} Created ${m.length} new mapping files:
${m.map(h=>`  - ${h}`).join(`
`)}`),ct((0,Q.dim)(`Figma mappings need to be published to come into effect. You can do this by running:

   `)+(0,Q.bgBlack)((0,Q.white)((0,Q.bold)(" npx khulnasoft.com figma publish ")))+`

   `+(0,Q.dim)("Read more: https://www.khulnasoft.com/c/docs/cli-mapping#publishing-a-new-mapping")),We("figma add success",{spaceId:s.khulnasoftPublicKey,mappingPath:a,mode:r.componentName?"non-interactive":"interactive"})):ct("No new mappings were created.")};async function TF(e){let t=`${ls.default.existsSync("src")?"src/":""}mappings/${e}`,n=await jt({message:`Where do you want to save the new mapping? ${(0,Q.dim)("(Ctrl+C to exit)")}`,defaultValue:t,placeholder:t,initialValue:t,validate(i){if((0,vE.isAbsolute)(i))return"Please enter a relative path, not absolute";if(!i.endsWith(".mapper.tsx")&&!i.endsWith(".mapper.jsx"))return"Please enter a path that ends with '.mapper.tsx'";if(ls.default.existsSync(i))return"File already exists, please choose a different name"}});return Re(n)?(de("Mapping not saved, goodbye!"),await ee(1)):n}async function AF(e,r){return e.length<=1?e.map(([,t])=>t.key):await PF(e,r)}async function vF(){let e=await jt({message:`How does the mapping look? ${(0,Q.dim)('Reply "good", or provide feedback (Ctrl+C to exit)')}`,defaultValue:"good",placeholder:"good"});return Re(e)?(de("Mapping not saved, goodbye!"),await ee(1)):e}async function PF(e,r){let t=await Jd({message:`Pick which ${(0,Q.magenta)("\u2756")} Figma components you want to connect to code:`,required:!0,options:e.map(([,n])=>({label:`${n.name}${r.some(i=>i.figmaKey===n.key)?(0,Q.dim)(" (already mapped)"):""}`,value:n.key})),initialValues:e.map(([,n])=>n.key).filter(n=>!r.some(i=>i.figmaKey===n))});return Re(t)?(de("Mapping not saved, goodbye!"),await ee(1)):t}async function IF(e){if(!e||e.length===0||e.length===0)return null;let r=e.map(o=>({title:o.name,value:o.name})),t=await(0,Tl.default)({type:"autocomplete",name:"package",message:"Select an installed external package:",hint:"Type or use arrow keys. Press Enter to select",choices:r,async suggest(o,a){return o=o.toLowerCase(),a.map(u=>{let c=u.value.trim().toLowerCase(),p=0;return o.length===0?p=0:p=(0,xo.distance)(o,c),{...u,distance:p}}).sort((u,c)=>u.distance-c.distance).filter(u=>u.title.toLowerCase().includes(o))}});if(!t.package)return de("Package selection cancelled"),await ee(1);let n=t.package,i=e.find(o=>o.name===t.package);function s(o){return/^[A-Z]/.test(o)}if(i&&i.subPackages.length>0){let o=i.subPackages.filter(a=>!NE.has(a)&&s(a));if(o.length>0){let a=[{title:`${i.name} ${(0,Q.dim)("(Ctrl+C)")}`,value:null},...o.map(u=>({title:`${(0,Q.dim)(i.name)}/${u}`,value:u}))],l=await(0,Tl.default)({type:"autocomplete",name:"subPackage",message:"Select a component subpackage (optional):",hint:"Type or use arrow keys. Press Enter to select",async suggest(u,c){return u=u.toLowerCase().replace(i.name,""),c.map(d=>{if(d.value===null)return{...d,distance:0};let f=d.value?d.value.trim().toLowerCase():i.name,m=0;return u.length===0?m=0:m=(0,xo.distance)(u,f),{...d,distance:m}}).sort((d,f)=>d.distance-f.distance).filter(d=>d.title.toLowerCase().includes(u))},choices:a});l.subPackage!==`${i.name} ${(0,Q.dim)("(Ctrl+C)")}`&&(n=`${t.package}/${l.subPackage}`)}}return n}var NE=new Set(["react","react-dom","next","nextjs","typescript","babel","webpack","eslint","prettier","jest","lodash","axios","express","moment","redux","react-redux","styled-components","emotion","@types/react","@types/node","utils","helpers","date-fns","constants","types","interfaces","hooks","gray-matter","context","providers","store","reducers","actions","services","api","clsx","class-variance-authority","lucide-react","dotenv","classnames"]),NF=e=>e.startsWith("@types")||e.startsWith("@emotion")||e.startsWith("@khulnasoft.com")||e.startsWith("eslint")||e.startsWith("prettier")||e.startsWith("jest")||e.startsWith("lodash")||e.startsWith("remark")||e.includes("autoprefixer")||e.includes("tailwind")||e.includes("postcss")||e.includes("webpack")||e.includes("babel")||e.includes("typescript")||e.includes("types")||e.includes("rollup")||e.includes("vite")||e.includes("esbuild")||e.includes("storybook")||e.includes("testing-library")||e.includes("cypress")?!0:NE.has(e);async function AE(e,r,t){let n="",i=r.toLowerCase();function s(l){let u=l.importName.toLowerCase(),c=(0,xo.distance)(u,i);return u.includes(i)&&(c-=i.length),c}let o=e.slice().sort((l,u)=>{let c=s(l),p=s(u);return c===p?l.importName.localeCompare(u.importName):c-p}).map(l=>{let u=`${l.importName}`;return s(l)<3?u=(0,Q.bold)((0,Q.yellow)("\u2605 ")+u):u=u,{title:n+u+(0,Q.dim)(` from '${l.importPath}'`),value:l}});return o.push({title:n+"\u23ED\uFE0F  Skip "+(0,Q.dim)("(Ctrl+C)"),value:"skip"}),t&&o.push({title:n+"\u{1F4E6} External npm package",value:"external package"}),(await(0,Tl.default)({type:"autocomplete",name:"component",message:` Select a code component to map ${(0,Q.bold)((0,Q.magenta)(`\u2756 ${r}`))}`,hint:"Type or use arrow keys. Press Enter to select",async suggest(l,u){l=l.toLowerCase();let c=l.length===0?i:l;return u.map(d=>{let f=(typeof d.value=="string"?d.value:d.value.importName).trim().toLowerCase(),m=0;return l.length===0&&typeof d.value=="string"?m=2:(m=(0,xo.distance)(c,f),f.includes(i)&&(m-=i.length),typeof d.value=="string"&&(m+=1e3)),{...d,distance:m}}).sort((d,f)=>d.distance-f.distance).filter(d=>d.value==="external package"||d.value==="skip"?!0:d.title.toLowerCase().includes(l))},choices:o})).component}async function*FF(e,r,t){let n=JSON.stringify(r),i=new URL(`${mr}/mappings/completions/v3`);e.khulnasoftPublicKey&&i.searchParams.set("apiKey",e.khulnasoftPublicKey),e.userId&&i.searchParams.set("userId",e.userId),t&&console.log("FETCH",i,n);let s={"Content-Type":"application/json"};e.khulnasoftPrivateKey&&(s.Authorization=`Bearer ${e.khulnasoftPrivateKey}`);let o=await nt(i,{method:"POST",body:n,headers:s});if(!o.ok)throw new Error(`Failed to generate completion:
`+await o.text());let a=ul(o.body);for await(let l of a){if(l.length===0)continue;yield JSON.parse(l)}}var Ut=K(Ze(),1);var FE=async(e,r,t)=>{if(!t.skipInstallation&&await _F(e)&&(t.yes||await Ct({message:"Welcome to Khulnasoft.com! Would you like to set up your integration now?",active:"Yes, let's integrate!",inactive:"No, I'll do it later"})?await pl("npm",["init","khulnasoft.com@latest","--","--skip-question"],{stdio:"inherit",cwd:e.getAppRootDir()}).command||(de(`Auto-install failed. You can install it manually by running ${(0,Ut.bold)("npm init khulnasoft.com@latest")}`),await ee(1)):de(`Ok, you can install it later. By running ${(0,Ut.bold)("npm init khulnasoft.com@latest")}`)),r==="migrate")await SE(e,t);else if(r==="publish"||r==="p")await gE(e,t);else if(r==="add"||r==="generate"||r==="gen"||r==="g")await IE(e,t);else if(r==="auth"){console.log(""),ot((0,Ut.bgCyan)((0,Ut.bold)((0,Ut.white)(" figma auth ")))+"  "+(0,Ut.dim)(ut));let{khulnasoftPublicKey:n}=await Ot(e,t,{figmaAuth:!0,khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0,force:!0});We("figma auth",{spaceId:n}),ct((0,Ut.bgGreen)((0,Ut.bold)((0,Ut.white)(" Done! \u{1F389} "))))}else r==="help"&&Er(t._[2])};async function _F(e){let r=e.getFrameworks(),t=["next","angular","@angular/core"];if(!r.some(n=>t.includes(n.name)))return!1;try{let n=await Gr(e,e.getRepoRootDir());if(!n||!!n.devDependencies?.["@khulnasoft.com/dev-tools"]||!!n.dependencies?.["@khulnasoft.com/dev-tools"])return!1}catch{return!1}return!0}var LE=K(require("@amplitude/analytics-node"),1);function md(e,r){return{cwd:e,command:r[0],snippetId:r[1],path:r[2]}}var us=K(require("@sentry/node"),1);var BE=K(Ze(),1),ME=K(Ze(),1),hd=K(Ze(),1),Eo=K(Ze(),1);async function kF(e){e.debug("khulnasoft dev tools cli init");let r=await(0,_E.createDevTools)(e);await(0,OE.createDevToolsServer)({...r,getClientId:()=>"khulnasoft-dev-tools-cli",closeAppServer:async()=>{},restartAppServer:async()=>{e.debug("restart server")},enableAppWatch:async t=>t,...e})}var $E=async()=>{await LE.flush().promise,process.exit(0)};process.on("SIGINT",$E);process.on("SIGTERM",$E);async function OF(){await ib();try{let e=(0,RE.default)(process.argv.slice(2),{string:["figmaToken","privateKey","spaceId","cwd","prompt","mode","token","url"],boolean:["help","ci","force","verbose","dryrun","yes","skipInstallation"]});if(e.help)return Er(e._[e._.length-1]),await ee(0);let r=e._[0];e.cwd&&(console.log("changing cwd",e.cwd),process.chdir(e.cwd));let t=await(0,kE.createDevToolsNodeSys)({cwd:process.cwd(),ignoreMissingConfig:!0});if(r==="figma"){let n=e._[1];try{await FE(t,n,e)}catch(i){return us.captureException(i),console.error(i),await ee(1)}}else if(r==="code"){let n=e._[1];try{await dE(t,n,e)}catch(i){return us.captureException(i),console.error(i),await ee(1)}}else if(r==="add"){let n=md(t.getAppRootDir(),process.argv.slice(2));await qb(n)}else if(r==="sync"){let n=md(t.getAppRootDir(),process.argv.slice(2)),i=await Fp(n);Zb(t,i).then(()=>{console.info("Khulnasoft dev tools is running")}).catch(s=>{us.captureException(s),console.error("Cannot start khulnasoft dev tools",s)})}else if(r==="auth"){console.log(""),ot((0,Eo.bgCyan)((0,hd.bold)((0,Eo.white)(" figma auth ")))+"  "+(0,BE.dim)(ut));let{khulnasoftPublicKey:n}=await Ot(t,e,{khulnasoftPrivateKey:!0,khulnasoftPublicKey:!0,force:!0});We("auth",{spaceId:n}),ct((0,ME.bgGreen)((0,hd.bold)((0,Eo.white)(" Done! \u{1F389} "))))}else{if(r==="help")return Er(e._[1]),await ee(0);if(r==="publish"||r==="migrate"||r==="generate")return de("Command not found, do you mean `npx khulnasoft.com figma "+r+"`?"),await ee(1);kF(t).then(()=>{console.info("Khulnasoft dev tools is running")}).catch(n=>{us.captureException(n),console.error("Cannot start khulnasoft dev tools",n)})}}catch(e){return us.captureException(e),console.error(e),await ee(1)}}OF();
//# sourceMappingURL=index.cjs.map
